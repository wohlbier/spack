

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>spack package &mdash; Spack 0.8 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Spack 0.8 documentation" href="index.html"/>
        <link rel="next" title="spack.cmd package" href="spack.cmd.html"/>
        <link rel="prev" title="Package List" href="package_list.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html">
        

        
          
          <img src="_static/spack-logo-white-text-48.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">Feature overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features.html#simple-package-installation">Simple package installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#custom-versions-configurations">Custom versions &amp; configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#customize-dependencies">Customize dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#non-destructive-installs">Non-destructive installs</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#packages-can-peacefully-coexist">Packages can peacefully coexist</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#creating-packages-is-easy">Creating packages is easy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">Basic usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#listing-available-packages">Listing available packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-list"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">list</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-info"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">info</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-versions"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">versions</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#installing-and-uninstalling">Installing and uninstalling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-install"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">install</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#building-a-specific-version">Building a specific version</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-uninstall"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">uninstall</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#seeing-installed-packages">Seeing installed packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-find"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">find</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#compiler-configuration">Compiler configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-compilers"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">compilers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-compiler-add"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">compiler</span> <span class="pre">add</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-compiler-find"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">compiler</span> <span class="pre">find</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-compiler-info"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">compiler</span> <span class="pre">info</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#manual-compiler-configuration">Manual compiler configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#specs-dependencies">Specs &amp; dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#version-specifier">Version specifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#compiler-specifier">Compiler specifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#variants">Variants</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#architecture-specifier">Architecture specifier</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#virtual-dependencies">Virtual dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#constraining-virtual-packages">Constraining virtual packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-providers"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">providers</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#environment-modules">Environment modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#installing-environment-modules">Installing Environment Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-and-environment-modules">Spack and Environment Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#using-modules-dotkits">Using Modules &amp; Dotkits</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#ambiguous-module-names">Ambiguous module names</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#regenerating-module-files">Regenerating Module files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basic_usage.html#spack-module-refresh"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">module</span> <span class="pre">refresh</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#extensions-python-support">Extensions &amp; Python support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-extensions"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">extensions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#extensions-environment-modules">Extensions &amp; Environment Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#activating-extensions">Activating Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basic_usage.html#spack-activate"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">activate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_usage.html#spack-activate-f"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">activate</span> <span class="pre">-f</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="basic_usage.html#spack-deactivate"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">deactivate</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basic_usage.html#getting-help">Getting Help</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basic_usage.html#spack-help"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">help</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="packaging_guide.html">Packaging Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#creating-editing-packages">Creating &amp; editing packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-create"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">create</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-edit"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">edit</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-edit-f"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">edit</span> <span class="pre">-f</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#naming-directory-structure">Naming &amp; directory structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#var-spack-repos-builtin-packages"><code class="docutils literal"><span class="pre">var/spack/repos/builtin/packages</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#package-names">Package Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#package-class-names">Package class names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#adding-new-versions">Adding new versions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#version-urls">Version URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#skipping-the-expand-step">Skipping the expand step</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#checksums">Checksums</a><ul>
<li class="toctree-l4"><a class="reference internal" href="packaging_guide.html#spack-md5"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">md5</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="packaging_guide.html#spack-checksum"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">checksum</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#fetching-from-vcs-repositories">Fetching from VCS repositories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#repositories-and-versions">Repositories and versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#git">Git</a><ul>
<li class="toctree-l4"><a class="reference internal" href="packaging_guide.html#installing">Installing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#mercurial">Mercurial</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#subversion">Subversion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#patches">Patches</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#patch"><code class="docutils literal"><span class="pre">patch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#patch-functions"><code class="docutils literal"><span class="pre">patch()</span></code> functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#handling-rpaths">Handling RPATHs</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#finding-new-versions">Finding new versions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#list-url"><code class="docutils literal"><span class="pre">list_url</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#list-depth"><code class="docutils literal"><span class="pre">list_depth</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#parallel-builds">Parallel builds</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#depends-on"><code class="docutils literal"><span class="pre">depends_on()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#dependency-specs">Dependency specs</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#setup-dependent-environment"><code class="docutils literal"><span class="pre">setup_dependent_environment()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#extensions">Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#activation-deactivation">Activation &amp; deactivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#activation-arguments">Activation arguments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#virtual-dependencies">Virtual dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#provides"><code class="docutils literal"><span class="pre">provides</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#versioned-interfaces">Versioned Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#provides-when"><code class="docutils literal"><span class="pre">provides</span> <span class="pre">when</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#abstract-concrete-specs">Abstract &amp; concrete specs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#concretization">Concretization</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-spec"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">spec</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#concretization-policies"><code class="docutils literal"><span class="pre">Concretization</span> <span class="pre">Policies</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#implementing-the-install-method">Implementing the <code class="docutils literal"><span class="pre">install</span></code> method</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#the-install-environment">The install environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#environment-variables">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#compiler-interceptors">Compiler interceptors</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#compiler-flags">Compiler flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#message-parsing-interface-mpi">Message Parsing Interface (MPI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#forking-install">Forking <code class="docutils literal"><span class="pre">install()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#failing-the-build">Failing the build</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#id12">Prefix objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#spec-objects">Spec objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#testing-spec-constraints">Testing spec constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#accessing-dependencies">Accessing Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#multimethods-and-when">Multimethods and <code class="docutils literal"><span class="pre">&#64;when</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#shell-command-functions">Shell command functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#sanity-checking-an-intallation">Sanity checking an intallation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#sanity-check-is-file-and-sanity-check-is-dir"><code class="docutils literal"><span class="pre">sanity_check_is_file</span></code> and <code class="docutils literal"><span class="pre">sanity_check_is_dir</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#file-manipulation-functions">File manipulation functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#filtering-functions">Filtering functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#file-functions">File functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#packaging-workflow-commands">Packaging workflow commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-fetch"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">fetch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-stage"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">stage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-patch"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">patch</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-restage"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">restage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-clean"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">clean</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-purge"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">purge</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#keeping-the-stage-directory-on-success">Keeping the stage directory on success</a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#keeping-the-install-prefix-on-failure">Keeping the install prefix on failure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#graphing-dependencies">Graphing dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-graph"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">graph</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packaging_guide.html#interactive-shell-support">Interactive shell support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-cd"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">cd</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-env"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">env</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="packaging_guide.html#spack-location"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">location</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mirrors.html">Mirrors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#spack-mirror"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">mirror</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#spack-mirror-create"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">mirror</span> <span class="pre">create</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="mirrors.html#custom-package-sets">Custom package sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="mirrors.html#mirror-files">Mirror files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#spack-mirror-add"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">mirror</span> <span class="pre">add</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#spack-mirror-list"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">mirror</span> <span class="pre">list</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#spack-mirror-remove"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">mirror</span> <span class="pre">remove</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="mirrors.html#mirror-precedence">Mirror precedence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="site_configuration.html">Site configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="site_configuration.html#temporary-space">Temporary space</a><ul>
<li class="toctree-l3"><a class="reference internal" href="site_configuration.html#external-packages">External Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="site_configuration.html#profiling">Profiling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="site_configuration.html#spack-p"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">-p</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#directory-structure">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#code-structure">Code Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#package-related-modules">Package-related modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#spec-related-modules">Spec-related modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#build-environment">Build environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#spack-subcommands">Spack Subcommands</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#unit-tests">Unit tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#other-modules">Other Modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#spec-objects">Spec objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#package-objects">Package objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#stage-objects">Stage objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#writing-commands">Writing commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#id3">Unit tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#unit-testing">Unit testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#developer-commands">Developer commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#spack-doc"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">doc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer_guide.html#spack-test"><code class="docutils literal"><span class="pre">spack</span> <span class="pre">test</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command_index.html">Command index</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_list.html">Package List</a><ul>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#activeharmony">activeharmony</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#adept-utils">adept-utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#adol-c">adol-c</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#antlr">antlr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#apex">apex</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#apr">apr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#apr-util">apr-util</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#arpack">arpack</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#arpack-ng">arpack-ng</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#asciidoc">asciidoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#astyle">astyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#atk">atk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#atlas">atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#atop">atop</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#autoconf">autoconf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#automaded">automaded</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#automake">automake</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bash">bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bbcp">bbcp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bear">bear</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bib2xhtml">bib2xhtml</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#binutils">binutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bison">bison</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#blitz">blitz</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#boost">boost</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bowtie2">bowtie2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#boxlib">boxlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#bzip2">bzip2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cairo">cairo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#caliper">caliper</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#callpath">callpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cblas">cblas</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cbtf">cbtf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cbtf-argonavis">cbtf-argonavis</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cbtf-krell">cbtf-krell</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cbtf-lanl">cbtf-lanl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cereal">cereal</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cfitsio">cfitsio</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cgal">cgal</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cgm">cgm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cityhash">cityhash</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cleverleaf">cleverleaf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cloog">cloog</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cmake">cmake</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cmocka">cmocka</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cnmem">cnmem</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#coreutils">coreutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cppcheck">cppcheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cram">cram</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cryptopp">cryptopp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cscope">cscope</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cube">cube</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#cuda">cuda</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#curl">curl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#czmq">czmq</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dakota">dakota</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#damselfly">damselfly</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dbus">dbus</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dealii">dealii</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dia">dia</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#docbook-xml">docbook-xml</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#doxygen">doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dri2proto">dri2proto</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dtcmp">dtcmp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#dyninst">dyninst</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#eigen">eigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#elfutils">elfutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#elk">elk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#elpa">elpa</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#emacs">emacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#environment-modules">environment-modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#espresso">espresso</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#exodusii">exodusii</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#expat">expat</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#extrae">extrae</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#exuberant-ctags">exuberant-ctags</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#fftw">fftw</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#fish">fish</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#flex">flex</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#fltk">fltk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#flux">flux</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#fontconfig">fontconfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#freetype">freetype</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gasnet">gasnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gcc">gcc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gdal">gdal</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gdb">gdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gdk-pixbuf">gdk-pixbuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#geos">geos</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gettext">gettext</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gflags">gflags</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ghostscript">ghostscript</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#git">git</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gl2ps">gl2ps</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#glib">glib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#glm">glm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#global">global</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#glog">glog</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#glpk">glpk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gmp">gmp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gmsh">gmsh</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gnuplot">gnuplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gnutls">gnutls</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#googletest">googletest</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gperf">gperf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gperftools">gperftools</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#graphlib">graphlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#graphviz">graphviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gromacs">gromacs</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gsl">gsl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#gtkplus">gtkplus</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#harfbuzz">harfbuzz</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hdf">hdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hdf5">hdf5</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hoomd-blue">hoomd-blue</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hpx5">hpx5</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hwloc">hwloc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hydra">hydra</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#hypre">hypre</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#icu">icu</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#icu4c">icu4c</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#imagemagick">ImageMagick</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#intltool">intltool</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ior">ior</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ipopt">ipopt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#isl">isl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#jdk">jdk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#jemalloc">jemalloc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#jpeg">jpeg</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#judy">judy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#julia">julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#kealib">kealib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#kripke">kripke</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#launchmon">launchmon</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lcms">lcms</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#leveldb">leveldb</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libarchive">libarchive</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libcerf">libcerf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libcircle">libcircle</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libdrm">libdrm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libdwarf">libdwarf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libedit">libedit</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libelf">libelf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libevent">libevent</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libffi">libffi</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libgcrypt">libgcrypt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libgd">libgd</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libgpg-error">libgpg-error</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libjpeg-turbo">libjpeg-turbo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libjson-c">libjson-c</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libmng">libmng</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libmonitor">libmonitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libnbc">libNBC</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libpciaccess">libpciaccess</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libpng">libpng</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libsigsegv">libsigsegv</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libsodium">libsodium</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libtermkey">libtermkey</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libtiff">libtiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libtool">libtool</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libunwind">libunwind</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libuuid">libuuid</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libuv">libuv</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libvterm">libvterm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libxc">libxc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libxcb">libxcb</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libxml2">libxml2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libxshmfence">libxshmfence</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#libxslt">libxslt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#llvm">llvm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#llvm-lld">llvm-lld</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lmdb">lmdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lmod">lmod</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lua">lua</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#luajit">LuaJIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lwgrp">lwgrp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#lwm2">lwm2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#m4">m4</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#matio">matio</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mbedtls">mbedtls</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#memaxes">memaxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mesa">mesa</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#metis">metis</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mfem">mfem</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mitos">Mitos</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpc">mpc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpe2">mpe2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpfr">mpfr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpibash">mpibash</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpich">mpich</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mpileaks">mpileaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mrnet">mrnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#msgpack-c">msgpack-c</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mumps">mumps</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#munge">munge</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#muparser">muparser</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#muster">muster</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#mvapich2">mvapich2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#nasm">nasm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#nccmp">nccmp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ncdu">ncdu</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#nco">nco</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ncurses">ncurses</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ncview">ncview</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ndiff">ndiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netcdf">netcdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netcdf-cxx">netcdf-cxx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netcdf-cxx4">netcdf-cxx4</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netcdf-fortran">netcdf-fortran</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netgauge">netgauge</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netlib-lapack">netlib-lapack</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#netlib-scalapack">netlib-scalapack</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#nettle">nettle</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ninja">ninja</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#numdiff">numdiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#oce">oce</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#octave">octave</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ompss">ompss</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ompt-openmp">ompt-openmp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#opari2">opari2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#openblas">openblas</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#opencv">opencv</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#openjpeg">openjpeg</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#openmpi">openmpi</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#openspeedshop">openspeedshop</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#openssl">openssl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#osu-micro-benchmarks">osu-micro-benchmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#otf">otf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#otf2">otf2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#p4est">p4est</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pango">pango</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#papi">papi</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#paradiseo">paradiseo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#parallel-netcdf">parallel-netcdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#paraver">paraver</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#paraview">paraview</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#parmetis">parmetis</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#parpack">parpack</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#patchelf">patchelf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pcre">pcre</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pcre2">pcre2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pdt">pdt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#petsc">petsc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pidx">pidx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pixman">pixman</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pkg-config">pkg-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#pmgr-collective">pmgr_collective</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#postgresql">postgresql</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ppl">ppl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#proj">proj</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#protobuf">protobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-argcomplete">py-argcomplete</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-astropy">py-astropy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-basemap">py-basemap</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-biopython">py-biopython</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-blessings">py-blessings</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-bottleneck">py-bottleneck</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-cffi">py-cffi</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-coverage">py-coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-csvkit">py-csvkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-cython">py-cython</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-dask">py-dask</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-dateutil">py-dateutil</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-dbf">py-dbf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-decorator">py-decorator</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-epydoc">py-epydoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-funcsigs">py-funcsigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-genders">py-genders</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-gnuplot">py-gnuplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-h5py">py-h5py</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-ipython">py-ipython</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-jdcal">py-jdcal</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-lockfile">py-lockfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mako">py-mako</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-matplotlib">py-matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mock">py-mock</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mpi4py">py-mpi4py</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mpmath">py-mpmath</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mx">py-mx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-mysqldb1">py-mysqldb1</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-netcdf">py-netcdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-networkx">py-networkx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-nose">py-nose</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-numexpr">py-numexpr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-numpy">py-numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-openpyxl">py-openpyxl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pandas">py-pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pbr">py-pbr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-periodictable">py-periodictable</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pexpect">py-pexpect</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-phonopy">py-phonopy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pil">py-pil</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pillow">py-pillow</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pmw">py-pmw</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pychecker">py-pychecker</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pycparser">py-pycparser</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pyelftools">py-pyelftools</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pygments">py-pygments</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pylint">py-pylint</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pypar">py-pypar</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pyparsing">py-pyparsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pyqt">py-pyqt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pyside">py-pyside</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pytables">py-pytables</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-python-daemon">py-python-daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pytz">py-pytz</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-pyyaml">py-pyyaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-rpy2">py-rpy2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-scientificpython">py-scientificpython</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-scikit-image">py-scikit-image</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-scikit-learn">py-scikit-learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-scipy">py-scipy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-setuptools">py-setuptools</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-shiboken">py-shiboken</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-sip">py-sip</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-six">py-six</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-sphinx">py-sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-sqlalchemy">py-SQLAlchemy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-sympy">py-sympy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-tappy">py-tappy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-tuiview">py-tuiview</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-twisted">py-twisted</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-urwid">py-urwid</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-virtualenv">py-virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-wheel">py-wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-xlrd">py-xlrd</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#py-yapf">py-yapf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#python">python</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#qhull">qhull</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#qrupdate">qrupdate</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#qt">qt</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#qthreads">qthreads</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#r">R</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#r-abind">r-abind</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#r-biocgenerics">r-BiocGenerics</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#r-filehash">r-filehash</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#r-magic">r-magic</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#raja">raja</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ravel">ravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#readline">readline</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#rose">rose</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#rsync">rsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#ruby">ruby</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#samrai">SAMRAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#samtools">samtools</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#scalasca">scalasca</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#scons">scons</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#scorep">scorep</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#scotch">scotch</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#scr">scr</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#serf">serf</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#silo">silo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#slepc">slepc</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#snappy">snappy</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#sparsehash">sparsehash</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#spindle">spindle</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#spot">spot</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#sqlite">sqlite</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#stat">stat</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#subversion">subversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#suite-sparse">suite-sparse</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#sundials">sundials</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#superlu-dist">superlu-dist</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#swig">swig</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#szip">szip</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tar">tar</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#task">task</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#taskd">taskd</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tau">tau</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tbb">tbb</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tcl">tcl</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tetgen">tetgen</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#texinfo">texinfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#the-silver-searcher">the_silver_searcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#thrift">thrift</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tk">tk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tmux">tmux</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#tmuxinator">tmuxinator</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#triangle">triangle</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#trilinos">trilinos</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#turbomole">turbomole</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#udunits2">udunits2</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#uncrustify">uncrustify</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#unibilium">unibilium</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#util-linux">util-linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#valgrind">valgrind</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#vim">vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#visit">visit</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#vtk">vtk</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#wget">wget</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#wx">wx</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#wxpropgrid">wxpropgrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#xcb-proto">xcb-proto</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#xerces-c">xerces-c</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#xz">xz</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#yasm">yasm</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#zeromq">zeromq</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#zfp">zfp</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#zlib">zlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#zoltan">zoltan</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_list.html#zsh">zsh</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">API Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spack.cmd.html">spack.cmd package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.activate">spack.cmd.activate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.arch">spack.cmd.arch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.bootstrap">spack.cmd.bootstrap module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.cd">spack.cmd.cd module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.checksum">spack.cmd.checksum module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.clean">spack.cmd.clean module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.compiler">spack.cmd.compiler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.compilers">spack.cmd.compilers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.config">spack.cmd.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.create">spack.cmd.create module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.deactivate">spack.cmd.deactivate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.dependents">spack.cmd.dependents module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.diy">spack.cmd.diy module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.doc">spack.cmd.doc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.edit">spack.cmd.edit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.env">spack.cmd.env module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.extensions">spack.cmd.extensions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.fetch">spack.cmd.fetch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.find">spack.cmd.find module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.graph">spack.cmd.graph module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.help">spack.cmd.help module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.info">spack.cmd.info module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.install">spack.cmd.install module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.list">spack.cmd.list module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.load">spack.cmd.load module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.location">spack.cmd.location module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.md5">spack.cmd.md5 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.mirror">spack.cmd.mirror module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.module">spack.cmd.module module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#spack-cmd-package-list-module">spack.cmd.package-list module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.patch">spack.cmd.patch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.pkg">spack.cmd.pkg module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.providers">spack.cmd.providers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.purge">spack.cmd.purge module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.python">spack.cmd.python module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.reindex">spack.cmd.reindex module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.repo">spack.cmd.repo module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.restage">spack.cmd.restage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.spec">spack.cmd.spec module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.stage">spack.cmd.stage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#spack-cmd-test-install-module">spack.cmd.test-install module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.test">spack.cmd.test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.uninstall">spack.cmd.uninstall module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.unload">spack.cmd.unload module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.unuse">spack.cmd.unuse module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#spack-cmd-url-parse-module">spack.cmd.url-parse module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.urls">spack.cmd.urls module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.use">spack.cmd.use module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.versions">spack.cmd.versions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.cmd.html#module-spack.cmd">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.compilers.html">spack.compilers package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.clang">spack.compilers.clang module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.gcc">spack.compilers.gcc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.intel">spack.compilers.intel module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.nag">spack.compilers.nag module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.pgi">spack.compilers.pgi module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.xl">spack.compilers.xl module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.compilers.html#module-spack.compilers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.hooks.html">spack.hooks package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.dotkit">spack.hooks.dotkit module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.extensions">spack.hooks.extensions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.sbang">spack.hooks.sbang module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.tclmodule">spack.hooks.tclmodule module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.hooks.html#module-spack.hooks">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.test.html">spack.test package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.cc">spack.test.cc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.concretize">spack.test.concretize module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.config">spack.test.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.configure_guess">spack.test.configure_guess module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.database">spack.test.database module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.directory_layout">spack.test.directory_layout module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.environment">spack.test.environment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.git_fetch">spack.test.git_fetch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.hg_fetch">spack.test.hg_fetch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.install">spack.test.install module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.link_tree">spack.test.link_tree module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.lock">spack.test.lock module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.make_executable">spack.test.make_executable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.mirror">spack.test.mirror module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.mock_database">spack.test.mock_database module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.mock_packages_test">spack.test.mock_packages_test module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.mock_repo">spack.test.mock_repo module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.multimethod">spack.test.multimethod module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.namespace_trie">spack.test.namespace_trie module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.optional_deps">spack.test.optional_deps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.package_sanity">spack.test.package_sanity module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.packages">spack.test.packages module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.pattern">spack.test.pattern module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.python_version">spack.test.python_version module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.sbang">spack.test.sbang module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.spec_dag">spack.test.spec_dag module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.spec_semantics">spack.test.spec_semantics module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.spec_syntax">spack.test.spec_syntax module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.spec_yaml">spack.test.spec_yaml module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.stage">spack.test.stage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.svn_fetch">spack.test.svn_fetch module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.tally_plugin">spack.test.tally_plugin module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.url_extrapolate">spack.test.url_extrapolate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.url_parse">spack.test.url_parse module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.url_substitution">spack.test.url_substitution module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.versions">spack.test.versions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test.yaml">spack.test.yaml module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.html#module-spack.test">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spack.util.html">spack.util package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.compression">spack.util.compression module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.crypto">spack.util.crypto module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.debug">spack.util.debug module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.environment">spack.util.environment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.executable">spack.util.executable module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.multiproc">spack.util.multiproc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.naming">spack.util.naming module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.pattern">spack.util.pattern module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.prefix">spack.util.prefix module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.spack_yaml">spack.util.spack_yaml module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.string">spack.util.string module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util.web">spack.util.web module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.util.html#module-spack.util">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.abi">spack.abi module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.architecture">spack.architecture module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.build_environment">spack.build_environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.compiler">spack.compiler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.concretize">spack.concretize module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.config">spack.config module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-file-scopes">Configuration file scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-file-format">Configuration file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#precedence">Precedence</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.database">spack.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.directives">spack.directives module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.directory_layout">spack.directory_layout module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.environment">spack.environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.error">spack.error module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.fetch_strategy">spack.fetch_strategy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.graph">spack.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.mirror">spack.mirror module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.modules">spack.modules module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.multimethod">spack.multimethod module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.package">spack.package module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.parse">spack.parse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.patch">spack.patch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.preferred_packages">spack.preferred_packages module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.repository">spack.repository module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.resource">spack.resource module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.spec">spack.spec module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.stage">spack.stage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.url">spack.url module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.variant">spack.variant module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.version">spack.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack.virtual">spack.virtual module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spack">Module contents</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Spack</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>spack package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/spack.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="spack-package">
<h1>spack package<a class="headerlink" href="#spack-package" title="Permalink to this headline"></a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="spack.cmd.html">spack.cmd package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.activate">spack.cmd.activate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.arch">spack.cmd.arch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.bootstrap">spack.cmd.bootstrap module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.cd">spack.cmd.cd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.checksum">spack.cmd.checksum module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.clean">spack.cmd.clean module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.compiler">spack.cmd.compiler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.compilers">spack.cmd.compilers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.config">spack.cmd.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.create">spack.cmd.create module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.deactivate">spack.cmd.deactivate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.dependents">spack.cmd.dependents module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.diy">spack.cmd.diy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.doc">spack.cmd.doc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.edit">spack.cmd.edit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.env">spack.cmd.env module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.extensions">spack.cmd.extensions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.fetch">spack.cmd.fetch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.find">spack.cmd.find module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.graph">spack.cmd.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.help">spack.cmd.help module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.info">spack.cmd.info module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.install">spack.cmd.install module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.list">spack.cmd.list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.load">spack.cmd.load module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.location">spack.cmd.location module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.md5">spack.cmd.md5 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.mirror">spack.cmd.mirror module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.module">spack.cmd.module module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#spack-cmd-package-list-module">spack.cmd.package-list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.patch">spack.cmd.patch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.pkg">spack.cmd.pkg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.providers">spack.cmd.providers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.purge">spack.cmd.purge module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.python">spack.cmd.python module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.reindex">spack.cmd.reindex module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.repo">spack.cmd.repo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.restage">spack.cmd.restage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.spec">spack.cmd.spec module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.stage">spack.cmd.stage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#spack-cmd-test-install-module">spack.cmd.test-install module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.test">spack.cmd.test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.uninstall">spack.cmd.uninstall module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.unload">spack.cmd.unload module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.unuse">spack.cmd.unuse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#spack-cmd-url-parse-module">spack.cmd.url-parse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.urls">spack.cmd.urls module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.use">spack.cmd.use module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd.versions">spack.cmd.versions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.cmd.html#module-spack.cmd">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spack.compilers.html">spack.compilers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.clang">spack.compilers.clang module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.gcc">spack.compilers.gcc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.intel">spack.compilers.intel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.nag">spack.compilers.nag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.pgi">spack.compilers.pgi module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers.xl">spack.compilers.xl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.compilers.html#module-spack.compilers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spack.hooks.html">spack.hooks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.dotkit">spack.hooks.dotkit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.extensions">spack.hooks.extensions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.sbang">spack.hooks.sbang module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#module-spack.hooks.tclmodule">spack.hooks.tclmodule module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.hooks.html#module-spack.hooks">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spack.test.html">spack.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spack.test.cmd.html">spack.test.cmd package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spack.test.cmd.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.cmd.html#module-spack.test.cmd.test_install">spack.test.cmd.test_install module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.cmd.html#module-spack.test.cmd.uninstall">spack.test.cmd.uninstall module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spack.test.cmd.html#module-spack.test.cmd">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.cc">spack.test.cc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.concretize">spack.test.concretize module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.config">spack.test.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.configure_guess">spack.test.configure_guess module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.database">spack.test.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.directory_layout">spack.test.directory_layout module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.environment">spack.test.environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.git_fetch">spack.test.git_fetch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.hg_fetch">spack.test.hg_fetch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.install">spack.test.install module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.link_tree">spack.test.link_tree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.lock">spack.test.lock module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.make_executable">spack.test.make_executable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.mirror">spack.test.mirror module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.mock_database">spack.test.mock_database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.mock_packages_test">spack.test.mock_packages_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.mock_repo">spack.test.mock_repo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.multimethod">spack.test.multimethod module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.namespace_trie">spack.test.namespace_trie module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.optional_deps">spack.test.optional_deps module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.package_sanity">spack.test.package_sanity module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.packages">spack.test.packages module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.pattern">spack.test.pattern module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.python_version">spack.test.python_version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.sbang">spack.test.sbang module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.spec_dag">spack.test.spec_dag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.spec_semantics">spack.test.spec_semantics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.spec_syntax">spack.test.spec_syntax module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.spec_yaml">spack.test.spec_yaml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.stage">spack.test.stage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.svn_fetch">spack.test.svn_fetch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.tally_plugin">spack.test.tally_plugin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.url_extrapolate">spack.test.url_extrapolate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.url_parse">spack.test.url_parse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.url_substitution">spack.test.url_substitution module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.versions">spack.test.versions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test.yaml">spack.test.yaml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.test.html#module-spack.test">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="spack.util.html">spack.util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.compression">spack.util.compression module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.crypto">spack.util.crypto module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.debug">spack.util.debug module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.environment">spack.util.environment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.executable">spack.util.executable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.multiproc">spack.util.multiproc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.naming">spack.util.naming module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.pattern">spack.util.pattern module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.prefix">spack.util.prefix module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.spack_yaml">spack.util.spack_yaml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.string">spack.util.string module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util.web">spack.util.web module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spack.util.html#module-spack.util">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</div>
<div class="section" id="module-spack.abi">
<span id="spack-abi-module"></span><h2>spack.abi module<a class="headerlink" href="#module-spack.abi" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.abi.ABI">
<em class="property">class </em><code class="descclassname">spack.abi.</code><code class="descname">ABI</code><a class="headerlink" href="#spack.abi.ABI" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class provides methods to test ABI compatibility between specs.
The current implementation is rather rough and could be improved.</p>
<dl class="method">
<dt id="spack.abi.ABI.architecture_compatible">
<code class="descname">architecture_compatible</code><span class="sig-paren">(</span><em>parent</em>, <em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.abi.ABI.architecture_compatible" title="Permalink to this definition"></a></dt>
<dd><p>Returns true iff the parent and child specs have ABI compatible architectures.</p>
</dd></dl>

<dl class="method">
<dt id="spack.abi.ABI.compatible">
<code class="descname">compatible</code><span class="sig-paren">(</span><em>parent</em>, <em>child</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.abi.ABI.compatible" title="Permalink to this definition"></a></dt>
<dd><p>Returns true iff a parent and child spec are ABI compatible</p>
</dd></dl>

<dl class="method">
<dt id="spack.abi.ABI.compiler_compatible">
<code class="descname">compiler_compatible</code><span class="sig-paren">(</span><em>parent</em>, <em>child</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.abi.ABI.compiler_compatible" title="Permalink to this definition"></a></dt>
<dd><p>Returns true iff the compilers for parent and child specs are ABI compatible</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.architecture">
<span id="spack-architecture-module"></span><h2>spack.architecture module<a class="headerlink" href="#module-spack.architecture" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.architecture.InvalidSysTypeError">
<em class="property">exception </em><code class="descclassname">spack.architecture.</code><code class="descname">InvalidSysTypeError</code><span class="sig-paren">(</span><em>sys_type</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.architecture.InvalidSysTypeError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.architecture.NoSysTypeError">
<em class="property">exception </em><code class="descclassname">spack.architecture.</code><code class="descname">NoSysTypeError</code><a class="headerlink" href="#spack.architecture.NoSysTypeError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="spack.architecture.get_sys_type_from_environment">
<code class="descclassname">spack.architecture.</code><code class="descname">get_sys_type_from_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.architecture.get_sys_type_from_environment" title="Permalink to this definition"></a></dt>
<dd><p>Return $SYS_TYPE or None if it&#8217;s not defined.</p>
</dd></dl>

<dl class="function">
<dt id="spack.architecture.get_sys_type_from_platform">
<code class="descclassname">spack.architecture.</code><code class="descname">get_sys_type_from_platform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.architecture.get_sys_type_from_platform" title="Permalink to this definition"></a></dt>
<dd><p>Return the architecture from Python&#8217;s platform module.</p>
</dd></dl>

<dl class="function">
<dt id="spack.architecture.get_sys_type_from_spack_globals">
<code class="descclassname">spack.architecture.</code><code class="descname">get_sys_type_from_spack_globals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.architecture.get_sys_type_from_spack_globals" title="Permalink to this definition"></a></dt>
<dd><p>Return the SYS_TYPE from spack globals, or None if it isn&#8217;t set.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.build_environment">
<span id="spack-build-environment-module"></span><h2>spack.build_environment module<a class="headerlink" href="#module-spack.build_environment" title="Permalink to this headline"></a></h2>
<p>This module contains all routines related to setting up the package
build environment.  All of this is set up by package.py just before
install() is called.</p>
<p>There are two parts to the build environment:</p>
<ol class="arabic">
<li><p class="first">Python build environment (i.e. install() method)</p>
<p>This is how things are set up when install() is called.  Spack
takes advantage of each package being in its own module by adding a
bunch of command-like functions (like configure(), make(), etc.) in
the package&#8217;s module scope.  Ths allows package writers to call
them all directly in Package.install() without writing &#8216;self.&#8217;
everywhere.  No, this isn&#8217;t Pythonic.  Yes, it makes the code more
readable and more like the shell script from which someone is
likely porting.</p>
</li>
<li><p class="first">Build execution environment</p>
<p>This is the set of environment variables, like PATH, CC, CXX,
etc. that control the build.  There are also a number of
environment variables used to pass information (like RPATHs and
other information about dependencies) to Spack&#8217;s compiler wrappers.
All of these env vars are also set up here.</p>
</li>
</ol>
<p>Skimming this module is a nice way to get acquainted with the types of
calls you can make from within the install() function.</p>
<dl class="exception">
<dt id="spack.build_environment.InstallError">
<em class="property">exception </em><code class="descclassname">spack.build_environment.</code><code class="descname">InstallError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.InstallError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when a package fails to install</p>
</dd></dl>

<dl class="class">
<dt id="spack.build_environment.MakeExecutable">
<em class="property">class </em><code class="descclassname">spack.build_environment.</code><code class="descname">MakeExecutable</code><span class="sig-paren">(</span><em>name</em>, <em>jobs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.MakeExecutable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spack.util.html#spack.util.executable.Executable" title="spack.util.executable.Executable"><code class="xref py py-class docutils literal"><span class="pre">spack.util.executable.Executable</span></code></a></p>
<p>Special callable executable object for make so the user can
specify parallel or not on a per-invocation basis.  Using
&#8216;parallel&#8217; as a kwarg will override whatever the package&#8217;s
global setting is, so you can either default to true or false
and override particular calls.</p>
<p>Note that if the SPACK_NO_PARALLEL_MAKE env var is set it overrides
everything.</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.fork">
<code class="descclassname">spack.build_environment.</code><code class="descname">fork</code><span class="sig-paren">(</span><em>pkg</em>, <em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.fork" title="Permalink to this definition"></a></dt>
<dd><p>Fork a child process to do part of a spack build.</p>
<p>Arguments:</p>
<dl class="docutils">
<dt>pkg &#8211; pkg whose environemnt we should set up the</dt>
<dd>forked process for.</dd>
</dl>
<p>function &#8211; arg-less function to run in the child process.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd><dl class="first docutils">
<dt>def child_fun():</dt>
<dd># do stuff</dd>
</dl>
<p class="last">build_env.fork(pkg, child_fun)</p>
</dd>
</dl>
<p>Forked processes are run with the build environment set up by
spack.build_environment.  This allows package authors to have
full control over the environment, etc. without affecting
other builds that might be executed in the same spack call.</p>
<p>If something goes wrong, the child process is expected to print
the error and the parent process will exit with error as
well. If things go well, the child exits and the parent
carries on.</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.get_rpaths">
<code class="descclassname">spack.build_environment.</code><code class="descname">get_rpaths</code><span class="sig-paren">(</span><em>pkg</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.get_rpaths" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of all the rpaths for a package.</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.parent_class_modules">
<code class="descclassname">spack.build_environment.</code><code class="descname">parent_class_modules</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.parent_class_modules" title="Permalink to this definition"></a></dt>
<dd><p>Get list of super class modules that are all descend from spack.Package</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.set_build_environment_variables">
<code class="descclassname">spack.build_environment.</code><code class="descname">set_build_environment_variables</code><span class="sig-paren">(</span><em>pkg</em>, <em>env</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.set_build_environment_variables" title="Permalink to this definition"></a></dt>
<dd><p>This ensures a clean install environment when we build packages</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.set_compiler_environment_variables">
<code class="descclassname">spack.build_environment.</code><code class="descname">set_compiler_environment_variables</code><span class="sig-paren">(</span><em>pkg</em>, <em>env</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.set_compiler_environment_variables" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.build_environment.set_module_variables_for_package">
<code class="descclassname">spack.build_environment.</code><code class="descname">set_module_variables_for_package</code><span class="sig-paren">(</span><em>pkg</em>, <em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.set_module_variables_for_package" title="Permalink to this definition"></a></dt>
<dd><p>Populate the module scope of install() with some useful functions.
This makes things easier for package writers.</p>
</dd></dl>

<dl class="function">
<dt id="spack.build_environment.setup_package">
<code class="descclassname">spack.build_environment.</code><code class="descname">setup_package</code><span class="sig-paren">(</span><em>pkg</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.build_environment.setup_package" title="Permalink to this definition"></a></dt>
<dd><p>Execute all environment setup routines.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.compiler">
<span id="spack-compiler-module"></span><h2>spack.compiler module<a class="headerlink" href="#module-spack.compiler" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.compiler.Compiler">
<em class="property">class </em><code class="descclassname">spack.compiler.</code><code class="descname">Compiler</code><span class="sig-paren">(</span><em>cspec</em>, <em>cc</em>, <em>cxx</em>, <em>f77</em>, <em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class encapsulates a Spack &#8220;compiler&#8221;, which includes C,
C++, and Fortran compilers.  Subclasses should implement
support for specific compilers, their possible names, arguments,
and how to identify the particular type of compiler.</p>
<dl class="attribute">
<dt id="spack.compiler.Compiler.cc_names">
<code class="descname">cc_names</code><em class="property"> = []</em><a class="headerlink" href="#spack.compiler.Compiler.cc_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.cc_rpath_arg">
<code class="descname">cc_rpath_arg</code><a class="headerlink" href="#spack.compiler.Compiler.cc_rpath_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.cc_version">
<em class="property">classmethod </em><code class="descname">cc_version</code><span class="sig-paren">(</span><em>cc</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.cc_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.cxx11_flag">
<code class="descname">cxx11_flag</code><a class="headerlink" href="#spack.compiler.Compiler.cxx11_flag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.cxx14_flag">
<code class="descname">cxx14_flag</code><a class="headerlink" href="#spack.compiler.Compiler.cxx14_flag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.cxx_names">
<code class="descname">cxx_names</code><em class="property"> = []</em><a class="headerlink" href="#spack.compiler.Compiler.cxx_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.cxx_rpath_arg">
<code class="descname">cxx_rpath_arg</code><a class="headerlink" href="#spack.compiler.Compiler.cxx_rpath_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.cxx_version">
<em class="property">classmethod </em><code class="descname">cxx_version</code><span class="sig-paren">(</span><em>cxx</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.cxx_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.default_version">
<em class="property">classmethod </em><code class="descname">default_version</code><span class="sig-paren">(</span><em>cc</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.default_version" title="Permalink to this definition"></a></dt>
<dd><p>Override just this to override all compiler version functions.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.f77_names">
<code class="descname">f77_names</code><em class="property"> = []</em><a class="headerlink" href="#spack.compiler.Compiler.f77_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.f77_rpath_arg">
<code class="descname">f77_rpath_arg</code><a class="headerlink" href="#spack.compiler.Compiler.f77_rpath_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.f77_version">
<em class="property">classmethod </em><code class="descname">f77_version</code><span class="sig-paren">(</span><em>f77</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.f77_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.fc_names">
<code class="descname">fc_names</code><em class="property"> = []</em><a class="headerlink" href="#spack.compiler.Compiler.fc_names" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.fc_rpath_arg">
<code class="descname">fc_rpath_arg</code><a class="headerlink" href="#spack.compiler.Compiler.fc_rpath_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.fc_version">
<em class="property">classmethod </em><code class="descname">fc_version</code><span class="sig-paren">(</span><em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.fc_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.compiler.Compiler.find">
<em class="property">classmethod </em><code class="descname">find</code><span class="sig-paren">(</span><em>*path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.Compiler.find" title="Permalink to this definition"></a></dt>
<dd><p>Try to find this type of compiler in the user&#8217;s
environment. For each set of compilers found, this returns
compiler objects with the cc, cxx, f77, fc paths and the
version filled in.</p>
<p>This will search for compilers with the names in cc_names,
cxx_names, etc. and it will group them if they have common
prefixes, suffixes, and versions.  e.g., gcc-mp-4.7 would
be grouped with g++-mp-4.7 and gfortran-mp-4.7.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.openmp_flag">
<code class="descname">openmp_flag</code><a class="headerlink" href="#spack.compiler.Compiler.openmp_flag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.prefixes">
<code class="descname">prefixes</code><em class="property"> = []</em><a class="headerlink" href="#spack.compiler.Compiler.prefixes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.suffixes">
<code class="descname">suffixes</code><em class="property"> = ['-.*']</em><a class="headerlink" href="#spack.compiler.Compiler.suffixes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.compiler.Compiler.version">
<code class="descname">version</code><a class="headerlink" href="#spack.compiler.Compiler.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.compiler.get_compiler_version">
<code class="descclassname">spack.compiler.</code><code class="descname">get_compiler_version</code><span class="sig-paren">(</span><em>compiler_path</em>, <em>version_arg</em>, <em>regex='(.*)'</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.compiler.get_compiler_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-spack.concretize">
<span id="spack-concretize-module"></span><h2>spack.concretize module<a class="headerlink" href="#module-spack.concretize" title="Permalink to this headline"></a></h2>
<p>Functions here are used to take abstract specs and make them concrete.
For example, if a spec asks for a version between 1.8 and 1.9, these
functions might take will take the most recent 1.9 version of the
package available.  Or, if the user didn&#8217;t specify a compiler for a
spec, then this will assign a compiler to the spec based on defaults
or user preferences.</p>
<dl class="docutils">
<dt>TODO: make this customizable and allow users to configure</dt>
<dd>concretization  policies.</dd>
</dl>
<dl class="class">
<dt id="spack.concretize.DefaultConcretizer">
<em class="property">class </em><code class="descclassname">spack.concretize.</code><code class="descname">DefaultConcretizer</code><a class="headerlink" href="#spack.concretize.DefaultConcretizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class doesn&#8217;t have any state, it just provides some methods for
concretization.  You can subclass it to override just some of the
default concretization strategies, or you can override all of them.</p>
<dl class="method">
<dt id="spack.concretize.DefaultConcretizer.choose_virtual_or_external">
<code class="descname">choose_virtual_or_external</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.DefaultConcretizer.choose_virtual_or_external" title="Permalink to this definition"></a></dt>
<dd><p>Given a list of candidate virtual and external packages, try to
find one that is most ABI compatible.</p>
</dd></dl>

<dl class="method">
<dt id="spack.concretize.DefaultConcretizer.concretize_architecture">
<code class="descname">concretize_architecture</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.DefaultConcretizer.concretize_architecture" title="Permalink to this definition"></a></dt>
<dd><p>If the spec already had an architecture, return.  Otherwise if
the root of the DAG has an architecture, then use that.
Otherwise take the system&#8217;s default architecture.</p>
<p>Intuition: Architectures won&#8217;t be set a lot, and generally you
want the host system&#8217;s architecture.  When architectures are
mised in a spec, it is likely because the tool requries a
cross-compiled component, e.g. for tools that run on BlueGene
or Cray machines.  These constraints will likely come directly
from packages, so require the user to be explicit if they want
to mess with the architecture, and revert to the default when
they&#8217;re not explicit.</p>
</dd></dl>

<dl class="method">
<dt id="spack.concretize.DefaultConcretizer.concretize_compiler">
<code class="descname">concretize_compiler</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.DefaultConcretizer.concretize_compiler" title="Permalink to this definition"></a></dt>
<dd><p>If the spec already has a compiler, we&#8217;re done.  If not, then take
the compiler used for the nearest ancestor with a compiler
spec and use that.  If the ancestor&#8217;s compiler is not
concrete, then used the preferred compiler as specified in
spackconfig.</p>
<p>Intuition: Use the spackconfig default if no package that depends on
this one has a strict compiler requirement.  Otherwise, try to
build with the compiler that will be used by libraries that
link to this one, to maximize compatibility.</p>
</dd></dl>

<dl class="method">
<dt id="spack.concretize.DefaultConcretizer.concretize_variants">
<code class="descname">concretize_variants</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.DefaultConcretizer.concretize_variants" title="Permalink to this definition"></a></dt>
<dd><p>If the spec already has variants filled in, return.  Otherwise, add
the default variants from the package specification.</p>
</dd></dl>

<dl class="method">
<dt id="spack.concretize.DefaultConcretizer.concretize_version">
<code class="descname">concretize_version</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.DefaultConcretizer.concretize_version" title="Permalink to this definition"></a></dt>
<dd><p>If the spec is already concrete, return.  Otherwise take
the preferred version from spackconfig, and default to the package&#8217;s
version if there are no available versions.</p>
<dl class="docutils">
<dt>TODO: In many cases we probably want to look for installed</dt>
<dd>versions of each package and use an installed version
if we can link to it.  The policy implemented here will
tend to rebuild a lot of stuff becasue it will prefer
a compiler in the spec to any compiler already-
installed things were built with.  There is likely
some better policy that finds some middle ground
between these two extremes.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.concretize.NoBuildError">
<em class="property">exception </em><code class="descclassname">spack.concretize.</code><code class="descname">NoBuildError</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.NoBuildError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when a package is configured with the buildable option False, but
no satisfactory external versions can be found</p>
</dd></dl>

<dl class="exception">
<dt id="spack.concretize.NoValidVersionError">
<em class="property">exception </em><code class="descclassname">spack.concretize.</code><code class="descname">NoValidVersionError</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.NoValidVersionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when there is no way to have a concrete version for a
particular spec.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.concretize.UnavailableCompilerVersionError">
<em class="property">exception </em><code class="descclassname">spack.concretize.</code><code class="descname">UnavailableCompilerVersionError</code><span class="sig-paren">(</span><em>compiler_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.UnavailableCompilerVersionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when there is no available compiler that satisfies a
compiler spec.</p>
</dd></dl>

<dl class="function">
<dt id="spack.concretize.cmp_specs">
<code class="descclassname">spack.concretize.</code><code class="descname">cmp_specs</code><span class="sig-paren">(</span><em>lhs</em>, <em>rhs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.cmp_specs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.concretize.find_spec">
<code class="descclassname">spack.concretize.</code><code class="descname">find_spec</code><span class="sig-paren">(</span><em>spec</em>, <em>condition</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.concretize.find_spec" title="Permalink to this definition"></a></dt>
<dd><p>Searches the dag from spec in an intelligent order and looks
for a spec that matches a condition</p>
</dd></dl>

</div>
<div class="section" id="module-spack.config">
<span id="spack-config-module"></span><h2>spack.config module<a class="headerlink" href="#module-spack.config" title="Permalink to this headline"></a></h2>
<p>This module implements Spack&#8217;s configuration file handling.</p>
<div class="section" id="configuration-file-scopes">
<h3>Configuration file scopes<a class="headerlink" href="#configuration-file-scopes" title="Permalink to this headline"></a></h3>
<p>When Spack runs, it pulls configuration data from several config
directories, each of which contains configuration files.  In Spack,
there are two configuration scopes:</p>
<blockquote>
<div><ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">site</span></code>: Spack loads site-wide configuration options from</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">$(prefix)/etc/spack/</span></code>.</div></blockquote>
<ol class="arabic simple" start="2">
<li><code class="docutils literal"><span class="pre">user</span></code>: Spack next loads per-user configuration options from
~/.spack/.</li>
</ol>
</div></blockquote>
<p>Spack may read configuration files from both of these locations.  When
configurations conflict, the user config options take precedence over
the site configurations.  Each configuration directory may contain
several configuration files, such as compilers.yaml or mirrors.yaml.</p>
</div>
<div class="section" id="configuration-file-format">
<h3>Configuration file format<a class="headerlink" href="#configuration-file-format" title="Permalink to this headline"></a></h3>
<p>Configuration files are formatted using YAML syntax.  This format is
implemented by libyaml (included with Spack as an external module),
and it&#8217;s easy to read and versatile.</p>
<p>Config files are structured as trees, like this <code class="docutils literal"><span class="pre">compiler</span></code> section:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>compilers:
  chaos_5_x86_64_ib:
     gcc@4.4.7:
       cc: /usr/bin/gcc
       cxx: /usr/bin/g++
       f77: /usr/bin/gfortran
       fc: /usr/bin/gfortran
  bgqos_0:
     xlc@12.1:
       cc: /usr/local/bin/mpixlc
       ...
</pre></div>
</div>
<p>In this example, entries like &#8216;&#8217;compilers&#8217;&#8217; and <a class="reference external" href="mailto:''xlc&#37;&#52;&#48;12&#46;1">''xlc<span>&#64;</span>12<span>&#46;</span>1</a>&#8216;&#8217; are used to
categorize entries beneath them in the tree.  At the root of the tree,
entries like &#8216;&#8217;cc&#8217;&#8217; and &#8216;&#8217;cxx&#8217;&#8217; are specified as name/value pairs.</p>
<p><code class="docutils literal"><span class="pre">config.get_config()</span></code> returns these trees as nested dicts, but it
strips the first level off.  So, <code class="docutils literal"><span class="pre">config.get_config('compilers')</span></code>
would return something like this for the above example:</p>
<blockquote>
<div><dl class="docutils">
<dt>{ &#8216;chaos_5_x86_64_ib&#8217; :</dt>
<dd><dl class="first last docutils">
<dt>{ <a class="reference external" href="mailto:'gcc&#37;&#52;&#48;4&#46;4&#46;7">'gcc<span>&#64;</span>4<span>&#46;</span>4<span>&#46;</span>7</a>&#8216; :</dt>
<dd><dl class="first docutils">
<dt>{ &#8216;cc&#8217; <span class="classifier-delimiter">:</span> <span class="classifier">&#8216;/usr/bin/gcc&#8217;,</span></dt>
<dd>&#8216;cxx&#8217; : &#8216;/usr/bin/g++&#8217;
&#8216;f77&#8217; : &#8216;/usr/bin/gfortran&#8217;
&#8216;fc&#8217; : &#8216;/usr/bin/gfortran&#8217; }</dd>
</dl>
<p class="last">}</p>
</dd>
<dt>{ &#8216;bgqos_0&#8217; :</dt>
<dd>{ &#8216;cc&#8217; : &#8216;/usr/local/bin/mpixlc&#8217; } }</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Likewise, the <code class="docutils literal"><span class="pre">mirrors.yaml</span></code> file&#8217;s first line must be <code class="docutils literal"><span class="pre">mirrors:</span></code>,
but <code class="docutils literal"><span class="pre">get_config()</span></code> strips that off too.</p>
</div>
<div class="section" id="precedence">
<h3>Precedence<a class="headerlink" href="#precedence" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal"><span class="pre">config.py</span></code> routines attempt to recursively merge configuration
across scopes.  So if there are <code class="docutils literal"><span class="pre">compilers.py</span></code> files in both the
site scope and the user scope, <code class="docutils literal"><span class="pre">get_config('compilers')</span></code> will return
merged dictionaries of <em>all</em> the compilers available.  If a user
compiler conflicts with a site compiler, Spack will overwrite the site
configuration wtih the user configuration.  If both the user and site
<code class="docutils literal"><span class="pre">mirrors.yaml</span></code> files contain lists of mirrors, then <code class="docutils literal"><span class="pre">get_config()</span></code>
will return a concatenated list of mirrors, with the user config items
first.</p>
<p>Sometimes, it is useful to <em>completely</em> override a site setting with a
user one.  To accomplish this, you can use <em>two</em> colons at the end of
a key in a configuration file.  For example, this:</p>
<blockquote>
<div><dl class="docutils">
<dt>compilers::</dt>
<dd><dl class="first last docutils">
<dt>chaos_5_x86_64_ib:</dt>
<dd><dl class="first last docutils">
<dt><a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;4&#46;7">gcc<span>&#64;</span>4<span>&#46;</span>4<span>&#46;</span>7</a>:</dt>
<dd>cc: /usr/bin/gcc
cxx: /usr/bin/g++
f77: /usr/bin/gfortran
fc: /usr/bin/gfortran</dd>
</dl>
</dd>
<dt>bgqos_0:</dt>
<dd><dl class="first last docutils">
<dt><a class="reference external" href="mailto:xlc&#37;&#52;&#48;12&#46;1">xlc<span>&#64;</span>12<span>&#46;</span>1</a>:</dt>
<dd>cc: /usr/local/bin/mpixlc
...</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Will make Spack take compilers <em>only</em> from the user configuration, and
the site configuration will be ignored.</p>
<dl class="exception">
<dt id="spack.config.ConfigError">
<em class="property">exception </em><code class="descclassname">spack.config.</code><code class="descname">ConfigError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.config.ConfigFileError">
<em class="property">exception </em><code class="descclassname">spack.config.</code><code class="descname">ConfigFileError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigFileError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.config.ConfigError" title="spack.config.ConfigError"><code class="xref py py-class docutils literal"><span class="pre">spack.config.ConfigError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.config.ConfigFormatError">
<em class="property">exception </em><code class="descclassname">spack.config.</code><code class="descname">ConfigFormatError</code><span class="sig-paren">(</span><em>validation_error</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigFormatError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.config.ConfigError" title="spack.config.ConfigError"><code class="xref py py-class docutils literal"><span class="pre">spack.config.ConfigError</span></code></a></p>
<p>Raised when a configuration format does not match its schema.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.config.ConfigSanityError">
<em class="property">exception </em><code class="descclassname">spack.config.</code><code class="descname">ConfigSanityError</code><span class="sig-paren">(</span><em>validation_error</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigSanityError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.config.ConfigFormatError" title="spack.config.ConfigFormatError"><code class="xref py py-class docutils literal"><span class="pre">spack.config.ConfigFormatError</span></code></a></p>
<p>Same as ConfigFormatError, raised when config is written by Spack.</p>
</dd></dl>

<dl class="class">
<dt id="spack.config.ConfigScope">
<em class="property">class </em><code class="descclassname">spack.config.</code><code class="descname">ConfigScope</code><span class="sig-paren">(</span><em>name</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigScope" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class represents a configuration scope.</p>
<p>A scope is one directory containing named configuration files.
Each file is a config &#8220;section&#8221; (e.g., mirrors, compilers, etc).</p>
<dl class="method">
<dt id="spack.config.ConfigScope.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigScope.clear" title="Permalink to this definition"></a></dt>
<dd><p>Empty cached config information.</p>
</dd></dl>

<dl class="method">
<dt id="spack.config.ConfigScope.get_section">
<code class="descname">get_section</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigScope.get_section" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.config.ConfigScope.get_section_filename">
<code class="descname">get_section_filename</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigScope.get_section_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.config.ConfigScope.write_section">
<code class="descname">write_section</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.ConfigScope.write_section" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.config.clear_config_caches">
<code class="descclassname">spack.config.</code><code class="descname">clear_config_caches</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.clear_config_caches" title="Permalink to this definition"></a></dt>
<dd><p>Clears the caches for configuration files, which will cause them
to be re-read upon the next request</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.extend_with_default">
<code class="descclassname">spack.config.</code><code class="descname">extend_with_default</code><span class="sig-paren">(</span><em>validator_class</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.extend_with_default" title="Permalink to this definition"></a></dt>
<dd><p>Add support for the &#8216;default&#8217; attribute for properties and patternProperties.</p>
<p>jsonschema does not handle this out of the box &#8211; it only
validates.  This allows us to set default values for configs
where certain fields are <cite>None</cite> b/c they&#8217;re deleted or
commented out.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.get_config">
<code class="descclassname">spack.config.</code><code class="descname">get_config</code><span class="sig-paren">(</span><em>section</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.get_config" title="Permalink to this definition"></a></dt>
<dd><p>Get configuration settings for a section.</p>
<p>Strips off the top-level section name from the YAML dict.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.get_config_filename">
<code class="descclassname">spack.config.</code><code class="descname">get_config_filename</code><span class="sig-paren">(</span><em>scope</em>, <em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.get_config_filename" title="Permalink to this definition"></a></dt>
<dd><p>For some scope and section, get the name of the configuration file</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.get_path">
<code class="descclassname">spack.config.</code><code class="descname">get_path</code><span class="sig-paren">(</span><em>path</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.get_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.config.highest_precedence_scope">
<code class="descclassname">spack.config.</code><code class="descname">highest_precedence_scope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.highest_precedence_scope" title="Permalink to this definition"></a></dt>
<dd><p>Get the scope with highest precedence (prefs will override others).</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.is_spec_buildable">
<code class="descclassname">spack.config.</code><code class="descname">is_spec_buildable</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.is_spec_buildable" title="Permalink to this definition"></a></dt>
<dd><p>Return true if the spec pkgspec is configured as buildable</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.print_section">
<code class="descclassname">spack.config.</code><code class="descname">print_section</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.print_section" title="Permalink to this definition"></a></dt>
<dd><p>Print a configuration to stdout.</p>
</dd></dl>

<dl class="data">
<dt id="spack.config.section_schemas">
<code class="descclassname">spack.config.</code><code class="descname">section_schemas</code><em class="property"> = {'repos': {'additionalProperties': False, 'patternProperties': {'repos:?': {'default': [], 'items': {'type': 'string'}, 'type': 'array'}}, '$schema': 'http://json-schema.org/schema#', 'type': 'object', 'title': 'Spack repository configuration file schema'}, 'mirrors': {'additionalProperties': False, 'patternProperties': {'mirrors:?': {'default': {}, 'additionalProperties': False, 'patternProperties': {'\\w[\\w-]*': {'type': 'string'}}, 'type': 'object'}}, '$schema': 'http://json-schema.org/schema#', 'type': 'object', 'title': 'Spack mirror configuration file schema'}, 'modules': {'additionalProperties': False, 'patternProperties': {'modules:?': {'default': {}, 'additionalProperties': False, 'type': 'object', 'properties': {'enable': {'default': [], 'items': {'type': 'string'}, 'type': 'array'}}}}, '$schema': 'http://json-schema.org/schema#', 'type': 'object', 'title': 'Spack module file configuration file schema'}, 'packages': {'additionalProperties': False, 'patternProperties': {'packages:?': {'default': {}, 'additionalProperties': False, 'patternProperties': {'\\w[\\w-]*': {'default': {}, 'additionalProperties': False, 'type': 'object', 'properties': {'buildable': {'default': True, 'type': 'boolean'}, 'paths': {'default': {}, 'type': 'object'}, 'version': {'default': [], 'items': {'anyOf': [{'type': 'string'}, {'type': 'number'}]}, 'type': 'array'}, 'providers': {'default': {}, 'additionalProperties': False, 'patternProperties': {'\\w[\\w-]*': {'default': [], 'items': {'type': 'string'}, 'type': 'array'}}, 'type': 'object'}, 'compiler': {'default': [], 'items': {'type': 'string'}, 'type': 'array'}}}}, 'type': 'object'}}, '$schema': 'http://json-schema.org/schema#', 'type': 'object', 'title': 'Spack package configuration file schema'}, 'compilers': {'additionalProperties': False, 'patternProperties': {'compilers:?': {'default': {}, 'additionalProperties': False, 'patternProperties': {'\\w[\\w-]*': {'additionalProperties': False, 'patternProperties': {'\\w[\\w-]*&#64;\\w[\\w-]*': {'additionalProperties': False, 'required': ['cc', 'cxx', 'f77', 'fc'], 'type': 'object', 'properties': {'cc': {'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'cxx': {'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'f77': {'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'fc': {'anyOf': [{'type': 'string'}, {'type': 'null'}]}}}}, 'type': 'object'}}, 'type': 'object'}}, '$schema': 'http://json-schema.org/schema#', 'type': 'object', 'title': 'Spack compiler configuration file schema'}}</em><a class="headerlink" href="#spack.config.section_schemas" title="Permalink to this definition"></a></dt>
<dd><p>OrderedDict of config scopes keyed by name.
Later scopes will override earlier scopes.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.spec_externals">
<code class="descclassname">spack.config.</code><code class="descname">spec_externals</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.spec_externals" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of external specs (with external directory path filled in),
one for each known external installation.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.update_config">
<code class="descclassname">spack.config.</code><code class="descname">update_config</code><span class="sig-paren">(</span><em>section</em>, <em>update_data</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.update_config" title="Permalink to this definition"></a></dt>
<dd><p>Update the configuration file for a particular scope.</p>
<p>Overwrites contents of a section in a scope with update_data,
then writes out the config file.</p>
<p>update_data should have the top-level section name stripped off
(it will be re-added).  Data itself can be a list, dict, or any
other yaml-ish structure.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.validate_scope">
<code class="descclassname">spack.config.</code><code class="descname">validate_scope</code><span class="sig-paren">(</span><em>scope</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.validate_scope" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that scope is valid, and return a valid scope if it is None.</p>
<p>This should be used by routines in <code class="docutils literal"><span class="pre">config.py</span></code> to validate
scope name arguments, and to determine a default scope where no
scope is specified.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.validate_section">
<code class="descclassname">spack.config.</code><code class="descname">validate_section</code><span class="sig-paren">(</span><em>data</em>, <em>schema</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.validate_section" title="Permalink to this definition"></a></dt>
<dd><p>Validate data read in from a Spack YAML file.</p>
<p>This leverages the line information (start_mark, end_mark) stored
on Spack YAML structures.</p>
</dd></dl>

<dl class="function">
<dt id="spack.config.validate_section_name">
<code class="descclassname">spack.config.</code><code class="descname">validate_section_name</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.config.validate_section_name" title="Permalink to this definition"></a></dt>
<dd><p>Raise a ValueError if the section is not a valid section.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-spack.database">
<span id="spack-database-module"></span><h2>spack.database module<a class="headerlink" href="#module-spack.database" title="Permalink to this headline"></a></h2>
<p>Spack&#8217;s installation tracking database.</p>
<p>The database serves two purposes:</p>
<blockquote>
<div><ol class="arabic simple">
<li>It implements a cache on top of a potentially very large Spack
directory hierarchy, speeding up many operations that would
otherwise require filesystem access.</li>
<li>It will allow us to track external installations as well as lost
packages and their dependencies.</li>
</ol>
</div></blockquote>
<p>Prior ot the implementation of this store, a direcotry layout served
as the authoritative database of packages in Spack.  This module
provides a cache and a sanity checking mechanism for what is in the
filesystem.</p>
<dl class="exception">
<dt id="spack.database.CorruptDatabaseError">
<em class="property">exception </em><code class="descclassname">spack.database.</code><code class="descname">CorruptDatabaseError</code><span class="sig-paren">(</span><em>path</em>, <em>msg=''</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.CorruptDatabaseError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="spack.database.Database">
<em class="property">class </em><code class="descclassname">spack.database.</code><code class="descname">Database</code><span class="sig-paren">(</span><em>root</em>, <em>db_dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="spack.database.Database.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.add" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.Database.get_record">
<code class="descname">get_record</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.get_record" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.Database.installed_extensions_for">
<code class="descname">installed_extensions_for</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.installed_extensions_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.Database.missing">
<code class="descname">missing</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.missing" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.Database.query">
<code class="descname">query</code><span class="sig-paren">(</span><em>query_spec=&lt;built-in function any&gt;</em>, <em>known=&lt;built-in function any&gt;</em>, <em>installed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.query" title="Permalink to this definition"></a></dt>
<dd><p>Run a query on the database.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">query_spec</span></code></dt>
<dd>Queries iterate through specs in the database and return
those that satisfy the supplied <code class="docutils literal"><span class="pre">query_spec</span></code>.  If
query_spec is <cite>any</cite>, This will match all specs in the
database.  If it is a spec, we&#8217;ll evaluate
<code class="docutils literal"><span class="pre">spec.satisfies(query_spec)</span></code>.</dd>
</dl>
<p>The query can be constrained by two additional attributes:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">known</span></code></dt>
<dd><p class="first">Possible values: True, False, any</p>
<p class="last">Specs that are &#8220;known&#8221; are those for which Spack can
locate a <code class="docutils literal"><span class="pre">package.py</span></code> file &#8211; i.e., Spack &#8220;knows&#8221; how to
install them.  Specs that are unknown may represent
packages that existed in a previous version of Spack, but
have since either changed their name or been removed.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">installed</span></code></dt>
<dd><p class="first">Possible values: True, False, any</p>
<p class="last">Specs for which a prefix exists are &#8220;installed&#8221;. A spec
that is NOT installed will be in the database if some
other spec depends on it but its installation has gone
away since Spack installed it.</p>
</dd>
<dt>TODO: Specs are a lot like queries.  Should there be a</dt>
<dd>wildcard spec object, and should specs have attributes
like installed and known that can be queried?  Or are
these really special cases that only belong here?</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.database.Database.query_one">
<code class="descname">query_one</code><span class="sig-paren">(</span><em>query_spec</em>, <em>known=&lt;built-in function any&gt;</em>, <em>installed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.query_one" title="Permalink to this definition"></a></dt>
<dd><p>Query for exactly one spec that matches the query spec.</p>
<p>Raises an assertion error if more than one spec matches the
query. Returns None if no installed package matches.</p>
</dd></dl>

<dl class="method">
<dt id="spack.database.Database.read_transaction">
<code class="descname">read_transaction</code><span class="sig-paren">(</span><em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.read_transaction" title="Permalink to this definition"></a></dt>
<dd><p>Get a read lock context manager for use in a <cite>with</cite> block.</p>
</dd></dl>

<dl class="method">
<dt id="spack.database.Database.reindex">
<code class="descname">reindex</code><span class="sig-paren">(</span><em>directory_layout</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.reindex" title="Permalink to this definition"></a></dt>
<dd><p>Build database index from scratch based from a directory layout.</p>
<p>Locks the DB if it isn&#8217;t locked already.</p>
</dd></dl>

<dl class="method">
<dt id="spack.database.Database.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.remove" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.Database.write_transaction">
<code class="descname">write_transaction</code><span class="sig-paren">(</span><em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.Database.write_transaction" title="Permalink to this definition"></a></dt>
<dd><p>Get a write lock context manager for use in a <cite>with</cite> block.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.database.InstallRecord">
<em class="property">class </em><code class="descclassname">spack.database.</code><code class="descname">InstallRecord</code><span class="sig-paren">(</span><em>spec</em>, <em>path</em>, <em>installed</em>, <em>ref_count=0</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.InstallRecord" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A record represents one installation in the DB.</p>
<p>The record keeps track of the spec for the installation, its
install path, AND whether or not it is installed.  We need the
installed flag in case a user either:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>blew away a directory, or</li>
<li>used spack uninstall -f to get rid of it</li>
</ol>
</div></blockquote>
<p>If, in either case, the package was removed but others still
depend on it, we still need to track its spec, so we don&#8217;t
actually remove from the database until a spec has no installed
dependents left.</p>
<dl class="classmethod">
<dt id="spack.database.InstallRecord.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>spec</em>, <em>dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.InstallRecord.from_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.database.InstallRecord.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.InstallRecord.to_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.database.InvalidDatabaseVersionError">
<em class="property">exception </em><code class="descclassname">spack.database.</code><code class="descname">InvalidDatabaseVersionError</code><span class="sig-paren">(</span><em>expected</em>, <em>found</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.InvalidDatabaseVersionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="spack.database.ReadTransaction">
<em class="property">class </em><code class="descclassname">spack.database.</code><code class="descname">ReadTransaction</code><span class="sig-paren">(</span><em>db</em>, <em>acquire_fn=None</em>, <em>release_fn=None</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.ReadTransaction" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">spack.database._Transaction</span></code></p>
</dd></dl>

<dl class="class">
<dt id="spack.database.WriteTransaction">
<em class="property">class </em><code class="descclassname">spack.database.</code><code class="descname">WriteTransaction</code><span class="sig-paren">(</span><em>db</em>, <em>acquire_fn=None</em>, <em>release_fn=None</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.database.WriteTransaction" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">spack.database._Transaction</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-spack.directives">
<span id="spack-directives-module"></span><h2>spack.directives module<a class="headerlink" href="#module-spack.directives" title="Permalink to this headline"></a></h2>
<p>This package contains directives that can be used within a package.</p>
<p>Directives are functions that can be called inside a package
definition to modify the package, for example:</p>
<blockquote>
<div><dl class="docutils">
<dt>class OpenMpi(Package):</dt>
<dd>depends_on(&#8220;hwloc&#8221;)
provides(&#8220;mpi&#8221;)
...</dd>
</dl>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">provides</span></code> and <code class="docutils literal"><span class="pre">depends_on</span></code> are spack directives.</p>
<p>The available directives are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">version</span></code></li>
<li><code class="docutils literal"><span class="pre">depends_on</span></code></li>
<li><code class="docutils literal"><span class="pre">provides</span></code></li>
<li><code class="docutils literal"><span class="pre">extends</span></code></li>
<li><code class="docutils literal"><span class="pre">patch</span></code></li>
<li><code class="docutils literal"><span class="pre">variant</span></code></li>
<li><code class="docutils literal"><span class="pre">resource</span></code></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="spack.directives.depends_on">
<code class="descclassname">spack.directives.</code><code class="descname">depends_on</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.depends_on" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dict of deps with specs defining when they apply.</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.extends">
<code class="descclassname">spack.directives.</code><code class="descname">extends</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.extends" title="Permalink to this definition"></a></dt>
<dd><p>Same as depends_on, but dependency is symlinked into parent prefix.</p>
<p>This is for Python and other language modules where the module
needs to be installed into the prefix of the Python installation.
Spack handles this by installing modules into their own prefix,
but allowing ONE module version to be symlinked into a parent
Python install at a time.</p>
<p>keyword arguments can be passed to extends() so that extension
packages can pass parameters to the extendee&#8217;s extension
mechanism.</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.provides">
<code class="descclassname">spack.directives.</code><code class="descname">provides</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.provides" title="Permalink to this definition"></a></dt>
<dd><p>Allows packages to provide a virtual dependency.  If a package provides
&#8216;mpi&#8217;, other packages can declare that they depend on &#8220;mpi&#8221;, and spack
can use the providing package to satisfy the dependency.</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.patch">
<code class="descclassname">spack.directives.</code><code class="descname">patch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.patch" title="Permalink to this definition"></a></dt>
<dd><p>Packages can declare patches to apply to source.  You can
optionally provide a when spec to indicate that a particular
patch should only be applied when the package&#8217;s spec meets
certain conditions (e.g. a particular version).</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.version">
<code class="descclassname">spack.directives.</code><code class="descname">version</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.version" title="Permalink to this definition"></a></dt>
<dd><p>Adds a version and metadata describing how to fetch it.
Metadata is just stored as a dict in the package&#8217;s versions
dictionary.  Package must turn it into a valid fetch strategy
later.</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.variant">
<code class="descclassname">spack.directives.</code><code class="descname">variant</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.variant" title="Permalink to this definition"></a></dt>
<dd><p>Define a variant for the package. Packager can specify a default
value (on or off) as well as a text description.</p>
</dd></dl>

<dl class="function">
<dt id="spack.directives.resource">
<code class="descclassname">spack.directives.</code><code class="descname">resource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directives.resource" title="Permalink to this definition"></a></dt>
<dd><p>Define an external resource to be fetched and staged when building the package. Based on the keywords present in the
dictionary the appropriate FetchStrategy will be used for the resource. Resources are fetched and staged in their
own folder inside spack stage area, and then linked into the stage area of the package that needs them.</p>
<p>List of recognized keywords:</p>
<ul class="simple">
<li>&#8216;when&#8217; : (optional) represents the condition upon which the resource is needed</li>
<li>&#8216;destination&#8217; : (optional) path where to link the resource. This path must be relative to the main package stage</li>
</ul>
<p>area.
* &#8216;placement&#8217; : (optional) gives the possibility to fine tune how the resource is linked into the main package stage
area.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.directory_layout">
<span id="spack-directory-layout-module"></span><h2>spack.directory_layout module<a class="headerlink" href="#module-spack.directory_layout" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.directory_layout.DirectoryLayout">
<em class="property">class </em><code class="descclassname">spack.directory_layout.</code><code class="descname">DirectoryLayout</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A directory layout is used to associate unique paths with specs.
Different installations are going to want differnet layouts for their
install, and they can use this to customize the nesting structure of
spack installs.</p>
<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.add_extension">
<code class="descname">add_extension</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.add_extension" title="Permalink to this definition"></a></dt>
<dd><p>Add to the list of currently installed extensions.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.all_specs">
<code class="descname">all_specs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.all_specs" title="Permalink to this definition"></a></dt>
<dd><p>To be implemented by subclasses to traverse all specs for which there is
a directory within the root.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.check_activated">
<code class="descname">check_activated</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.check_activated" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that ext_spec can be removed from spec.</p>
<p>If not, raise NoSuchExtensionError.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.check_extension_conflict">
<code class="descname">check_extension_conflict</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.check_extension_conflict" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that ext_spec can be activated in spec.</p>
<p>If not, raise ExtensionAlreadyInstalledError or
ExtensionConflictError.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.check_installed">
<code class="descname">check_installed</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.check_installed" title="Permalink to this definition"></a></dt>
<dd><p>Checks whether a spec is installed.</p>
<p>Return the spec&#8217;s prefix, if it is installed, None otherwise.</p>
<p>Raise an exception if the install is inconsistent or corrupt.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.create_install_directory">
<code class="descname">create_install_directory</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.create_install_directory" title="Permalink to this definition"></a></dt>
<dd><p>Creates the installation directory for a spec.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.extension_map">
<code class="descname">extension_map</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.extension_map" title="Permalink to this definition"></a></dt>
<dd><p>Get a dict of currently installed extension packages for a spec.</p>
<p>Dict maps { name : extension_spec }
Modifying dict does not affect internals of this layout.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.directory_layout.DirectoryLayout.hidden_file_paths">
<code class="descname">hidden_file_paths</code><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.hidden_file_paths" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of hidden files used by the directory layout.</p>
<p>Paths are relative to the root of an install directory.</p>
<p>If the directory layout uses no hidden files to maintain
state, this should return an empty container, e.g. [] or (,).</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.path_for_spec">
<code class="descname">path_for_spec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.path_for_spec" title="Permalink to this definition"></a></dt>
<dd><p>Return an absolute path from the root to a directory for the spec.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.relative_path_for_spec">
<code class="descname">relative_path_for_spec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.relative_path_for_spec" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by subclasses to return a relative path from the install
root to a unique location for the provided spec.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.remove_extension">
<code class="descname">remove_extension</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.remove_extension" title="Permalink to this definition"></a></dt>
<dd><p>Remove from the list of currently installed extensions.</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.DirectoryLayout.remove_install_directory">
<code class="descname">remove_install_directory</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayout.remove_install_directory" title="Permalink to this definition"></a></dt>
<dd><p>Removes a prefix and any empty parent directories from the root.
Raised RemoveFailedError if something goes wrong.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.DirectoryLayoutError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">DirectoryLayoutError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.DirectoryLayoutError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass for directory layout errors.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.ExtensionAlreadyInstalledError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">ExtensionAlreadyInstalledError</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.ExtensionAlreadyInstalledError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when an extension is added to a package that already has it.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.ExtensionConflictError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">ExtensionConflictError</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em>, <em>conflict</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.ExtensionConflictError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when an extension is added to a package that already has it.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.InconsistentInstallDirectoryError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">InconsistentInstallDirectoryError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.InconsistentInstallDirectoryError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when a package seems to be installed to the wrong place.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.InstallDirectoryAlreadyExistsError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">InstallDirectoryAlreadyExistsError</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.InstallDirectoryAlreadyExistsError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when create_install_directory is called unnecessarily.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.InvalidExtensionSpecError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">InvalidExtensionSpecError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.InvalidExtensionSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when an extension file has a bad spec in it.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.NoSuchExtensionError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">NoSuchExtensionError</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.NoSuchExtensionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when an extension isn&#8217;t there on deactivate.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.RemoveFailedError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">RemoveFailedError</code><span class="sig-paren">(</span><em>installed_spec</em>, <em>prefix</em>, <em>error</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.RemoveFailedError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when a DirectoryLayout cannot remove an install prefix.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.directory_layout.SpecHashCollisionError">
<em class="property">exception </em><code class="descclassname">spack.directory_layout.</code><code class="descname">SpecHashCollisionError</code><span class="sig-paren">(</span><em>installed_spec</em>, <em>new_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.SpecHashCollisionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayoutError" title="spack.directory_layout.DirectoryLayoutError"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayoutError</span></code></a></p>
<p>Raised when there is a hash collision in an install layout.</p>
</dd></dl>

<dl class="class">
<dt id="spack.directory_layout.YamlDirectoryLayout">
<em class="property">class </em><code class="descclassname">spack.directory_layout.</code><code class="descname">YamlDirectoryLayout</code><span class="sig-paren">(</span><em>root</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.directory_layout.DirectoryLayout" title="spack.directory_layout.DirectoryLayout"><code class="xref py py-class docutils literal"><span class="pre">spack.directory_layout.DirectoryLayout</span></code></a></p>
<dl class="docutils">
<dt>Lays out installation directories like this::</dt>
<dd><dl class="first last docutils">
<dt>&lt;install root&gt;/</dt>
<dd><dl class="first last docutils">
<dt>&lt;architecture&gt;/</dt>
<dd><dl class="first last docutils">
<dt>&lt;compiler&gt;-&lt;compiler version&gt;/</dt>
<dd>&lt;name&gt;-&lt;version&gt;-&lt;variants&gt;-&lt;hash&gt;</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>The hash here is a SHA-1 hash for the full DAG plus the build
spec.  TODO: implement the build spec.</p>
<p>To avoid special characters (like ~) in the directory name,
only enabled variants are included in the install path.
Disabled variants are omitted.</p>
<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.add_extension">
<code class="descname">add_extension</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.add_extension" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.all_specs">
<code class="descname">all_specs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.all_specs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.build_env_path">
<code class="descname">build_env_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.build_env_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.build_log_path">
<code class="descname">build_log_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.build_log_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.build_packages_path">
<code class="descname">build_packages_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.build_packages_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.check_activated">
<code class="descname">check_activated</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.check_activated" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.check_extension_conflict">
<code class="descname">check_extension_conflict</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.check_extension_conflict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.check_installed">
<code class="descname">check_installed</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.check_installed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.create_install_directory">
<code class="descname">create_install_directory</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.create_install_directory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.extension_file_path">
<code class="descname">extension_file_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.extension_file_path" title="Permalink to this definition"></a></dt>
<dd><p>Gets full path to an installed package&#8217;s extension file</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.extension_map">
<code class="descname">extension_map</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.extension_map" title="Permalink to this definition"></a></dt>
<dd><p>Defensive copying version of _extension_map() for external API.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.directory_layout.YamlDirectoryLayout.hidden_file_paths">
<code class="descname">hidden_file_paths</code><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.hidden_file_paths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.metadata_path">
<code class="descname">metadata_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.metadata_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.read_spec">
<code class="descname">read_spec</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.read_spec" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of a file and parse them as a spec</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.relative_path_for_spec">
<code class="descname">relative_path_for_spec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.relative_path_for_spec" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.remove_extension">
<code class="descname">remove_extension</code><span class="sig-paren">(</span><em>spec</em>, <em>ext_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.remove_extension" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.spec_file_path">
<code class="descname">spec_file_path</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.spec_file_path" title="Permalink to this definition"></a></dt>
<dd><p>Gets full path to spec file</p>
</dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.specs_by_hash">
<code class="descname">specs_by_hash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.specs_by_hash" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.directory_layout.YamlDirectoryLayout.write_spec">
<code class="descname">write_spec</code><span class="sig-paren">(</span><em>spec</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.directory_layout.YamlDirectoryLayout.write_spec" title="Permalink to this definition"></a></dt>
<dd><p>Write a spec out to a file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.environment">
<span id="spack-environment-module"></span><h2>spack.environment module<a class="headerlink" href="#module-spack.environment" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.environment.AppendPath">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">AppendPath</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.AppendPath" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameValueModifier" title="spack.environment.NameValueModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameValueModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.AppendPath.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.AppendPath.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.EnvironmentModifications">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">EnvironmentModifications</code><span class="sig-paren">(</span><em>other=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Keeps track of requests to modify the current environment.</p>
<p>Each call to a method to modify the environment stores the extra information on the caller in the request:
- &#8216;filename&#8217; : filename of the module where the caller is defined
- &#8216;lineno&#8217;: line number where the request occurred
- &#8216;context&#8217; : line of code that issued the request that failed</p>
<dl class="method">
<dt id="spack.environment.EnvironmentModifications.append_path">
<code class="descname">append_path</code><span class="sig-paren">(</span><em>name</em>, <em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.append_path" title="Permalink to this definition"></a></dt>
<dd><p>Stores in the current object a request to append a path to a path list</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name of the path list in the environment
path: path to be appended</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.apply_modifications">
<code class="descname">apply_modifications</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.apply_modifications" title="Permalink to this definition"></a></dt>
<dd><p>Applies the modifications and clears the list</p>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clears the current list of modifications</p>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.extend" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.group_by_name">
<code class="descname">group_by_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.group_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict of the modifications grouped by variable name</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>dict mapping the environment variable name to the modifications to be done on it</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.prepend_path">
<code class="descname">prepend_path</code><span class="sig-paren">(</span><em>name</em>, <em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.prepend_path" title="Permalink to this definition"></a></dt>
<dd><p>Same as <cite>append_path</cite>, but the path is pre-pended</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name of the path list in the environment
path: path to be pre-pended</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.remove_path">
<code class="descname">remove_path</code><span class="sig-paren">(</span><em>name</em>, <em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.remove_path" title="Permalink to this definition"></a></dt>
<dd><p>Stores in the current object a request to remove a path from a path list</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name of the path list in the environment
path: path to be removed</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.set" title="Permalink to this definition"></a></dt>
<dd><p>Stores in the current object a request to set an environment variable</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name of the environment variable to be set
value: value of the environment variable</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.set_path">
<code class="descname">set_path</code><span class="sig-paren">(</span><em>name</em>, <em>elts</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.set_path" title="Permalink to this definition"></a></dt>
<dd><p>Stores a request to set a path generated from a list.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name o the environment variable to be set.
elts: elements of the path to set.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.environment.EnvironmentModifications.unset">
<code class="descname">unset</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.EnvironmentModifications.unset" title="Permalink to this definition"></a></dt>
<dd><p>Stores in the current object a request to unset an environment variable</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>name: name of the environment variable to be set</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.NameModifier">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">NameModifier</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.NameModifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="spack.environment.NameValueModifier">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">NameValueModifier</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.NameValueModifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="spack.environment.PrependPath">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">PrependPath</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.PrependPath" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameValueModifier" title="spack.environment.NameValueModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameValueModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.PrependPath.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.PrependPath.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.RemovePath">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">RemovePath</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.RemovePath" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameValueModifier" title="spack.environment.NameValueModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameValueModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.RemovePath.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.RemovePath.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.SetEnv">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">SetEnv</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.SetEnv" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameValueModifier" title="spack.environment.NameValueModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameValueModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.SetEnv.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.SetEnv.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.SetPath">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">SetPath</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.SetPath" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameValueModifier" title="spack.environment.NameValueModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameValueModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.SetPath.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.SetPath.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.environment.UnsetEnv">
<em class="property">class </em><code class="descclassname">spack.environment.</code><code class="descname">UnsetEnv</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.UnsetEnv" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.environment.NameModifier" title="spack.environment.NameModifier"><code class="xref py py-class docutils literal"><span class="pre">spack.environment.NameModifier</span></code></a></p>
<dl class="method">
<dt id="spack.environment.UnsetEnv.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.UnsetEnv.execute" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.environment.concatenate_paths">
<code class="descclassname">spack.environment.</code><code class="descname">concatenate_paths</code><span class="sig-paren">(</span><em>paths</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.concatenate_paths" title="Permalink to this definition"></a></dt>
<dd><p>Concatenates an iterable of paths into a  string of column separated paths</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>paths: iterable of paths</dd>
<dt>Returns:</dt>
<dd>string</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.environment.set_or_unset_not_first">
<code class="descclassname">spack.environment.</code><code class="descname">set_or_unset_not_first</code><span class="sig-paren">(</span><em>variable</em>, <em>changes</em>, <em>errstream</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.set_or_unset_not_first" title="Permalink to this definition"></a></dt>
<dd><p>Check if we are going to set or unset something after other modifications have already been requested</p>
</dd></dl>

<dl class="function">
<dt id="spack.environment.validate">
<code class="descclassname">spack.environment.</code><code class="descname">validate</code><span class="sig-paren">(</span><em>env</em>, <em>errstream</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.environment.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validates the environment modifications to check for the presence of suspicious patterns. Prompts a warning for
everything that was found</p>
<p>Current checks:
- set or unset variables after other changes on the same variable</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>env: list of environment modifications</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spack.error">
<span id="spack-error-module"></span><h2>spack.error module<a class="headerlink" href="#module-spack.error" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.error.NoNetworkConnectionError">
<em class="property">exception </em><code class="descclassname">spack.error.</code><code class="descname">NoNetworkConnectionError</code><span class="sig-paren">(</span><em>message</em>, <em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.error.NoNetworkConnectionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when an operation needs an internet connection.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.error.SpackError">
<em class="property">exception </em><code class="descclassname">spack.error.</code><code class="descname">SpackError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.error.SpackError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>This is the superclass for all Spack errors.
Subclasses can be found in the modules they have to do with.</p>
<dl class="method">
<dt id="spack.error.SpackError.die">
<code class="descname">die</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.error.SpackError.die" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.error.SpackError.long_message">
<code class="descname">long_message</code><a class="headerlink" href="#spack.error.SpackError.long_message" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.error.UnsupportedPlatformError">
<em class="property">exception </em><code class="descclassname">spack.error.</code><code class="descname">UnsupportedPlatformError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.error.UnsupportedPlatformError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised by packages when a platform is not supported</p>
</dd></dl>

</div>
<div class="section" id="module-spack.fetch_strategy">
<span id="spack-fetch-strategy-module"></span><h2>spack.fetch_strategy module<a class="headerlink" href="#module-spack.fetch_strategy" title="Permalink to this headline"></a></h2>
<p>Fetch strategies are used to download source code into a staging area
in order to build it.  They need to define the following methods:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>fetch()</dt>
<dd><p class="first last">This should attempt to download/check out source from somewhere.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>check()</dt>
<dd><p class="first last">Apply a checksum to the downloaded source code, e.g. for an archive.
May not do anything if the fetch method was safe to begin with.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>expand()</dt>
<dd><p class="first last">Expand (e.g., an archive) downloaded file to source.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>reset()</dt>
<dd><p class="first last">Restore original state of downloaded code.  Used by clean commands.
This may just remove the expanded source and re-expand an archive,
or it may run something like git reset &#8211;hard.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>archive()</dt>
<dd><p class="first last">Archive a source directory, e.g. for creating a mirror.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="exception">
<dt id="spack.fetch_strategy.ChecksumError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">ChecksumError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.ChecksumError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
<p>Raised when archive fails to checksum.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.FailedDownloadError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">FailedDownloadError</code><span class="sig-paren">(</span><em>url</em>, <em>msg=''</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FailedDownloadError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
<p>Raised wen a download fails.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.FetchError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">FetchError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.FetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">FetchStrategy</code><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Superclass of all fetch strategies.</p>
<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.check" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.FetchStrategy.enabled">
<code class="descname">enabled</code><em class="property"> = False</em><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.expand">
<code class="descname">expand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.expand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="spack.fetch_strategy.FetchStrategy.matches">
<em class="property">classmethod </em><code class="descname">matches</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.matches" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.FetchStrategy.required_attributes">
<code class="descname">required_attributes</code><em class="property"> = None</em><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.required_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.reset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.FetchStrategy.set_stage">
<code class="descname">set_stage</code><span class="sig-paren">(</span><em>stage</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.FetchStrategy.set_stage" title="Permalink to this definition"></a></dt>
<dd><p>This is called by Stage before any of the fetching
methods are called on the stage.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.GitFetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">GitFetchStrategy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.VCSFetchStrategy" title="spack.fetch_strategy.VCSFetchStrategy"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.VCSFetchStrategy</span></code></a></p>
<p>Fetch strategy that gets source code from a git repository.
Use like this in a package:</p>
<blockquote>
<div>version(&#8216;name&#8217;, git=&#8217;<a class="reference external" href="https://github.com/project/repo.git">https://github.com/project/repo.git</a>&#8216;)</div></blockquote>
<p>Optionally, you can provide a branch, or commit to check out, e.g.:</p>
<blockquote>
<div>version(&#8216;1.1&#8217;, git=&#8217;<a class="reference external" href="https://github.com/project/repo.git">https://github.com/project/repo.git</a>&#8216;, tag=&#8217;v1.1&#8217;)</div></blockquote>
<p>You can use these three optional attributes in addition to <code class="docutils literal"><span class="pre">git</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">branch</span></code>: Particular branch to build from (default is master)</li>
<li><code class="docutils literal"><span class="pre">tag</span></code>: Particular tag to check out</li>
<li><code class="docutils literal"><span class="pre">commit</span></code>: Particular commit hash in the repo</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="spack.fetch_strategy.GitFetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.GitFetchStrategy.enabled">
<code class="descname">enabled</code><em class="property"> = True</em><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.GitFetchStrategy.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.GitFetchStrategy.git">
<code class="descname">git</code><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.git" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.GitFetchStrategy.git_version">
<code class="descname">git_version</code><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.git_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.GitFetchStrategy.required_attributes">
<code class="descname">required_attributes</code><em class="property"> = ('git',)</em><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.required_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.GitFetchStrategy.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.GitFetchStrategy.reset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.HgFetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">HgFetchStrategy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.VCSFetchStrategy" title="spack.fetch_strategy.VCSFetchStrategy"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.VCSFetchStrategy</span></code></a></p>
<p>Fetch strategy that gets source code from a Mercurial repository.
Use like this in a package:</p>
<blockquote>
<div>version(&#8216;name&#8217;, hg=&#8217;<a class="reference external" href="https://jay.grs.rwth-aachen.de/hg/lwm2">https://jay.grs.rwth-aachen.de/hg/lwm2</a>&#8216;)</div></blockquote>
<p>Optionally, you can provide a branch, or revision to check out, e.g.:</p>
<blockquote>
<div>version(&#8216;torus&#8217;, hg=&#8217;<a class="reference external" href="https://jay.grs.rwth-aachen.de/hg/lwm2">https://jay.grs.rwth-aachen.de/hg/lwm2</a>&#8216;, branch=&#8217;torus&#8217;)</div></blockquote>
<p>You can use the optional &#8216;revision&#8217; attribute to check out a
branch, tag, or particular revision in hg.  To prevent
non-reproducible builds, using a moving target like a branch is
discouraged.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">revision</span></code>: Particular revision, branch, or tag.</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="spack.fetch_strategy.HgFetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.HgFetchStrategy.enabled">
<code class="descname">enabled</code><em class="property"> = True</em><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.HgFetchStrategy.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.HgFetchStrategy.hg">
<code class="descname">hg</code><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.hg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.HgFetchStrategy.required_attributes">
<code class="descname">required_attributes</code><em class="property"> = ['hg']</em><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.required_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.HgFetchStrategy.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.HgFetchStrategy.reset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.InvalidArgsError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">InvalidArgsError</code><span class="sig-paren">(</span><em>pkg</em>, <em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.InvalidArgsError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.NoArchiveFileError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">NoArchiveFileError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_msg</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.NoArchiveFileError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.NoDigestError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">NoDigestError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.NoDigestError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.fetch_strategy.NoStageError">
<em class="property">exception </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">NoStageError</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.NoStageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchError" title="spack.fetch_strategy.FetchError"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchError</span></code></a></p>
<p>Raised when fetch operations are called before set_stage().</p>
</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.SvnFetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">SvnFetchStrategy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.VCSFetchStrategy" title="spack.fetch_strategy.VCSFetchStrategy"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.VCSFetchStrategy</span></code></a></p>
<p>Fetch strategy that gets source code from a subversion repository.
Use like this in a package:</p>
<blockquote>
<div>version(&#8216;name&#8217;, svn=&#8217;<a class="reference external" href="http://www.example.com/svn/trunk">http://www.example.com/svn/trunk</a>&#8216;)</div></blockquote>
<p>Optionally, you can provide a revision for the URL:</p>
<blockquote>
<div><dl class="docutils">
<dt>version(&#8216;name&#8217;, svn=&#8217;<a class="reference external" href="http://www.example.com/svn/trunk">http://www.example.com/svn/trunk</a>&#8216;,</dt>
<dd>revision=&#8216;1641&#8217;)</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="spack.fetch_strategy.SvnFetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.SvnFetchStrategy.enabled">
<code class="descname">enabled</code><em class="property"> = True</em><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.SvnFetchStrategy.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.SvnFetchStrategy.required_attributes">
<code class="descname">required_attributes</code><em class="property"> = ['svn']</em><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.required_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.SvnFetchStrategy.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.reset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.SvnFetchStrategy.svn">
<code class="descname">svn</code><a class="headerlink" href="#spack.fetch_strategy.SvnFetchStrategy.svn" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.URLFetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">URLFetchStrategy</code><span class="sig-paren">(</span><em>url=None</em>, <em>digest=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchStrategy" title="spack.fetch_strategy.FetchStrategy"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchStrategy</span></code></a></p>
<p>FetchStrategy that pulls source code from a URL for an archive,
checks the archive against a checksum,and decompresses the archive.</p>
<dl class="method">
<dt id="spack.fetch_strategy.URLFetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>destination</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd><p>Just moves this archive to the destination.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.URLFetchStrategy.archive_file">
<code class="descname">archive_file</code><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.archive_file" title="Permalink to this definition"></a></dt>
<dd><p>Path to the source archive within this stage directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.URLFetchStrategy.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.check" title="Permalink to this definition"></a></dt>
<dd><p>Check the downloaded archive against a checksum digest.
No-op if this stage checks code out of a repository.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.URLFetchStrategy.enabled">
<code class="descname">enabled</code><em class="property"> = True</em><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.enabled" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.URLFetchStrategy.expand">
<code class="descname">expand</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.expand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.URLFetchStrategy.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.fetch_strategy.URLFetchStrategy.required_attributes">
<code class="descname">required_attributes</code><em class="property"> = ['url']</em><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.required_attributes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.URLFetchStrategy.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.URLFetchStrategy.reset" title="Permalink to this definition"></a></dt>
<dd><p>Removes the source path if it exists, then re-expands the archive.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.fetch_strategy.VCSFetchStrategy">
<em class="property">class </em><code class="descclassname">spack.fetch_strategy.</code><code class="descname">VCSFetchStrategy</code><span class="sig-paren">(</span><em>name</em>, <em>*rev_types</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.VCSFetchStrategy" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.fetch_strategy.FetchStrategy" title="spack.fetch_strategy.FetchStrategy"><code class="xref py py-class docutils literal"><span class="pre">spack.fetch_strategy.FetchStrategy</span></code></a></p>
<dl class="method">
<dt id="spack.fetch_strategy.VCSFetchStrategy.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.VCSFetchStrategy.archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.VCSFetchStrategy.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.VCSFetchStrategy.check" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.fetch_strategy.VCSFetchStrategy.expand">
<code class="descname">expand</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.VCSFetchStrategy.expand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.fetch_strategy.args_are_for">
<code class="descclassname">spack.fetch_strategy.</code><code class="descname">args_are_for</code><span class="sig-paren">(</span><em>args</em>, <em>fetcher</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.args_are_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.fetch_strategy.for_package_version">
<code class="descclassname">spack.fetch_strategy.</code><code class="descname">for_package_version</code><span class="sig-paren">(</span><em>pkg</em>, <em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.for_package_version" title="Permalink to this definition"></a></dt>
<dd><p>Determine a fetch strategy based on the arguments supplied to
version() in the package description.</p>
</dd></dl>

<dl class="function">
<dt id="spack.fetch_strategy.from_kwargs">
<code class="descclassname">spack.fetch_strategy.</code><code class="descname">from_kwargs</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.from_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Construct the appropriate FetchStrategy from the given keyword arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> &#8211; dictionary of keyword arguments</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">fetcher or raise a FetchError exception</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="spack.fetch_strategy.from_url">
<code class="descclassname">spack.fetch_strategy.</code><code class="descname">from_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fetch_strategy.from_url" title="Permalink to this definition"></a></dt>
<dd><p>Given a URL, find an appropriate fetch strategy for it.
Currently just gives you a URLFetchStrategy that uses curl.</p>
<dl class="docutils">
<dt>TODO: make this return appropriate fetch strategies for other</dt>
<dd>types of URLs.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spack.graph">
<span id="spack-graph-module"></span><h2>spack.graph module<a class="headerlink" href="#module-spack.graph" title="Permalink to this headline"></a></h2>
<p>Functions for graphing DAGs of dependencies.</p>
<p>This file contains code for graphing DAGs of software packages
(i.e. Spack specs).  There are two main functions you probably care
about:</p>
<p>graph_ascii() will output a colored graph of a spec in ascii format,
kind of like the graph git shows with &#8220;git log &#8211;graph&#8221;, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>o  mpileaks
|    | |    | o |  callpath
|/| |
| |\|
| |\     | | |\     | | | | o  adept-utils
| |_|_|/|
|/| | | |
o | | | |  mpi
 / / / /
| | o |  dyninst
| |/| |
|/|/| |
| | |/
| o |  libdwarf
|/ /
o |  libelf
 /
o  boost
</pre></div>
</div>
<p>graph_dot() will output a graph of a spec (or multiple specs) in dot
format.</p>
<p>Note that <code class="docutils literal"><span class="pre">graph_ascii</span></code> assumes a single spec while <code class="docutils literal"><span class="pre">graph_dot</span></code>
can take a number of specs as input.</p>
<dl class="function">
<dt id="spack.graph.topological_sort">
<code class="descclassname">spack.graph.</code><code class="descname">topological_sort</code><span class="sig-paren">(</span><em>spec</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.graph.topological_sort" title="Permalink to this definition"></a></dt>
<dd><p>Topological sort for specs.</p>
<p>Return a list of dependency specs sorted topologically.  The spec
argument is not modified in the process.</p>
</dd></dl>

<dl class="function">
<dt id="spack.graph.graph_ascii">
<code class="descclassname">spack.graph.</code><code class="descname">graph_ascii</code><span class="sig-paren">(</span><em>spec</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.graph.graph_ascii" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="spack.graph.AsciiGraph">
<em class="property">class </em><code class="descclassname">spack.graph.</code><code class="descname">AsciiGraph</code><a class="headerlink" href="#spack.graph.AsciiGraph" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="spack.graph.AsciiGraph.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>spec</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.graph.AsciiGraph.write" title="Permalink to this definition"></a></dt>
<dd><p>Write out an ascii graph of the provided spec.</p>
<p>Arguments:
spec &#8211; spec to graph.  This only handles one spec at a time.</p>
<p>Optional arguments:</p>
<p>out &#8211; file object to write out to (default is sys.stdout)</p>
<dl class="docutils">
<dt>color &#8211; whether to write in color.  Default is to autodetect</dt>
<dd>based on output file.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.graph.graph_dot">
<code class="descclassname">spack.graph.</code><code class="descname">graph_dot</code><span class="sig-paren">(</span><em>*specs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.graph.graph_dot" title="Permalink to this definition"></a></dt>
<dd><p>Generate a graph in dot format of all provided specs.</p>
<p>Print out a dot formatted graph of all the dependencies between
package.  Output can be passed to graphviz, e.g.:</p>
<blockquote>
<div>spack graph &#8211;dot qt | dot -Tpdf &gt; spack-graph.pdf</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-spack.mirror">
<span id="spack-mirror-module"></span><h2>spack.mirror module<a class="headerlink" href="#module-spack.mirror" title="Permalink to this headline"></a></h2>
<p>This file contains code for creating spack mirror directories.  A
mirror is an organized hierarchy containing specially named archive
files.  This enabled spack to know where to find files in a mirror if
the main server for a particular package is down.  Or, if the computer
where spack is run is not connected to the internet, it allows spack
to download packages directly from a mirror (e.g., on an intranet).</p>
<dl class="exception">
<dt id="spack.mirror.MirrorError">
<em class="property">exception </em><code class="descclassname">spack.mirror.</code><code class="descname">MirrorError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.MirrorError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass of all mirror-creation related errors.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mirror.add_single_spec">
<code class="descclassname">spack.mirror.</code><code class="descname">add_single_spec</code><span class="sig-paren">(</span><em>spec</em>, <em>mirror_root</em>, <em>categories</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.add_single_spec" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.mirror.create">
<code class="descclassname">spack.mirror.</code><code class="descname">create</code><span class="sig-paren">(</span><em>path</em>, <em>specs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.create" title="Permalink to this definition"></a></dt>
<dd><p>Create a directory to be used as a spack mirror, and fill it with
package archives.</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><p class="first">path    Path to create a mirror directory hierarchy in.
specs   Any package versions matching these specs will be added</p>
<blockquote class="last">
<div>to the mirror.</div></blockquote>
</dd>
<dt>Keyword args:</dt>
<dd><p class="first">no_checksum:  If True, do not checkpoint when fetching (default False)
num_versions: Max number of versions to fetch per spec,</p>
<blockquote class="last">
<div>if spec is ambiguous (default is 0 for all of them)</div></blockquote>
</dd>
<dt>Return Value:</dt>
<dd>Returns a tuple of lists: (present, mirrored, error)
* present:  Package specs that were already present.
* mirrored: Package specs that were successfully mirrored.
* error:    Package specs that failed to mirror due to some error.</dd>
</dl>
<p>This routine iterates through all known package versions, and
it creates specs for those versions.  If the version satisfies any spec
in the specs list, it is downloaded and added to the mirror.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mirror.get_matching_versions">
<code class="descclassname">spack.mirror.</code><code class="descname">get_matching_versions</code><span class="sig-paren">(</span><em>specs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.get_matching_versions" title="Permalink to this definition"></a></dt>
<dd><p>Get a spec for EACH known version matching any spec in the list.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mirror.mirror_archive_filename">
<code class="descclassname">spack.mirror.</code><code class="descname">mirror_archive_filename</code><span class="sig-paren">(</span><em>spec</em>, <em>fetcher</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.mirror_archive_filename" title="Permalink to this definition"></a></dt>
<dd><p>Get the name of the spec&#8217;s archive in the mirror.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mirror.mirror_archive_path">
<code class="descclassname">spack.mirror.</code><code class="descname">mirror_archive_path</code><span class="sig-paren">(</span><em>spec</em>, <em>fetcher</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.mirror_archive_path" title="Permalink to this definition"></a></dt>
<dd><p>Get the relative path to the spec&#8217;s archive within a mirror.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mirror.suggest_archive_basename">
<code class="descclassname">spack.mirror.</code><code class="descname">suggest_archive_basename</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mirror.suggest_archive_basename" title="Permalink to this definition"></a></dt>
<dd><p>Return a tentative basename for an archive. Raise an exception if the name is among the allowed archive types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fetcher</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-spack.modules">
<span id="spack-modules-module"></span><h2>spack.modules module<a class="headerlink" href="#module-spack.modules" title="Permalink to this headline"></a></h2>
<p>This module contains code for creating environment modules, which can include dotkits, tcl modules, lmod, and others.</p>
<p>The various types of modules are installed by post-install hooks and removed after an uninstall by post-uninstall hooks.
This class consolidates the logic for creating an abstract description of the information that module systems need.
Currently that includes a number of directories to be appended to paths in the user&#8217;s environment:</p>
<blockquote>
<div><ul class="simple">
<li>/bin directories to be appended to PATH</li>
<li>/lib* directories for LD_LIBRARY_PATH</li>
<li>/include directories for CPATH</li>
<li>/man* and /share/man* directories for MANPATH</li>
<li>the package prefix for CMAKE_PREFIX_PATH</li>
</ul>
</div></blockquote>
<p>This module also includes logic for coming up with unique names for the module files so that they can be found by the
various shell-support files in $SPACK/share/spack/setup-env.*.</p>
<p>Each hook in hooks/ implements the logic for writing its specific type of module file.</p>
<dl class="class">
<dt id="spack.modules.EnvModule">
<em class="property">class </em><code class="descclassname">spack.modules.</code><code class="descname">EnvModule</code><span class="sig-paren">(</span><em>spec=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.EnvModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="spack.modules.EnvModule.category">
<code class="descname">category</code><a class="headerlink" href="#spack.modules.EnvModule.category" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.EnvModule.file_name">
<code class="descname">file_name</code><a class="headerlink" href="#spack.modules.EnvModule.file_name" title="Permalink to this definition"></a></dt>
<dd><p>Subclasses should implement this to return the name of the file
where this module lives.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.modules.EnvModule.formats">
<code class="descname">formats</code><em class="property"> = {}</em><a class="headerlink" href="#spack.modules.EnvModule.formats" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.EnvModule.name">
<code class="descname">name</code><em class="property"> = 'env_module'</em><a class="headerlink" href="#spack.modules.EnvModule.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.modules.EnvModule.process_environment_command">
<code class="descname">process_environment_command</code><span class="sig-paren">(</span><em>env</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.EnvModule.process_environment_command" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.modules.EnvModule.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.EnvModule.remove" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.EnvModule.use_name">
<code class="descname">use_name</code><a class="headerlink" href="#spack.modules.EnvModule.use_name" title="Permalink to this definition"></a></dt>
<dd><p>Subclasses should implement this to return the name the
module command uses to refer to the package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.modules.EnvModule.write">
<code class="descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.EnvModule.write" title="Permalink to this definition"></a></dt>
<dd><p>Write out a module file for this object.</p>
</dd></dl>

<dl class="method">
<dt id="spack.modules.EnvModule.write_header">
<code class="descname">write_header</code><span class="sig-paren">(</span><em>stream</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.EnvModule.write_header" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.modules.Dotkit">
<em class="property">class </em><code class="descclassname">spack.modules.</code><code class="descname">Dotkit</code><span class="sig-paren">(</span><em>spec=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.Dotkit" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.modules.EnvModule" title="spack.modules.EnvModule"><code class="xref py py-class docutils literal"><span class="pre">spack.modules.EnvModule</span></code></a></p>
<dl class="attribute">
<dt id="spack.modules.Dotkit.file_name">
<code class="descname">file_name</code><a class="headerlink" href="#spack.modules.Dotkit.file_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.Dotkit.formats">
<code class="descname">formats</code><em class="property"> = {&lt;class 'spack.environment.SetEnv'&gt;: 'dk_setenv {name} {value}\n', &lt;class 'spack.environment.PrependPath'&gt;: 'dk_alter {name} {value}\n'}</em><a class="headerlink" href="#spack.modules.Dotkit.formats" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.Dotkit.name">
<code class="descname">name</code><em class="property"> = 'dotkit'</em><a class="headerlink" href="#spack.modules.Dotkit.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.Dotkit.path">
<code class="descname">path</code><em class="property"> = '/Users/gamblin2/src/spack/share/spack/dotkit'</em><a class="headerlink" href="#spack.modules.Dotkit.path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.Dotkit.use_name">
<code class="descname">use_name</code><a class="headerlink" href="#spack.modules.Dotkit.use_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.modules.Dotkit.write_header">
<code class="descname">write_header</code><span class="sig-paren">(</span><em>dk_file</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.Dotkit.write_header" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.modules.TclModule">
<em class="property">class </em><code class="descclassname">spack.modules.</code><code class="descname">TclModule</code><span class="sig-paren">(</span><em>spec=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.TclModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.modules.EnvModule" title="spack.modules.EnvModule"><code class="xref py py-class docutils literal"><span class="pre">spack.modules.EnvModule</span></code></a></p>
<dl class="attribute">
<dt id="spack.modules.TclModule.file_name">
<code class="descname">file_name</code><a class="headerlink" href="#spack.modules.TclModule.file_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.TclModule.formats">
<code class="descname">formats</code><em class="property"> = {&lt;class 'spack.environment.RemovePath'&gt;: 'remove-path {name} &quot;{value}&quot;\n', &lt;class 'spack.environment.SetEnv'&gt;: 'setenv {name} &quot;{value}&quot;\n', &lt;class 'spack.environment.AppendPath'&gt;: 'append-path {name} &quot;{value}&quot;\n', &lt;class 'spack.environment.UnsetEnv'&gt;: 'unsetenv {name}\n', &lt;class 'spack.environment.PrependPath'&gt;: 'prepend-path {name} &quot;{value}&quot;\n'}</em><a class="headerlink" href="#spack.modules.TclModule.formats" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.TclModule.name">
<code class="descname">name</code><em class="property"> = 'tcl'</em><a class="headerlink" href="#spack.modules.TclModule.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.TclModule.path">
<code class="descname">path</code><em class="property"> = '/Users/gamblin2/src/spack/share/spack/modules'</em><a class="headerlink" href="#spack.modules.TclModule.path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.modules.TclModule.use_name">
<code class="descname">use_name</code><a class="headerlink" href="#spack.modules.TclModule.use_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.modules.TclModule.write_header">
<code class="descname">write_header</code><span class="sig-paren">(</span><em>module_file</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.modules.TclModule.write_header" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.multimethod">
<span id="spack-multimethod-module"></span><h2>spack.multimethod module<a class="headerlink" href="#module-spack.multimethod" title="Permalink to this headline"></a></h2>
<p>This module contains utilities for using multi-methods in
spack. You can think of multi-methods like overloaded methods &#8211;
they&#8217;re methods with the same name, and we need to select a version
of the method based on some criteria.  e.g., for overloaded
methods, you would select a version of the method to call based on
the types of its arguments.</p>
<p>In spack, multi-methods are used to ease the life of package
authors.  They allow methods like install() (or other methods
called by install()) to declare multiple versions to be called when
the package is instantiated with different specs.  e.g., if the
package is built with OpenMPI on x86_64,, you might want to call a
different install method than if it was built for mpich2 on
BlueGene/Q.  Likewise, you might want to do a different type of
install for different versions of the package.</p>
<p>Multi-methods provide a simple decorator-based syntax for this that
avoids overly complicated rat nests of if statements.  Obviously,
depending on the scenario, regular old conditionals might be clearer,
so package authors should use their judgement.</p>
<dl class="exception">
<dt id="spack.multimethod.MultiMethodError">
<em class="property">exception </em><code class="descclassname">spack.multimethod.</code><code class="descname">MultiMethodError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.multimethod.MultiMethodError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass for multimethod dispatch errors</p>
</dd></dl>

<dl class="exception">
<dt id="spack.multimethod.NoSuchMethodError">
<em class="property">exception </em><code class="descclassname">spack.multimethod.</code><code class="descname">NoSuchMethodError</code><span class="sig-paren">(</span><em>cls</em>, <em>method_name</em>, <em>spec</em>, <em>possible_specs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.multimethod.NoSuchMethodError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when we can&#8217;t find a version of a multi-method.</p>
</dd></dl>

<dl class="class">
<dt id="spack.multimethod.SpecMultiMethod">
<em class="property">class </em><code class="descclassname">spack.multimethod.</code><code class="descname">SpecMultiMethod</code><span class="sig-paren">(</span><em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.multimethod.SpecMultiMethod" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This implements a multi-method for Spack specs.  Packages are
instantiated with a particular spec, and you may want to
execute different versions of methods based on what the spec
looks like.  For example, you might want to call a different
version of install() for one platform than you call on another.</p>
<p>The SpecMultiMethod class implements a callable object that
handles method dispatch.  When it is called, it looks through
registered methods and their associated specs, and it tries
to find one that matches the package&#8217;s spec.  If it finds one
(and only one), it will call that method.</p>
<p>The package author is responsible for ensuring that only one
condition on multi-methods ever evaluates to true.  If
multiple methods evaluate to true, this will raise an
exception.</p>
<p>This is intended for use with decorators (see below).  The
decorator (see docs below) creates SpecMultiMethods and
registers method versions with them.</p>
<dl class="docutils">
<dt>To register a method, you can do something like this:</dt>
<dd>mm = SpecMultiMethod()
mm.register(&#8220;^chaos_5_x86_64_ib&#8221;, some_method)</dd>
</dl>
<p>The object registered needs to be a Spec or some string that
will parse to be a valid spec.</p>
<p>When the mm is actually called, it selects a version of the
method to call based on the sys_type of the object it is
called on.</p>
<p>See the docs for decorators below for more details.</p>
<dl class="method">
<dt id="spack.multimethod.SpecMultiMethod.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>spec</em>, <em>method</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.multimethod.SpecMultiMethod.register" title="Permalink to this definition"></a></dt>
<dd><p>Register a version of a method for a particular sys_type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.multimethod.when">
<em class="property">class </em><code class="descclassname">spack.multimethod.</code><code class="descname">when</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.multimethod.when" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This annotation lets packages declare multiple versions of
methods like install() that depend on the package&#8217;s spec.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># Do default install</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;=chaos_5_x86_64_ib&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># This will be executed instead of the default install if</span>
        <span class="c1"># the package&#39;s sys_type() is chaos_5_x86_64_ib.</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;=bgqos_0&quot;)</span>
    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># This will be executed if the package&#39;s sys_type is bgqos_0</span>
</pre></div>
</div>
<p>This allows each package to have a default version of install() AND
specialized versions for particular platforms.  The version that is
called depends on the architecutre of the instantiated package.</p>
<p>Note that this works for methods other than install, as well.  So,
if you only have part of the install that is platform specific, you
could do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="c1"># virtual dependence on MPI.</span>
    <span class="c1"># could resolve to mpich, mpich2, OpenMPI</span>
    <span class="n">depends_on</span><span class="p">(</span><span class="s1">&#39;mpi&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># do nothing in the default case</span>
        <span class="k">pass</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;^openmpi&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># do something special when this is built with OpenMPI for</span>
        <span class="c1"># its MPI implementations.</span>


    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># Do common install stuff</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
        <span class="c1"># Do more common install stuff</span>
</pre></div>
</div>
<p>There must be one (and only one) &#64;when clause that matches the
package&#8217;s spec.  If there is more than one, or if none match,
then the method will raise an exception when it&#8217;s called.</p>
<p>Note that the default version of decorated methods must
<em>always</em> come first.  Otherwise it will override all of the
platform-specific versions.  There&#8217;s not much we can do to get
around this because of the way decorators work.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.package">
<span id="spack-package-module"></span><h2>spack.package module<a class="headerlink" href="#module-spack.package" title="Permalink to this headline"></a></h2>
<p>This is where most of the action happens in Spack.
See the Package docs for detailed instructions on how the class works
and on how to write your own packages.</p>
<p>The spack package structure is based strongly on Homebrew
(<a class="reference external" href="http://wiki.github.com/mxcl/homebrew/">http://wiki.github.com/mxcl/homebrew/</a>), mainly because
Homebrew makes it very easy to create packages.  For a complete
rundown on spack and how it differs from homebrew, look at the
README.</p>
<dl class="exception">
<dt id="spack.package.ActivationError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">ActivationError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.ActivationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.ExtensionError" title="spack.package.ExtensionError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.ExtensionError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.DependencyConflictError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">DependencyConflictError</code><span class="sig-paren">(</span><em>conflict</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.DependencyConflictError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when the dependencies cannot be flattened as asked for.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.ExtensionConflictError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">ExtensionConflictError</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.ExtensionConflictError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.ExtensionError" title="spack.package.ExtensionError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.ExtensionError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.ExtensionError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">ExtensionError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.ExtensionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.PackageError" title="spack.package.PackageError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.PackageError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.ExternalPackageError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">ExternalPackageError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.ExternalPackageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.InstallError" title="spack.package.InstallError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.InstallError</span></code></a></p>
<p>Raised by install() when a package is only for external use.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.FetchError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">FetchError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.FetchError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when something goes wrong during fetch.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.InstallError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">InstallError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.InstallError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when something goes wrong during install or uninstall.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.NoURLError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">NoURLError</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.NoURLError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.PackageError" title="spack.package.PackageError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.PackageError</span></code></a></p>
<p>Raised when someone tries to build a URL for a package with no URLs.</p>
</dd></dl>

<dl class="class">
<dt id="spack.package.Package">
<em class="property">class </em><code class="descclassname">spack.package.</code><code class="descname">Package</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This is the superclass for all spack packages.</p>
<p><strong>*The Package class*</strong></p>
<p>Package is where the bulk of the work of installing packages is done.</p>
<p>A package defines how to fetch, verfiy (via, e.g., md5), build, and
install a piece of software.  A Package also defines what other
packages it depends on, so that dependencies can be installed along
with the package itself.  Packages are written in pure python.</p>
<p>Packages are all submodules of spack.packages.  If spack is installed
in $prefix, all of its python files are in $prefix/lib/spack.  Most
of them are in the spack module, so all the packages live in
$prefix/lib/spack/spack/packages.</p>
<p>All you have to do to create a package is make a new subclass of Package
in this directory.  Spack automatically scans the python files there
and figures out which one to import when you invoke it.</p>
<p><strong>An example package</strong></p>
<p>Let&#8217;s look at the cmake package to start with.  This package lives in
$prefix/lib/spack/spack/packages/cmake.py:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">spack</span> <span class="kn">import</span> <span class="o">*</span>
<span class="k">class</span> <span class="nc">Cmake</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="n">homepage</span>  <span class="o">=</span> <span class="s1">&#39;https://www.cmake.org&#39;</span>
    <span class="n">url</span>       <span class="o">=</span> <span class="s1">&#39;http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz&#39;</span>
    <span class="n">md5</span>       <span class="o">=</span> <span class="s1">&#39;097278785da7182ec0aea8769d06860c&#39;</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="n">configure</span><span class="p">(</span><span class="s1">&#39;--prefix=</span><span class="si">%s</span><span class="s1">&#39;</span>   <span class="o">%</span> <span class="n">prefix</span><span class="p">,</span>
                  <span class="s1">&#39;--parallel=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">make_jobs</span><span class="p">)</span>
        <span class="n">make</span><span class="p">()</span>
        <span class="n">make</span><span class="p">(</span><span class="s1">&#39;install&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Naming conventions</strong></p>
<p>There are two names you should care about:</p>
<ol class="arabic">
<li><p class="first">The module name, <code class="docutils literal"><span class="pre">cmake</span></code>.</p>
<ul class="simple">
<li>User will refers to this name, e.g. &#8216;spack install cmake&#8217;.</li>
<li>Corresponds to the name of the file, &#8216;cmake.py&#8217;, and it can
include <code class="docutils literal"><span class="pre">_</span></code>, <code class="docutils literal"><span class="pre">-</span></code>, and numbers (it can even start with a
number).</li>
</ul>
</li>
<li><p class="first">The class name, &#8220;Cmake&#8221;.  This is formed by converting <cite>-</cite> or
<code class="docutils literal"><span class="pre">_</span></code> in the module name to camel case.  If the name starts with
a number, we prefix the class name with <code class="docutils literal"><span class="pre">_</span></code>. Examples:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>Module Name       Class Name</dt>
<dd><p class="first last">foo_bar           FooBar
docbook-xml       DocbookXml
FooBar            Foobar
3proxy            _3proxy</p>
</dd>
</dl>
</div></blockquote>
<p>The class name is what spack looks for when it loads a package module.</p>
</div></blockquote>
</li>
</ol>
<p><strong>Required Attributes</strong></p>
<p>Aside from proper naming, here is the bare minimum set of things you
need when you make a package:</p>
<dl class="docutils">
<dt>homepage</dt>
<dd>informational URL, so that users know what they&#8217;re
installing.</dd>
<dt>url</dt>
<dd>URL of the source archive that spack will fetch.</dd>
<dt>install()</dt>
<dd>This function tells spack how to build and install the
software it downloaded.</dd>
</dl>
<p><strong>Optional Attributes</strong></p>
<p>You can also optionally add these attributes, if needed:</p>
<blockquote>
<div><dl class="docutils">
<dt>list_url</dt>
<dd>Webpage to scrape for available version strings. Default is the
directory containing the tarball; use this if the default isn&#8217;t
correct so that invoking &#8216;spack versions&#8217; will work for this
package.</dd>
<dt>url_version(self, version)</dt>
<dd>When spack downloads packages at particular versions, it just
converts version to string with str(version).  Override this if
your package needs special version formatting in its URL.  boost
is an example of a package that needs this.</dd>
</dl>
</div></blockquote>
<p><strong>*Creating Packages*</strong></p>
<p>As a package creator, you can probably ignore most of the preceding
information, because you can use the &#8216;spack create&#8217; command to do it
all automatically.</p>
<p>You as the package creator generally only have to worry about writing
your install function and specifying dependencies.</p>
<p><strong>spack create</strong></p>
<dl class="docutils">
<dt>Most software comes in nicely packaged tarballs, like this one:</dt>
<dd><a class="reference external" href="http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz">http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz</a></dd>
</dl>
<p>Taking a page from homebrew, spack deduces pretty much everything it
needs to know from the URL above.  If you simply type this:</p>
<blockquote>
<div>spack create <a class="reference external" href="http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz">http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz</a></div></blockquote>
<p>Spack will download the tarball, generate an md5 hash, figure out the
version and the name of the package from the URL, and create a new
package file for you with all the names and attributes set correctly.</p>
<p>Once this skeleton code is generated, spack pops up the new package in
your $EDITOR so that you can modify the parts that need changes.</p>
<p><strong>Dependencies</strong></p>
<p>If your package requires another in order to build, you can specify that
like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Stackwalker</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">depends_on</span><span class="p">(</span><span class="s2">&quot;libdwarf&quot;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This tells spack that before it builds stackwalker, it needs to build
the libdwarf package as well.  Note that this is the module name, not
the class name (The class name is really only used by spack to find
your package).</p>
<p>Spack will download an install each dependency before it installs your
package.  In addtion, it will add -L, -I, and rpath arguments to your
compiler and linker for each dependency.  In most cases, this allows you
to avoid specifying any dependencies in your configure or cmake line;
you can just run configure or cmake without any additional arguments and
it will find the dependencies automatically.</p>
<p><strong>The Install Function</strong></p>
<p>The install function is designed so that someone not too terribly familiar
with Python could write a package installer.  For example, we put a number
of commands in install scope that you can use almost like shell commands.
These include make, configure, cmake, rm, rmtree, mkdir, mkdirp, and others.</p>
<p>You can see above in the cmake script that these commands are used to run
configure and make almost like they&#8217;re used on the command line.  The
only difference is that they are python function calls and not shell
commands.</p>
<p>It may be puzzling to you where the commands and functions in install live.
They are NOT instance variables on the class; this would require us to
type &#8216;self.&#8217; all the time and it makes the install code unnecessarily long.
Rather, spack puts these commands and variables in <em>module</em> scope for your
Package subclass.  Since each package has its own module, this doesn&#8217;t
pollute other namespaces, and it allows you to more easily implement an
install function.</p>
<p>For a full list of commands and variables available in module scope, see the
add_commands_to_module() function in this class. This is where most of
them are created and set on the module.</p>
<p><strong>Parallel Builds</strong></p>
<p>By default, Spack will run make in parallel when you run make() in your
install function.  Spack figures out how many cores are available on
your system and runs make with -j&lt;cores&gt;.  If you do not want this behavior,
you can explicitly mark a package not to use parallel make:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">parallel</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This changes thd default behavior so that make is sequential.  If you still
want to build some parts in parallel, you can do this in your install function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">make</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Likewise, if you do not supply parallel = True in your Package, you can keep
the default parallel behavior and run make like this when you want a
sequential build:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">make</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Package Lifecycle</strong></p>
<p>This section is really only for developers of new spack commands.</p>
<p>A package&#8217;s lifecycle over a run of Spack looks something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Package</span><span class="p">()</span>             <span class="c1"># Done for you by spack</span>

<span class="n">p</span><span class="o">.</span><span class="n">do_fetch</span><span class="p">()</span>              <span class="c1"># downloads tarball from a URL</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_stage</span><span class="p">()</span>              <span class="c1"># expands tarball in a temp directory</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_patch</span><span class="p">()</span>              <span class="c1"># applies patches to expanded source</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_install</span><span class="p">()</span>            <span class="c1"># calls package&#39;s install() function</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_uninstall</span><span class="p">()</span>          <span class="c1"># removes install directory</span>
</pre></div>
</div>
<p>There are also some other commands that clean the build area:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">do_clean</span><span class="p">()</span>              <span class="c1"># removes the stage directory entirely</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_restage</span><span class="p">()</span>            <span class="c1"># removes the build directory and</span>
                          <span class="c1"># re-expands the archive.</span>
</pre></div>
</div>
<p>The convention used here is that a do_* function is intended to be called
internally by Spack commands (in spack.cmd).  These aren&#8217;t for package
writers to override, and doing so may break the functionality of the Package
class.</p>
<p>Package creators override functions like install() (all of them do this),
clean() (some of them do this), and others to provide custom behavior.</p>
<dl class="method">
<dt id="spack.package.Package.activate">
<code class="descname">activate</code><span class="sig-paren">(</span><em>extension</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.activate" title="Permalink to this definition"></a></dt>
<dd><p>Symlinks all files from the extension into extendee&#8217;s install dir.</p>
<p>Package authors can override this method to support other
extension mechanisms.  Spack internals (commands, hooks, etc.)
should call do_activate() method so that proper checks are
always executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.activated">
<code class="descname">activated</code><a class="headerlink" href="#spack.package.Package.activated" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.all_urls">
<code class="descname">all_urls</code><a class="headerlink" href="#spack.package.Package.all_urls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.build_log_path">
<code class="descname">build_log_path</code><a class="headerlink" href="#spack.package.Package.build_log_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.compiler">
<code class="descname">compiler</code><a class="headerlink" href="#spack.package.Package.compiler" title="Permalink to this definition"></a></dt>
<dd><p>Get the spack.compiler.Compiler object used to build this package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.deactivate">
<code class="descname">deactivate</code><span class="sig-paren">(</span><em>extension</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Unlinks all files from extension out of this package&#8217;s install dir.</p>
<p>Package authors can override this method to support other
extension mechanisms.  Spack internals (commands, hooks, etc.)
should call do_deactivate() method so that proper checks are
always executed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_activate">
<code class="descname">do_activate</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_activate" title="Permalink to this definition"></a></dt>
<dd><p>Called on an etension to invoke the extendee&#8217;s activate method.</p>
<p>Commands should call this routine, and should not call
activate() directly.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_clean">
<code class="descname">do_clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_clean" title="Permalink to this definition"></a></dt>
<dd><p>Removes the package&#8217;s build stage and source tarball.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_deactivate">
<code class="descname">do_deactivate</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Called on the extension to invoke extendee&#8217;s deactivate() method.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_fake_install">
<code class="descname">do_fake_install</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_fake_install" title="Permalink to this definition"></a></dt>
<dd><p>Make a fake install directory contaiing a &#8216;fake&#8217; file in bin.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_fetch">
<code class="descname">do_fetch</code><span class="sig-paren">(</span><em>mirror_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_fetch" title="Permalink to this definition"></a></dt>
<dd><p>Creates a stage directory and downloads the tarball for this package.
Working directory will be set to the stage directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_install">
<code class="descname">do_install</code><span class="sig-paren">(</span><em>keep_prefix=False</em>, <em>keep_stage=False</em>, <em>ignore_deps=False</em>, <em>skip_patch=False</em>, <em>verbose=False</em>, <em>make_jobs=None</em>, <em>fake=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_install" title="Permalink to this definition"></a></dt>
<dd><p>Called by commands to install a package and its dependencies.</p>
<p>Package implementations should override install() to describe
their build process.</p>
<p>Args:
keep_prefix &#8211; Keep install prefix on failure. By default, destroys it.
keep_stage  &#8211; By default, stage is destroyed only if there are no</p>
<blockquote>
<div>exceptions during build. Set to True to keep the stage
even with exceptions.</div></blockquote>
<p>ignore_deps &#8211; Do not install dependencies before installing this package.
fake        &#8211; Don&#8217;t really build &#8211; install fake stub files instead.
skip_patch  &#8211; Skip patch stage of build if True.
verbose     &#8211; Display verbose build output (by default, suppresses it)
make_jobs   &#8211; Number of make jobs to use for install.  Default is ncpus.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_install_dependencies">
<code class="descname">do_install_dependencies</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_install_dependencies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_patch">
<code class="descname">do_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_patch" title="Permalink to this definition"></a></dt>
<dd><p>Calls do_stage(), then applied patches to the expanded tarball if they
haven&#8217;t been applied already.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_restage">
<code class="descname">do_restage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_restage" title="Permalink to this definition"></a></dt>
<dd><p>Reverts expanded/checked out source to a pristine state.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_stage">
<code class="descname">do_stage</code><span class="sig-paren">(</span><em>mirror_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_stage" title="Permalink to this definition"></a></dt>
<dd><p>Unpacks the fetched tarball, then changes into the expanded tarball
directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.do_uninstall">
<code class="descname">do_uninstall</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.do_uninstall" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.extendable">
<code class="descname">extendable</code><em class="property"> = False</em><a class="headerlink" href="#spack.package.Package.extendable" title="Permalink to this definition"></a></dt>
<dd><p>List of prefix-relative file paths (or a single path). If these do
not exist after install, or if they exist but are not files,
sanity checks fail.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.extendee_args">
<code class="descname">extendee_args</code><a class="headerlink" href="#spack.package.Package.extendee_args" title="Permalink to this definition"></a></dt>
<dd><p>Spec of the extendee of this package, or None if it is not an extension.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.extendee_spec">
<code class="descname">extendee_spec</code><a class="headerlink" href="#spack.package.Package.extendee_spec" title="Permalink to this definition"></a></dt>
<dd><p>Spec of the extendee of this package, or None if it is not an extension.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.extends">
<code class="descname">extends</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.extends" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.fetch_remote_versions">
<code class="descname">fetch_remote_versions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.fetch_remote_versions" title="Permalink to this definition"></a></dt>
<dd><p>Try to find remote versions of this package using the
list_url and any other URLs described in the package file.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.fetcher">
<code class="descname">fetcher</code><a class="headerlink" href="#spack.package.Package.fetcher" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.format_doc">
<code class="descname">format_doc</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.format_doc" title="Permalink to this definition"></a></dt>
<dd><p>Wrap doc string at 72 characters and format nicely</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.install">
<code class="descname">install</code><span class="sig-paren">(</span><em>spec</em>, <em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.install" title="Permalink to this definition"></a></dt>
<dd><p>Package implementations override this with their own build configuration.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.installed">
<code class="descname">installed</code><a class="headerlink" href="#spack.package.Package.installed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.installed_dependents">
<code class="descname">installed_dependents</code><a class="headerlink" href="#spack.package.Package.installed_dependents" title="Permalink to this definition"></a></dt>
<dd><dl class="docutils">
<dt>Return a list of the specs of all installed packages that depend</dt>
<dd>on this one.</dd>
</dl>
<p>TODO: move this method to database.py?</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.is_extension">
<code class="descname">is_extension</code><a class="headerlink" href="#spack.package.Package.is_extension" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.make_jobs">
<code class="descname">make_jobs</code><em class="property"> = None</em><a class="headerlink" href="#spack.package.Package.make_jobs" title="Permalink to this definition"></a></dt>
<dd><p>Most packages are NOT extendable.  Set to True if you want extensions.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.module">
<code class="descname">module</code><a class="headerlink" href="#spack.package.Package.module" title="Permalink to this definition"></a></dt>
<dd><p>Use this to add variables to the class&#8217;s module&#8217;s scope.
This lets us use custom syntax in the install method.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.namespace">
<code class="descname">namespace</code><a class="headerlink" href="#spack.package.Package.namespace" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.nearest_url">
<code class="descname">nearest_url</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.nearest_url" title="Permalink to this definition"></a></dt>
<dd><p>Finds the URL for the next lowest version with a URL.
If there is no lower version with a URL, uses the
package url property. If that isn&#8217;t there, uses a
<em>higher</em> URL, and if that isn&#8217;t there raises an error.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.parallel">
<code class="descname">parallel</code><em class="property"> = True</em><a class="headerlink" href="#spack.package.Package.parallel" title="Permalink to this definition"></a></dt>
<dd><p># jobs to use for parallel make. If set, overrides default of ncpus.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.prefix">
<code class="descname">prefix</code><a class="headerlink" href="#spack.package.Package.prefix" title="Permalink to this definition"></a></dt>
<dd><p>Get the prefix into which this package should be installed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.preorder_traversal">
<code class="descname">preorder_traversal</code><span class="sig-paren">(</span><em>visited=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.preorder_traversal" title="Permalink to this definition"></a></dt>
<dd><p>This does a preorder traversal of the package&#8217;s dependence DAG.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.provides">
<code class="descname">provides</code><span class="sig-paren">(</span><em>vpkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.provides" title="Permalink to this definition"></a></dt>
<dd><p>True if this package provides a virtual package with the specified name.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.remove_prefix">
<code class="descname">remove_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.remove_prefix" title="Permalink to this definition"></a></dt>
<dd><p>Removes the prefix for a package along with any empty parent directories.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.rpath">
<code class="descname">rpath</code><a class="headerlink" href="#spack.package.Package.rpath" title="Permalink to this definition"></a></dt>
<dd><p>Get the rpath this package links with, as a list of paths.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.rpath_args">
<code class="descname">rpath_args</code><a class="headerlink" href="#spack.package.Package.rpath_args" title="Permalink to this definition"></a></dt>
<dd><p>Get the rpath args as a string, with -Wl,-rpath, for each element.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.sanity_check_is_dir">
<code class="descname">sanity_check_is_dir</code><em class="property"> = []</em><a class="headerlink" href="#spack.package.Package.sanity_check_is_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.sanity_check_is_file">
<code class="descname">sanity_check_is_file</code><em class="property"> = []</em><a class="headerlink" href="#spack.package.Package.sanity_check_is_file" title="Permalink to this definition"></a></dt>
<dd><p>List of prefix-relative directory paths (or a single path). If
these do not exist after install, or if they exist but are not
directories, sanity checks will fail.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.sanity_check_prefix">
<code class="descname">sanity_check_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.sanity_check_prefix" title="Permalink to this definition"></a></dt>
<dd><p>This function checks whether install succeeded.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.setup_dependent_environment">
<code class="descname">setup_dependent_environment</code><span class="sig-paren">(</span><em>spack_env</em>, <em>run_env</em>, <em>dependent_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.setup_dependent_environment" title="Permalink to this definition"></a></dt>
<dd><p>Set up the environment of packages that depend on this one.</p>
<p>This is similar to <cite>setup_environment</cite>, but it is used to
modify the compile and runtime environments of packages that
<em>depend</em> on this one. This gives packages like Python and
others that follow the extension model a way to implement
common environment or compile-time settings for dependencies.</p>
<p>By default, this delegates to self.setup_environment()</p>
<p>Example :</p>
<blockquote>
<div><ol class="arabic simple">
<li>Installing python modules generally requires</li>
</ol>
<blockquote>
<div><cite>PYTHONPATH</cite> to point to the lib/pythonX.Y/site-packages
directory in the module&#8217;s install prefix.  This could
set that variable.</div></blockquote>
</div></blockquote>
<p>Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>spack_env (EnvironmentModifications): list of</dt>
<dd>modifications to be applied when the dependent package
is bulit within Spack.</dd>
<dt>run_env (EnvironmentModifications): list of environment</dt>
<dd>changes to be applied when the dependent package is
run outside of Spack.</dd>
<dt>dependent_spec (Spec): The spec of the dependent package</dt>
<dd>about to be built. This allows the extendee (self) to
query the dependent&#8217;s state. Note that <em>this</em>
package&#8217;s spec is available as <cite>self.spec</cite>.</dd>
</dl>
</div></blockquote>
<p>This is useful if there are some common steps to installing
all extensions for a certain package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.setup_dependent_package">
<code class="descname">setup_dependent_package</code><span class="sig-paren">(</span><em>module</em>, <em>dependent_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.setup_dependent_package" title="Permalink to this definition"></a></dt>
<dd><p>Set up Python module-scope variables for dependent packages.</p>
<p>Called before the install() method of dependents.</p>
<p>Default implementation does nothing, but this can be
overridden by an extendable package to set up the module of
its extensions. This is useful if there are some common steps
to installing all extensions for a certain package.</p>
<p>Example :</p>
<blockquote>
<div><ol class="arabic simple">
<li>Extensions often need to invoke the <cite>python</cite>
interpreter from the Python installation being
extended.  This routine can put a &#8216;python&#8217; Executable
object in the module scope for the extension package to
simplify extension installs.</li>
<li>MPI compilers could set some variables in the
dependent&#8217;s scope that point to <cite>mpicc</cite>, <cite>mpicxx</cite>,
etc., allowing them to be called by common names
regardless of which MPI is used.</li>
<li>BLAS/LAPACK implementations can set some variables
indicating the path to their libraries, since these
paths differ by BLAS/LAPACK implementation.</li>
</ol>
</div></blockquote>
<p>Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>module (module): The Python <cite>module</cite> object of the</dt>
<dd>dependent package. Packages can use this to set
module-scope variables for the dependent to use.</dd>
<dt>dependent_spec (Spec): The spec of the dependent package</dt>
<dd>about to be built. This allows the extendee (self) to
query the dependent&#8217;s state.  Note that <em>this</em>
package&#8217;s spec is available as <cite>self.spec</cite>.</dd>
</dl>
</div></blockquote>
<p>This is useful if there are some common steps to installing
all extensions for a certain package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.setup_environment">
<code class="descname">setup_environment</code><span class="sig-paren">(</span><em>spack_env</em>, <em>run_env</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.setup_environment" title="Permalink to this definition"></a></dt>
<dd><p>Set up the compile and runtime environemnts for a package.</p>
<p><cite>spack_env</cite> and <cite>run_env</cite> are <cite>EnvironmentModifications</cite>
objects.  Package authors can call methods on them to alter
the environment within Spack and at runtime.</p>
<p>Both <cite>spack_env</cite> and <cite>run_env</cite> are applied within the build
process, before this package&#8217;s <cite>install()</cite> method is called.</p>
<p>Modifications in <cite>run_env</cite> will <em>also</em> be added to the
generated environment modules for this package.</p>
<p>Default implementation does nothing, but this can be
overridden if the package needs a particular environment.</p>
<p>Examples:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Qt extensions need <cite>QTDIR</cite> set.</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>spack_env (EnvironmentModifications): list of</dt>
<dd>modifications to be applied when this package is built
within Spack.</dd>
<dt>run_env (EnvironmentModifications): list of environment</dt>
<dd>changes to be applied when this package is run outside
of Spack.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.stage">
<code class="descname">stage</code><a class="headerlink" href="#spack.package.Package.stage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.url_for_version">
<code class="descname">url_for_version</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.url_for_version" title="Permalink to this definition"></a></dt>
<dd><p>Returns a URL that you can download a new version of this package from.</p>
</dd></dl>

<dl class="method">
<dt id="spack.package.Package.url_version">
<code class="descname">url_version</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.url_version" title="Permalink to this definition"></a></dt>
<dd><p>Given a version, this returns a string that should be substituted into the
package&#8217;s URL to download that version.
By default, this just returns the version string. Subclasses may need to
override this, e.g. for boost versions where you need to ensure that there
are _&#8217;s in the download URL.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.version">
<code class="descname">version</code><a class="headerlink" href="#spack.package.Package.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.package.Package.version_urls">
<code class="descname">version_urls</code><em class="property"> = &lt;functools.partial object&gt;</em><a class="headerlink" href="#spack.package.Package.version_urls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.package.Package.virtual_dependencies">
<code class="descname">virtual_dependencies</code><span class="sig-paren">(</span><em>visited=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.Package.virtual_dependencies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.package.PackageError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">PackageError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.PackageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when something is wrong with a package definition.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.PackageStillNeededError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">PackageStillNeededError</code><span class="sig-paren">(</span><em>spec</em>, <em>dependents</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.PackageStillNeededError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.InstallError" title="spack.package.InstallError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.InstallError</span></code></a></p>
<p>Raised when package is still needed by another on uninstall.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.PackageVersionError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">PackageVersionError</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.PackageVersionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.PackageError" title="spack.package.PackageError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.PackageError</span></code></a></p>
<p>Raised when a version URL cannot automatically be determined.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.package.VersionFetchError">
<em class="property">exception </em><code class="descclassname">spack.package.</code><code class="descname">VersionFetchError</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.VersionFetchError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.PackageError" title="spack.package.PackageError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.PackageError</span></code></a></p>
<p>Raised when a version URL cannot automatically be determined.</p>
</dd></dl>

<dl class="function">
<dt id="spack.package.dump_packages">
<code class="descclassname">spack.package.</code><code class="descname">dump_packages</code><span class="sig-paren">(</span><em>spec</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.dump_packages" title="Permalink to this definition"></a></dt>
<dd><p>Dump all package information for a spec and its dependencies.</p>
<p>This creates a package repository within path for every
namespace in the spec DAG, and fills the repos wtih package
files and patch files for every node in the DAG.</p>
</dd></dl>

<dl class="function">
<dt id="spack.package.flatten_dependencies">
<code class="descclassname">spack.package.</code><code class="descname">flatten_dependencies</code><span class="sig-paren">(</span><em>spec</em>, <em>flat_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.flatten_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Make each dependency of spec present in dir via symlink.</p>
</dd></dl>

<dl class="function">
<dt id="spack.package.install_dependency_symlinks">
<code class="descclassname">spack.package.</code><code class="descname">install_dependency_symlinks</code><span class="sig-paren">(</span><em>pkg</em>, <em>spec</em>, <em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.install_dependency_symlinks" title="Permalink to this definition"></a></dt>
<dd><p>Execute a dummy install and flatten dependencies</p>
</dd></dl>

<dl class="function">
<dt id="spack.package.print_pkg">
<code class="descclassname">spack.package.</code><code class="descname">print_pkg</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.print_pkg" title="Permalink to this definition"></a></dt>
<dd><p>Outputs a message with a package icon.</p>
</dd></dl>

<dl class="function">
<dt id="spack.package.validate_package_url">
<code class="descclassname">spack.package.</code><code class="descname">validate_package_url</code><span class="sig-paren">(</span><em>url_string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.package.validate_package_url" title="Permalink to this definition"></a></dt>
<dd><p>Determine whether spack can handle a particular URL or not.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.parse">
<span id="spack-parse-module"></span><h2>spack.parse module<a class="headerlink" href="#module-spack.parse" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.parse.LexError">
<em class="property">exception </em><code class="descclassname">spack.parse.</code><code class="descname">LexError</code><span class="sig-paren">(</span><em>message</em>, <em>string</em>, <em>pos</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.LexError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.parse.ParseError" title="spack.parse.ParseError"><code class="xref py py-class docutils literal"><span class="pre">spack.parse.ParseError</span></code></a></p>
<p>Raised when we don&#8217;t know how to lex something.</p>
</dd></dl>

<dl class="class">
<dt id="spack.parse.Lexer">
<em class="property">class </em><code class="descclassname">spack.parse.</code><code class="descname">Lexer</code><span class="sig-paren">(</span><em>lexicon</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Lexer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for Lexers that keep track of line numbers.</p>
<dl class="method">
<dt id="spack.parse.Lexer.lex">
<code class="descname">lex</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Lexer.lex" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.parse.Lexer.token">
<code class="descname">token</code><span class="sig-paren">(</span><em>type</em>, <em>value=''</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Lexer.token" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.parse.ParseError">
<em class="property">exception </em><code class="descclassname">spack.parse.</code><code class="descname">ParseError</code><span class="sig-paren">(</span><em>message</em>, <em>string</em>, <em>pos</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.ParseError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when we don&#8217;t hit an error while parsing.</p>
</dd></dl>

<dl class="class">
<dt id="spack.parse.Parser">
<em class="property">class </em><code class="descclassname">spack.parse.</code><code class="descname">Parser</code><span class="sig-paren">(</span><em>lexer</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for simple recursive descent parsers.</p>
<dl class="method">
<dt id="spack.parse.Parser.accept">
<code class="descname">accept</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.accept" title="Permalink to this definition"></a></dt>
<dd><p>Puts the next symbol in self.token if we like it.  Then calls gettok()</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.expect">
<code class="descname">expect</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.expect" title="Permalink to this definition"></a></dt>
<dd><p>Like accept(), but fails if we don&#8217;t like the next token.</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.gettok">
<code class="descname">gettok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.gettok" title="Permalink to this definition"></a></dt>
<dd><p>Puts the next token in the input stream into self.next.</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.last_token_error">
<code class="descname">last_token_error</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.last_token_error" title="Permalink to this definition"></a></dt>
<dd><p>Raise an error about the previous token in the stream.</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.next_token_error">
<code class="descname">next_token_error</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.next_token_error" title="Permalink to this definition"></a></dt>
<dd><p>Raise an error about the next token in the stream.</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.parse" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.push_tokens">
<code class="descname">push_tokens</code><span class="sig-paren">(</span><em>iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.push_tokens" title="Permalink to this definition"></a></dt>
<dd><p>Adds all tokens in some iterable to the token stream.</p>
</dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.setup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.parse.Parser.unexpected_token">
<code class="descname">unexpected_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Parser.unexpected_token" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.parse.Token">
<em class="property">class </em><code class="descclassname">spack.parse.</code><code class="descname">Token</code><span class="sig-paren">(</span><em>type</em>, <em>value=''</em>, <em>start=0</em>, <em>end=0</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Token" title="Permalink to this definition"></a></dt>
<dd><p>Represents tokens; generated from input by lexer and fed to parse().</p>
<dl class="method">
<dt id="spack.parse.Token.is_a">
<code class="descname">is_a</code><span class="sig-paren">(</span><em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.parse.Token.is_a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.patch">
<span id="spack-patch-module"></span><h2>spack.patch module<a class="headerlink" href="#module-spack.patch" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.patch.NoSuchPatchFileError">
<em class="property">exception </em><code class="descclassname">spack.patch.</code><code class="descname">NoSuchPatchFileError</code><span class="sig-paren">(</span><em>package</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.patch.NoSuchPatchFileError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when user specifies a patch file that doesn&#8217;t exist.</p>
</dd></dl>

<dl class="class">
<dt id="spack.patch.Patch">
<em class="property">class </em><code class="descclassname">spack.patch.</code><code class="descname">Patch</code><span class="sig-paren">(</span><em>pkg</em>, <em>path_or_url</em>, <em>level</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.patch.Patch" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class describes a patch to be applied to some expanded
source code.</p>
<dl class="method">
<dt id="spack.patch.Patch.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>stage</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.patch.Patch.apply" title="Permalink to this definition"></a></dt>
<dd><p>Fetch this patch, if necessary, and apply it to the source
code in the supplied stage.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.preferred_packages">
<span id="spack-preferred-packages-module"></span><h2>spack.preferred_packages module<a class="headerlink" href="#module-spack.preferred_packages" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.preferred_packages.PreferredPackages">
<em class="property">class </em><code class="descclassname">spack.preferred_packages.</code><code class="descname">PreferredPackages</code><a class="headerlink" href="#spack.preferred_packages.PreferredPackages" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.architecture_compare">
<code class="descname">architecture_compare</code><span class="sig-paren">(</span><em>pkgname</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.architecture_compare" title="Permalink to this definition"></a></dt>
<dd><p>Return less-than-0, 0, or greater than 0 if architecture a of pkgname is
respecively less-than, equal-to, or greater-than architecture b of pkgname.
One architecture is less-than another if it is preferred over the other.</p>
</dd></dl>

<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.compiler_compare">
<code class="descname">compiler_compare</code><span class="sig-paren">(</span><em>pkgname</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.compiler_compare" title="Permalink to this definition"></a></dt>
<dd><p>Return less-than-0, 0, or greater than 0 if compiler a of pkgname is
respecively less-than, equal-to, or greater-than compiler b of pkgname.
One compiler is less-than another if it is preferred over the other.</p>
</dd></dl>

<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.provider_compare">
<code class="descname">provider_compare</code><span class="sig-paren">(</span><em>pkgname</em>, <em>provider_str</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.provider_compare" title="Permalink to this definition"></a></dt>
<dd><p>Return less-than-0, 0, or greater than 0 if a is respecively less-than, equal-to, or
greater-than b. A and b are possible implementations of provider_str.
One provider is less-than another if it is preferred over the other.
For example, provider_compare(&#8216;scorep&#8217;, &#8216;mpi&#8217;, &#8216;mvapich&#8217;, &#8216;openmpi&#8217;) would return -1 if
mvapich should be preferred over openmpi for scorep.</p>
</dd></dl>

<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.spec_has_preferred_provider">
<code class="descname">spec_has_preferred_provider</code><span class="sig-paren">(</span><em>pkgname</em>, <em>provider_str</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.spec_has_preferred_provider" title="Permalink to this definition"></a></dt>
<dd><p>Return True iff the named package has a list of preferred provider</p>
</dd></dl>

<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.variant_compare">
<code class="descname">variant_compare</code><span class="sig-paren">(</span><em>pkgname</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.variant_compare" title="Permalink to this definition"></a></dt>
<dd><p>Return less-than-0, 0, or greater than 0 if variant a of pkgname is
respecively less-than, equal-to, or greater-than variant b of pkgname.
One variant is less-than another if it is preferred over the other.</p>
</dd></dl>

<dl class="method">
<dt id="spack.preferred_packages.PreferredPackages.version_compare">
<code class="descname">version_compare</code><span class="sig-paren">(</span><em>pkgname</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.preferred_packages.PreferredPackages.version_compare" title="Permalink to this definition"></a></dt>
<dd><p>Return less-than-0, 0, or greater than 0 if version a of pkgname is
respecively less-than, equal-to, or greater-than version b of pkgname.
One version is less-than another if it is preferred over the other.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack.repository">
<span id="spack-repository-module"></span><h2>spack.repository module<a class="headerlink" href="#module-spack.repository" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.repository.BadRepoError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">BadRepoError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.BadRepoError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.RepoError" title="spack.repository.RepoError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.RepoError</span></code></a></p>
<p>Raised when repo layout is invalid.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.DuplicateRepoError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">DuplicateRepoError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.DuplicateRepoError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.RepoError" title="spack.repository.RepoError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.RepoError</span></code></a></p>
<p>Raised when duplicate repos are added to a RepoPath.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.FailedConstructorError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">FailedConstructorError</code><span class="sig-paren">(</span><em>name</em>, <em>exc_type</em>, <em>exc_obj</em>, <em>exc_tb</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.FailedConstructorError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.PackageLoadError" title="spack.repository.PackageLoadError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.PackageLoadError</span></code></a></p>
<p>Raised when a package&#8217;s class constructor fails.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.InvalidNamespaceError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">InvalidNamespaceError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.InvalidNamespaceError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.RepoError" title="spack.repository.RepoError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.RepoError</span></code></a></p>
<p>Raised when an invalid namespace is encountered.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.NoRepoConfiguredError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">NoRepoConfiguredError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.NoRepoConfiguredError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.RepoError" title="spack.repository.RepoError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.RepoError</span></code></a></p>
<p>Raised when there are no repositories configured.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.PackageLoadError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">PackageLoadError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.PackageLoadError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass for errors related to loading packages.</p>
</dd></dl>

<dl class="class">
<dt id="spack.repository.Repo">
<em class="property">class </em><code class="descclassname">spack.repository.</code><code class="descname">Repo</code><span class="sig-paren">(</span><em>root</em>, <em>namespace='spack.pkg'</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class representing a package repository in the filesystem.</p>
<p>Each package repository must have a top-level configuration file
called <cite>repo.yaml</cite>.</p>
<p>Currently, <cite>repo.yaml</cite> this must define:</p>
<dl class="docutils">
<dt><cite>namespace</cite>:</dt>
<dd>A Python namespace where the repository&#8217;s packages should live.</dd>
</dl>
<dl class="method">
<dt id="spack.repository.Repo.all_package_names">
<code class="descname">all_package_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.all_package_names" title="Permalink to this definition"></a></dt>
<dd><p>Returns a sorted list of all package names in the Repo.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.all_packages">
<code class="descname">all_packages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.all_packages" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.dirname_for_package_name">
<code class="descname">dirname_for_package_name</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.dirname_for_package_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.dump_provenance">
<code class="descname">dump_provenance</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.dump_provenance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.exists" title="Permalink to this definition"></a></dt>
<dd><p>Whether a package with the supplied name exists.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.extensions_for">
<code class="descname">extensions_for</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.extensions_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.filename_for_package_name">
<code class="descname">filename_for_package_name</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.filename_for_package_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.find_module">
<code class="descname">find_module</code><span class="sig-paren">(</span><em>fullname</em>, <em>path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.find_module" title="Permalink to this definition"></a></dt>
<dd><p>Python find_module import hook.</p>
<p>Returns this Repo if it can load the module; None if not.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.get_pkg_class">
<code class="descname">get_pkg_class</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.get_pkg_class" title="Permalink to this definition"></a></dt>
<dd><p>Get the class for the package out of its module.</p>
<p>First loads (or fetches from cache) a module for the
package. Then extracts the package class from the module
according to Spack&#8217;s naming convention.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.is_prefix">
<code class="descname">is_prefix</code><span class="sig-paren">(</span><em>fullname</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.is_prefix" title="Permalink to this definition"></a></dt>
<dd><p>True if fullname is a prefix of this Repo&#8217;s namespace.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.load_module">
<code class="descname">load_module</code><span class="sig-paren">(</span><em>fullname</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.load_module" title="Permalink to this definition"></a></dt>
<dd><p>Python importer load hook.</p>
<p>Tries to load the module; raises an ImportError if it can&#8217;t.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.providers_for">
<code class="descname">providers_for</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.providers_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.purge">
<code class="descname">purge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.purge" title="Permalink to this definition"></a></dt>
<dd><p>Clear entire package instance cache.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.Repo.real_name">
<code class="descname">real_name</code><span class="sig-paren">(</span><em>import_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.Repo.real_name" title="Permalink to this definition"></a></dt>
<dd><p>Allow users to import Spack packages using Python identifiers.</p>
<p>A python identifier might map to many different Spack package
names due to hyphen/underscore ambiguity.</p>
<dl class="docutils">
<dt>Easy example:</dt>
<dd>num3proxy   -&gt; 3proxy</dd>
<dt>Ambiguous:</dt>
<dd>foo_bar -&gt; foo_bar, foo-bar</dd>
<dt>More ambiguous:</dt>
<dd>foo_bar_baz -&gt; foo_bar_baz, foo-bar-baz, foo_bar-baz, foo-bar_baz</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.repository.RepoError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">RepoError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass for repository-related errors.</p>
</dd></dl>

<dl class="class">
<dt id="spack.repository.RepoPath">
<em class="property">class </em><code class="descclassname">spack.repository.</code><code class="descname">RepoPath</code><span class="sig-paren">(</span><em>*repo_dirs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A RepoPath is a list of repos that function as one.</p>
<p>It functions exactly like a Repo, but it operates on the
combined results of the Repos in its list instead of on a
single package repository.</p>
<dl class="method">
<dt id="spack.repository.RepoPath.all_package_names">
<code class="descname">all_package_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.all_package_names" title="Permalink to this definition"></a></dt>
<dd><p>Return all unique package names in all repositories.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.all_packages">
<code class="descname">all_packages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.all_packages" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.dirname_for_package_name">
<code class="descname">dirname_for_package_name</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.dirname_for_package_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.dump_provenance">
<code class="descname">dump_provenance</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.dump_provenance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.exists" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.extensions_for">
<code class="descname">extensions_for</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.extensions_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.filename_for_package_name">
<code class="descname">filename_for_package_name</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.filename_for_package_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.find_module">
<code class="descname">find_module</code><span class="sig-paren">(</span><em>fullname</em>, <em>path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.find_module" title="Permalink to this definition"></a></dt>
<dd><p>Implements precedence for overlaid namespaces.</p>
<p>Loop checks each namespace in self.repos for packages, and
also handles loading empty containing namespaces.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.first_repo">
<code class="descname">first_repo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.first_repo" title="Permalink to this definition"></a></dt>
<dd><p>Get the first repo in precedence order.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.get_pkg_class">
<code class="descname">get_pkg_class</code><span class="sig-paren">(</span><em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.get_pkg_class" title="Permalink to this definition"></a></dt>
<dd><p>Find a class for the spec&#8217;s package and return the class object.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.get_repo">
<code class="descname">get_repo</code><span class="sig-paren">(</span><em>namespace</em>, <em>default=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.get_repo" title="Permalink to this definition"></a></dt>
<dd><p>Get a repository by namespace.
Arguments</p>
<blockquote>
<div><dl class="docutils">
<dt>namespace</dt>
<dd>Look up this namespace in the RepoPath, and return
it if found.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Optional Arguments</dt>
<dd><dl class="first last docutils">
<dt>default</dt>
<dd>If default is provided, return it when the namespace
isn&#8217;t found.  If not, raise an UnknownNamespaceError.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.load_module">
<code class="descname">load_module</code><span class="sig-paren">(</span><em>fullname</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.load_module" title="Permalink to this definition"></a></dt>
<dd><p>Handles loading container namespaces when necessary.</p>
<p>See <code class="docutils literal"><span class="pre">Repo</span></code> for how actual package modules are loaded.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.providers_for">
<code class="descname">providers_for</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.providers_for" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.put_first">
<code class="descname">put_first</code><span class="sig-paren">(</span><em>repo</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.put_first" title="Permalink to this definition"></a></dt>
<dd><p>Add repo first in the search path.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.put_last">
<code class="descname">put_last</code><span class="sig-paren">(</span><em>repo</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.put_last" title="Permalink to this definition"></a></dt>
<dd><p>Add repo last in the search path.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>repo</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.remove" title="Permalink to this definition"></a></dt>
<dd><p>Remove a repo from the search path.</p>
</dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.repo_for_pkg">
<code class="descname">repo_for_pkg</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.repo_for_pkg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.repository.RepoPath.swap">
<code class="descname">swap</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.RepoPath.swap" title="Permalink to this definition"></a></dt>
<dd><p>Convenience function to make swapping repostiories easier.</p>
<p>This is currently used by mock tests.
TODO: Maybe there is a cleaner way.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.repository.UnknownNamespaceError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">UnknownNamespaceError</code><span class="sig-paren">(</span><em>namespace</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.UnknownNamespaceError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.PackageLoadError" title="spack.repository.PackageLoadError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.PackageLoadError</span></code></a></p>
<p>Raised when we encounter an unknown namespace</p>
</dd></dl>

<dl class="exception">
<dt id="spack.repository.UnknownPackageError">
<em class="property">exception </em><code class="descclassname">spack.repository.</code><code class="descname">UnknownPackageError</code><span class="sig-paren">(</span><em>name</em>, <em>repo=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.UnknownPackageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.repository.PackageLoadError" title="spack.repository.PackageLoadError"><code class="xref py py-class docutils literal"><span class="pre">spack.repository.PackageLoadError</span></code></a></p>
<p>Raised when we encounter a package spack doesn&#8217;t have.</p>
</dd></dl>

<dl class="function">
<dt id="spack.repository.canonicalize_path">
<code class="descclassname">spack.repository.</code><code class="descname">canonicalize_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.canonicalize_path" title="Permalink to this definition"></a></dt>
<dd><p>Substitute $spack, expand user home, take abspath.</p>
</dd></dl>

<dl class="function">
<dt id="spack.repository.create_repo">
<code class="descclassname">spack.repository.</code><code class="descname">create_repo</code><span class="sig-paren">(</span><em>root</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.create_repo" title="Permalink to this definition"></a></dt>
<dd><p>Create a new repository in root with the specified namespace.</p>
<p>If the namespace is not provided, use basename of root.
Return the canonicalized path and the namespace of the created repository.</p>
</dd></dl>

<dl class="function">
<dt id="spack.repository.substitute_spack_prefix">
<code class="descclassname">spack.repository.</code><code class="descname">substitute_spack_prefix</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.repository.substitute_spack_prefix" title="Permalink to this definition"></a></dt>
<dd><p>Replaces instances of $spack with Spack&#8217;s prefix.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.resource">
<span id="spack-resource-module"></span><h2>spack.resource module<a class="headerlink" href="#module-spack.resource" title="Permalink to this headline"></a></h2>
<p>Describes an optional resource needed for a build.</p>
<p>Typically a bunch of sources that can be built in-tree within another
package to enable optional features.</p>
<dl class="class">
<dt id="spack.resource.Resource">
<em class="property">class </em><code class="descclassname">spack.resource.</code><code class="descname">Resource</code><span class="sig-paren">(</span><em>name</em>, <em>fetcher</em>, <em>destination</em>, <em>placement</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.resource.Resource" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Represents an optional resource. Aggregates a name, a fetcher, a destination and a placement</p>
</dd></dl>

</div>
<div class="section" id="module-spack.spec">
<span id="spack-spec-module"></span><h2>spack.spec module<a class="headerlink" href="#module-spack.spec" title="Permalink to this headline"></a></h2>
<p>Spack allows very fine-grained control over how packages are installed and
over how they are built and configured.  To make this easy, it has its own
syntax for declaring a dependence.  We call a descriptor of a particular
package configuration a &#8220;spec&#8221;.</p>
<p>The syntax looks like this:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>$ spack install mpileaks ^openmpi @1.2:1.4 +debug %intel @12.1 <span class="o">=</span>bgqos_0
                <span class="m">0</span>        <span class="m">1</span>        <span class="m">2</span>        <span class="m">3</span>      <span class="m">4</span>      <span class="m">5</span>     6
</pre></div>
</div>
<p>The first part of this is the command, &#8216;spack install&#8217;.  The rest of the
line is a spec for a particular installation of the mpileaks package.</p>
<ol class="arabic" start="0">
<li><p class="first">The package to install</p>
</li>
<li><p class="first">A dependency of the package, prefixed by ^</p>
</li>
<li><p class="first">A version descriptor for the package.  This can either be a specific
version, like &#8220;1.2&#8221;, or it can be a range of versions, e.g. &#8220;1.2:1.4&#8221;.
If multiple specific versions or multiple ranges are acceptable, they
can be separated by commas, e.g. if a package will only build with
versions 1.0, 1.2-1.4, and 1.6-1.8 of mavpich, you could say:</p>
<blockquote>
<div><p>depends_on(&#8220;<a class="reference external" href="mailto:mvapich&#37;&#52;&#48;1&#46;0">mvapich<span>&#64;</span>1<span>&#46;</span>0</a>,1.2:1.4,1.6:1.8&#8221;)</p>
</div></blockquote>
</li>
<li><p class="first">A compile-time variant of the package.  If you need openmpi to be
built in debug mode for your package to work, you can require it by
adding +debug to the openmpi spec when you depend on it.  If you do
NOT want the debug option to be enabled, then replace this with -debug.</p>
</li>
<li><p class="first">The name of the compiler to build with.</p>
</li>
<li><p class="first">The versions of the compiler to build with.  Note that the identifier
for a compiler version is the same &#8216;&#64;&#8217; that is used for a package version.
A version list denoted by &#8216;&#64;&#8217; is associated with the compiler only if
if it comes immediately after the compiler name.  Otherwise it will be
associated with the current package spec.</p>
</li>
<li><p class="first">The architecture to build with.  This is needed on machines where
cross-compilation is required</p>
</li>
</ol>
<p>Here is the EBNF grammar for a spec:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>spec-list    = { spec [ dep-list ] }
dep_list     = { ^ spec }
spec         = id [ options ]
options      = { @version-list | +variant | -variant | ~variant |
                 %compiler | =architecture }
variant      = id
architecture = id
compiler     = id [ version-list ]
version-list = version [ { , version } ]
version      = id | id: | :id | id:id
id           = [A-Za-z0-9_][A-Za-z0-9_.-]*
</pre></div>
</div>
<p>There is one context-sensitive part: ids in versions may contain &#8216;.&#8217;, while
other ids may not.</p>
<p>There is one ambiguity: since &#8216;-&#8216; is allowed in an id, you need to put
whitespace space before -variant for it to be tokenized properly.  You can
either use whitespace, or you can just use ~variant since it means the same
thing.  Spack uses ~variant in directory names and in the canonical form of
specs to avoid ambiguity.  Both are provided because ~ can cause shell
expansion when it is the first character in an id typed on the command line.</p>
<dl class="class">
<dt id="spack.spec.CompilerSpec">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">CompilerSpec</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The CompilerSpec field represents the compiler or range of compiler
versions that a package should be built with.  CompilerSpecs have a
name and a version list.</p>
<dl class="attribute">
<dt id="spack.spec.CompilerSpec.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.spec.CompilerSpec.concrete" title="Permalink to this definition"></a></dt>
<dd><p>A CompilerSpec is concrete if its versions are concrete and there
is an available compiler with the right version.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.CompilerSpec.constrain">
<code class="descname">constrain</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec.constrain" title="Permalink to this definition"></a></dt>
<dd><p>Intersect self&#8217;s versions with other.</p>
<p>Return whether the CompilerSpec changed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.CompilerSpec.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="spack.spec.CompilerSpec.from_dict">
<em class="property">static </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec.from_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.CompilerSpec.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>other</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec.satisfies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.CompilerSpec.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.CompilerSpec.to_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.spec.CompilerSpec.version">
<code class="descname">version</code><a class="headerlink" href="#spack.spec.CompilerSpec.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.spec.DependencyMap">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">DependencyMap</code><a class="headerlink" href="#spack.spec.DependencyMap" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">llnl.util.lang.HashableMap</span></code></p>
<p>Each spec has a DependencyMap containing specs for its dependencies.
The DependencyMap is keyed by name.</p>
<dl class="attribute">
<dt id="spack.spec.DependencyMap.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.spec.DependencyMap.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.spec.DuplicateArchitectureError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">DuplicateArchitectureError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.DuplicateArchitectureError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the same architecture occurs in a spec twice.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.DuplicateCompilerSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">DuplicateCompilerSpecError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.DuplicateCompilerSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the same compiler occurs in a spec twice.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.DuplicateDependencyError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">DuplicateDependencyError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.DuplicateDependencyError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the same dependency occurs in a spec twice.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.DuplicateVariantError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">DuplicateVariantError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.DuplicateVariantError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the same variant occurs in a spec twice.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.InconsistentSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">InconsistentSpecError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.InconsistentSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when two nodes in the same spec DAG have inconsistent
constraints.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.InvalidDependencyException">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">InvalidDependencyException</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.InvalidDependencyException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when a dependency in a spec is not actually a dependency
of the package.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.MultipleProviderError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">MultipleProviderError</code><span class="sig-paren">(</span><em>vpkg</em>, <em>providers</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.MultipleProviderError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when there is no package that provides a particular
virtual dependency.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.NoProviderError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">NoProviderError</code><span class="sig-paren">(</span><em>vpkg</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.NoProviderError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when there is no package that provides a particular
virtual dependency.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.SpackYAMLError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">SpackYAMLError</code><span class="sig-paren">(</span><em>msg</em>, <em>yaml_error</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpackYAMLError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="spack.spec.Spec">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">Spec</code><span class="sig-paren">(</span><em>spec_like</em>, <em>*dep_like</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="spack.spec.Spec.colorized">
<code class="descname">colorized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.colorized" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.common_dependencies">
<code class="descname">common_dependencies</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.common_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Return names of dependencies that self an other have in common.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.spec.Spec.concrete" title="Permalink to this definition"></a></dt>
<dd><p>A spec is concrete if it can describe only ONE build of a package.
If any of the name, version, architecture, compiler,
variants, or depdenencies are ambiguous,then it is not concrete.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.concretize">
<code class="descname">concretize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.concretize" title="Permalink to this definition"></a></dt>
<dd><p>A spec is concrete if it describes one build of a package uniquely.
This will ensure that this spec is concrete.</p>
<p>If this spec could describe more than one version, variant, or build
of a package, this will add constraints to make it concrete.</p>
<p>Some rigorous validation and checks are also performed on the spec.
Concretizing ensures that it is self-consistent and that it&#8217;s consistent
with requirements of its pacakges.  See flatten() and normalize() for
more details on this.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.concretized">
<code class="descname">concretized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.concretized" title="Permalink to this definition"></a></dt>
<dd><p>This is a non-destructive version of concretize().  First clones,
then returns a concrete version of this package without modifying
this package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.constrain">
<code class="descname">constrain</code><span class="sig-paren">(</span><em>other</em>, <em>deps=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.constrain" title="Permalink to this definition"></a></dt>
<dd><p>Merge the constraints of other with self.</p>
<p>Returns True if the spec changed as a result, False if not.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.constrained">
<code class="descname">constrained</code><span class="sig-paren">(</span><em>other</em>, <em>deps=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.constrained" title="Permalink to this definition"></a></dt>
<dd><p>Return a constrained copy without modifying this spec.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.copy" title="Permalink to this definition"></a></dt>
<dd><p>Return a copy of this spec.
By default, returns a deep copy.  Supply dependencies=False
to get a shallow copy.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.cshort_spec">
<code class="descname">cshort_spec</code><a class="headerlink" href="#spack.spec.Spec.cshort_spec" title="Permalink to this definition"></a></dt>
<dd><p>Returns a version of the spec with the dependencies hashed
instead of completely enumerated.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.dag_hash">
<code class="descname">dag_hash</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.dag_hash" title="Permalink to this definition"></a></dt>
<dd><p>Return a hash of the entire spec DAG, including connectivity.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.dep_difference">
<code class="descname">dep_difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.dep_difference" title="Permalink to this definition"></a></dt>
<dd><p>Returns dependencies in self that are not in other.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.dep_string">
<code class="descname">dep_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.dep_string" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.eq_dag">
<code class="descname">eq_dag</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.eq_dag" title="Permalink to this definition"></a></dt>
<dd><p>True if the full dependency DAGs of specs are equal</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.eq_node">
<code class="descname">eq_node</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.eq_node" title="Permalink to this definition"></a></dt>
<dd><p>Equality with another spec, not including dependencies.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.flat_dependencies">
<code class="descname">flat_dependencies</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.flat_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Return a DependencyMap containing all of this spec&#8217;s
dependencies with their constraints merged.</p>
<p>If copy is True, returns merged copies of its dependencies
without modifying the spec it&#8217;s called on.</p>
<p>If copy is False, clears this spec&#8217;s dependencies and
returns them.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.flatten" title="Permalink to this definition"></a></dt>
<dd><p>Pull all dependencies up to the root (this spec).
Merge constraints for dependencies with the same name, and if they
conflict, throw an exception.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>format_string='$_$&#64;$%&#64;$+$='</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.format" title="Permalink to this definition"></a></dt>
<dd><p>Prints out particular pieces of a spec, depending on what is
in the format string.  The format strings you can provide are:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$_   Package name
$.   Full package name (with namespace)
$@   Version with &#39;@&#39; prefix
$%   Compiler with &#39;%&#39; prefix
$%@  Compiler with &#39;%&#39; prefix &amp; compiler version with &#39;@&#39; prefix
$+   Options
$=   Architecture with &#39;=&#39; prefix
$#   7-char prefix of DAG hash with &#39;-&#39; prefix
$$   $

You can also use full-string versions, which leave off the prefixes:

${PACKAGE}       Package name
${VERSION}       Version
${COMPILER}      Full compiler string
${COMPILERNAME}  Compiler name
${COMPILERVER}   Compiler version
${OPTIONS}       Options
${ARCHITECTURE}  Architecture
${SHA1}          Dependencies 8-char sha1 prefix

${SPACK_ROOT}    The spack root directory
${SPACK_INSTALL} The default spack install directory, ${SPACK_PREFIX}/opt
</pre></div>
</div>
<p>Optionally you can provide a width, e.g. $20_ for a 20-wide name.
Like printf, you can provide &#8216;-&#8216; for left justification, e.g.
$-<a href="#id13"><span class="problematic" id="id14">20_</span></a> for a left-justified name.</p>
<p>Anything else is copied verbatim into the output stream.</p>
<p><em>Example:</em>  <code class="docutils literal"><span class="pre">$_$&#64;$+</span></code> translates to the name, version, and options
of the package, but no dependencies, arch, or compiler.</p>
<p>TODO: allow, e.g., $6# to customize short hash length
TODO: allow, e.g., $## for full hash.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="spack.spec.Spec.from_node_dict">
<em class="property">static </em><code class="descname">from_node_dict</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.from_node_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="spack.spec.Spec.from_yaml">
<em class="property">static </em><code class="descname">from_yaml</code><span class="sig-paren">(</span><em>stream</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.from_yaml" title="Permalink to this definition"></a></dt>
<dd><p>Construct a spec from YAML.</p>
<p>Parameters:
stream &#8211; string or file object to read from.</p>
<p>TODO: currently discards hashes. Include hashes when they
represent more than the DAG does.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.fullname">
<code class="descname">fullname</code><a class="headerlink" href="#spack.spec.Spec.fullname" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.index">
<code class="descname">index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.index" title="Permalink to this definition"></a></dt>
<dd><p>Return DependencyMap that points to all the dependencies in this
spec.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="spack.spec.Spec.is_virtual">
<em class="property">static </em><code class="descname">is_virtual</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.is_virtual" title="Permalink to this definition"></a></dt>
<dd><p>Test if a name is virtual without requiring a Spec.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.ne_dag">
<code class="descname">ne_dag</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.ne_dag" title="Permalink to this definition"></a></dt>
<dd><p>True if the full dependency DAGs of specs are not equal</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.ne_node">
<code class="descname">ne_node</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.ne_node" title="Permalink to this definition"></a></dt>
<dd><p>Inequality with another spec, not including dependencies.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.normalize" title="Permalink to this definition"></a></dt>
<dd><p>When specs are parsed, any dependencies specified are hanging off
the root, and ONLY the ones that were explicitly provided are there.
Normalization turns a partial flat spec into a DAG, where:</p>
<ol class="arabic simple">
<li>Known dependencies of the root package are in the DAG.</li>
<li>Each node&#8217;s dependencies dict only contains its known direct deps.</li>
<li>There is only ONE unique spec for each package in the DAG.<ul>
<li>This includes virtual packages.  If there a non-virtual
package that provides a virtual package that is in the spec,
then we replace the virtual package with the non-virtual one.</li>
</ul>
</li>
</ol>
<p>TODO: normalize should probably implement some form of cycle detection,
to ensure that the spec is actually a DAG.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.normalized">
<code class="descname">normalized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.normalized" title="Permalink to this definition"></a></dt>
<dd><p>Return a normalized copy of this spec without modifying this spec.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.package">
<code class="descname">package</code><a class="headerlink" href="#spack.spec.Spec.package" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.package_class">
<code class="descname">package_class</code><a class="headerlink" href="#spack.spec.Spec.package_class" title="Permalink to this definition"></a></dt>
<dd><p>Internal package call gets only the class object for a package.
Use this to just get package metadata.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.prefix">
<code class="descname">prefix</code><a class="headerlink" href="#spack.spec.Spec.prefix" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.root">
<code class="descname">root</code><a class="headerlink" href="#spack.spec.Spec.root" title="Permalink to this definition"></a></dt>
<dd><p>Follow dependent links and find the root of this spec&#8217;s DAG.
In spack specs, there should be a single root (the package being
installed).  This will throw an assertion error if that is not
the case.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>other</em>, <em>deps=True</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>Determine if this spec satisfies all constraints of another.</p>
<p>There are two senses for satisfies:</p>
<blockquote>
<div><ul class="simple">
<li><cite>loose</cite> (default): the absence of a constraint in self
implies that it <em>could</em> be satisfied by other, so we only
check that there are no conflicts with other for
constraints that this spec actually has.</li>
<li><cite>strict</cite>: strict means that we <em>must</em> meet all the
constraints specified on other.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.satisfies_dependencies">
<code class="descname">satisfies_dependencies</code><span class="sig-paren">(</span><em>other</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.satisfies_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>This checks constraints on common dependencies against each other.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.short_spec">
<code class="descname">short_spec</code><a class="headerlink" href="#spack.spec.Spec.short_spec" title="Permalink to this definition"></a></dt>
<dd><p>Returns a version of the spec with the dependencies hashed
instead of completely enumerated.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.sorted_deps">
<code class="descname">sorted_deps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.sorted_deps" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all dependencies sorted by name.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.to_node_dict">
<code class="descname">to_node_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.to_node_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.to_yaml">
<code class="descname">to_yaml</code><span class="sig-paren">(</span><em>stream=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.to_yaml" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.traverse">
<code class="descname">traverse</code><span class="sig-paren">(</span><em>visited=None</em>, <em>d=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.traverse" title="Permalink to this definition"></a></dt>
<dd><p>Generic traversal of the DAG represented by this spec.
This will yield each node in the spec.  Options:</p>
<dl class="docutils">
<dt>order    [=pre|post]</dt>
<dd><p class="first">Order to traverse spec nodes. Defaults to preorder traversal.
Options are:</p>
<dl class="last docutils">
<dt>&#8216;pre&#8217;:  Pre-order traversal; each node is yielded before its</dt>
<dd>children in the dependency DAG.</dd>
<dt>&#8216;post&#8217;: Post-order  traversal; each node is yielded after its</dt>
<dd>children in the dependency DAG.</dd>
</dl>
</dd>
<dt>cover    [=nodes|edges|paths]</dt>
<dd><p class="first">Determines how extensively to cover the dag.  Possible vlaues:</p>
<dl class="last docutils">
<dt>&#8216;nodes&#8217;: Visit each node in the dag only once.  Every node</dt>
<dd>yielded by this function will be unique.</dd>
<dt>&#8216;edges&#8217;: If a node has been visited once but is reached along a</dt>
<dd>new path from the root, yield it but do not descend
into it.  This traverses each &#8216;edge&#8217; in the DAG once.</dd>
<dt>&#8216;paths&#8217;: Explore every unique path reachable from the root.</dt>
<dd>This descends into visited subtrees and will yield
nodes twice if they&#8217;re reachable by multiple paths.</dd>
</dl>
</dd>
<dt>depth    [=False]</dt>
<dd>Defaults to False.  When True, yields not just nodes in the
spec, but also their depth from the root in a (depth, node)
tuple.</dd>
<dt>key   [=id]</dt>
<dd>Allow a custom key function to track the identity of nodes
in the traversal.</dd>
<dt>root     [=True]</dt>
<dd>If false, this won&#8217;t yield the root node, just its descendents.</dd>
<dt>direction [=children|parents]</dt>
<dd>If &#8216;children&#8217;, does a traversal of this spec&#8217;s children.  If
&#8216;parents&#8217;, traverses upwards in the DAG towards the root.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.tree">
<code class="descname">tree</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.tree" title="Permalink to this definition"></a></dt>
<dd><p>Prints out this spec and its dependencies, tree-formatted
with indentation.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.validate_names">
<code class="descname">validate_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.validate_names" title="Permalink to this definition"></a></dt>
<dd><p>This checks that names of packages and compilers in this spec are real.
If they&#8217;re not, it will raise either UnknownPackageError or
UnsupportedCompilerError.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.version">
<code class="descname">version</code><a class="headerlink" href="#spack.spec.Spec.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.spec.Spec.virtual">
<code class="descname">virtual</code><a class="headerlink" href="#spack.spec.Spec.virtual" title="Permalink to this definition"></a></dt>
<dd><p>Right now, a spec is virtual if no package exists with its name.</p>
<p>TODO: revisit this &#8211; might need to use a separate namespace and
be more explicit about this.
Possible idea: just use conventin and make virtual deps all
caps, e.g., MPI vs mpi.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.Spec.virtual_dependencies">
<code class="descname">virtual_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.Spec.virtual_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Return list of any virtual deps in this spec.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.spec.SpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">SpecError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Superclass for all errors that occur while constructing specs.</p>
</dd></dl>

<dl class="class">
<dt id="spack.spec.SpecLexer">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">SpecLexer</code><a class="headerlink" href="#spack.spec.SpecLexer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.parse.Lexer" title="spack.parse.Lexer"><code class="xref py py-class docutils literal"><span class="pre">spack.parse.Lexer</span></code></a></p>
<p>Parses tokens that make up spack specs.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.SpecParseError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">SpecParseError</code><span class="sig-paren">(</span><em>parse_error</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParseError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Wrapper for ParseError for when we&#8217;re parsing specs.</p>
</dd></dl>

<dl class="class">
<dt id="spack.spec.SpecParser">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">SpecParser</code><a class="headerlink" href="#spack.spec.SpecParser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.parse.Parser" title="spack.parse.Parser"><code class="xref py py-class docutils literal"><span class="pre">spack.parse.Parser</span></code></a></p>
<dl class="method">
<dt id="spack.spec.SpecParser.architecture">
<code class="descname">architecture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.architecture" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.check_identifier">
<code class="descname">check_identifier</code><span class="sig-paren">(</span><em>id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.check_identifier" title="Permalink to this definition"></a></dt>
<dd><p>The only identifiers that can contain &#8216;.&#8217; are versions, but version
ids are context-sensitive so we have to check on a case-by-case
basis. Call this if we detect a version id where it shouldn&#8217;t be.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.compiler">
<code class="descname">compiler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.compiler" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.do_parse">
<code class="descname">do_parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.do_parse" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.parse_compiler">
<code class="descname">parse_compiler</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.parse_compiler" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.spec">
<code class="descname">spec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.spec" title="Permalink to this definition"></a></dt>
<dd><p>Parse a spec out of the input.  If a spec is supplied, then initialize
and return it instead of creating a new one.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.variant">
<code class="descname">variant</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.variant" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.SpecParser.version_list">
<code class="descname">version_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.SpecParser.version_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnknownVariantError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnknownVariantError</code><span class="sig-paren">(</span><em>pkg</em>, <em>variant</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnknownVariantError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the same variant occurs in a spec twice.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableArchitectureSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableArchitectureSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableArchitectureSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when a spec architecture conflicts with package constraints.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableCompilerSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableCompilerSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableCompilerSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when a spec comiler conflicts with package constraints.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableDependencySpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableDependencySpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableDependencySpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when some dependency of constrained specs are incompatible</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableProviderSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableProviderSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableProviderSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when a provider is supplied but constraints don&#8217;t match
a vpkg requirement</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em>, <em>constraint_type</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when a spec conflicts with package constraints.
Provide the requirement that was violated when raising.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableSpecNameError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableSpecNameError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableSpecNameError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when two specs aren&#8217;t even for the same package.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableVariantSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableVariantSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableVariantSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when a spec variant conflicts with package constraints.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsatisfiableVersionSpecError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsatisfiableVersionSpecError</code><span class="sig-paren">(</span><em>provided</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsatisfiableVersionSpecError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.UnsatisfiableSpecError" title="spack.spec.UnsatisfiableSpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.UnsatisfiableSpecError</span></code></a></p>
<p>Raised when a spec version conflicts with package constraints.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.spec.UnsupportedCompilerError">
<em class="property">exception </em><code class="descclassname">spack.spec.</code><code class="descname">UnsupportedCompilerError</code><span class="sig-paren">(</span><em>compiler_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.UnsupportedCompilerError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.spec.SpecError" title="spack.spec.SpecError"><code class="xref py py-class docutils literal"><span class="pre">spack.spec.SpecError</span></code></a></p>
<p>Raised when the user asks for a compiler spack doesn&#8217;t know about.</p>
</dd></dl>

<dl class="class">
<dt id="spack.spec.VariantMap">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">VariantMap</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantMap" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">llnl.util.lang.HashableMap</span></code></p>
<dl class="attribute">
<dt id="spack.spec.VariantMap.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.spec.VariantMap.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.VariantMap.constrain">
<code class="descname">constrain</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantMap.constrain" title="Permalink to this definition"></a></dt>
<dd><p>Add all variants in other that aren&#8217;t in self to self.</p>
<p>Raises an error if any common variants don&#8217;t match.
Return whether the spec changed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.spec.VariantMap.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantMap.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.spec.VariantMap.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>other</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantMap.satisfies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.spec.VariantSpec">
<em class="property">class </em><code class="descclassname">spack.spec.</code><code class="descname">VariantSpec</code><span class="sig-paren">(</span><em>name</em>, <em>enabled</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantSpec" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Variants are named, build-time options for a package.  Names depend
on the particular package being built, and each named variant can
be enabled or disabled.</p>
<dl class="method">
<dt id="spack.spec.VariantSpec.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.VariantSpec.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="data">
<dt id="spack.spec.color_formats">
<code class="descclassname">spack.spec.</code><code class="descname">color_formats</code><em class="property"> = {'&#64;': '&#64;c', '#': '&#64;K', '%': '&#64;g', '+': '&#64;B', '~': '&#64;r', '=': '&#64;m', '^': '&#64;.'}</em><a class="headerlink" href="#spack.spec.color_formats" title="Permalink to this definition"></a></dt>
<dd><p>Regex used for splitting by spec field separators.</p>
</dd></dl>

<dl class="function">
<dt id="spack.spec.colorize_spec">
<code class="descclassname">spack.spec.</code><code class="descname">colorize_spec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.colorize_spec" title="Permalink to this definition"></a></dt>
<dd><p>Returns a spec colorized according to the colors specified in
color_formats.</p>
</dd></dl>

<dl class="data">
<dt id="spack.spec.hash_color">
<code class="descclassname">spack.spec.</code><code class="descname">hash_color</code><em class="property"> = '&#64;K'</em><a class="headerlink" href="#spack.spec.hash_color" title="Permalink to this definition"></a></dt>
<dd><p>This map determines the coloring of specs when using color output.
We make the fields different colors to enhance readability.
See spack.color for descriptions of the color codes.</p>
</dd></dl>

<dl class="function">
<dt id="spack.spec.index_specs">
<code class="descclassname">spack.spec.</code><code class="descname">index_specs</code><span class="sig-paren">(</span><em>specs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.index_specs" title="Permalink to this definition"></a></dt>
<dd><p>Take a list of specs and return a dict of lists.  Dict is
keyed by spec name and lists include all specs with the
same name.</p>
</dd></dl>

<dl class="function">
<dt id="spack.spec.parse">
<code class="descclassname">spack.spec.</code><code class="descname">parse</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.parse" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of specs from an input string.
For creating one spec, see Spec() constructor.</p>
</dd></dl>

<dl class="function">
<dt id="spack.spec.parse_anonymous_spec">
<code class="descclassname">spack.spec.</code><code class="descname">parse_anonymous_spec</code><span class="sig-paren">(</span><em>spec_like</em>, <em>pkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.spec.parse_anonymous_spec" title="Permalink to this definition"></a></dt>
<dd><p>Allow the user to omit the package name part of a spec if they
know what it has to be already.</p>
<p>e.g., provides(&#8216;mpi&#64;2&#8217;, <a class="reference external" href="mailto:when='&#37;&#52;&#48;1&#46;9">when='<span>&#64;</span>1<span>&#46;</span>9</a>:&#8217;) says that this package
provides MPI-3 when its version is higher than 1.9.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.stage">
<span id="spack-stage-module"></span><h2>spack.stage module<a class="headerlink" href="#module-spack.stage" title="Permalink to this headline"></a></h2>
<dl class="exception">
<dt id="spack.stage.ChdirError">
<em class="property">exception </em><code class="descclassname">spack.stage.</code><code class="descname">ChdirError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.ChdirError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.stage.StageError" title="spack.stage.StageError"><code class="xref py py-class docutils literal"><span class="pre">spack.stage.StageError</span></code></a></p>
<p>Raised when Spack can&#8217;t change directories.</p>
</dd></dl>

<dl class="class">
<dt id="spack.stage.DIYStage">
<em class="property">class </em><code class="descclassname">spack.stage.</code><code class="descname">DIYStage</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Simple class that allows any directory to be a spack stage.</p>
<dl class="method">
<dt id="spack.stage.DIYStage.chdir">
<code class="descname">chdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.chdir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.chdir_to_source">
<code class="descname">chdir_to_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.chdir_to_source" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.check" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.destroy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.expand_archive">
<code class="descname">expand_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.expand_archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>mirror_only</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.fetch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.stage.DIYStage.restage">
<code class="descname">restage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.DIYStage.restage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.stage.ResourceStage">
<em class="property">class </em><code class="descclassname">spack.stage.</code><code class="descname">ResourceStage</code><span class="sig-paren">(</span><em>url_or_fetch_strategy</em>, <em>root</em>, <em>resource</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.ResourceStage" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.stage.Stage" title="spack.stage.Stage"><code class="xref py py-class docutils literal"><span class="pre">spack.stage.Stage</span></code></a></p>
<dl class="method">
<dt id="spack.stage.ResourceStage.expand_archive">
<code class="descname">expand_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.ResourceStage.expand_archive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.stage.RestageError">
<em class="property">exception </em><code class="descclassname">spack.stage.</code><code class="descname">RestageError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.RestageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.stage.StageError" title="spack.stage.StageError"><code class="xref py py-class docutils literal"><span class="pre">spack.stage.StageError</span></code></a></p>
<p>&#8220;Error encountered during restaging.</p>
</dd></dl>

<dl class="class">
<dt id="spack.stage.Stage">
<em class="property">class </em><code class="descclassname">spack.stage.</code><code class="descname">Stage</code><span class="sig-paren">(</span><em>url_or_fetch_strategy</em>, <em>name=None</em>, <em>mirror_path=None</em>, <em>keep=False</em>, <em>path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Manages a temporary stage directory for building.</p>
<p>A Stage object is a context manager that handles a directory where
some source code is downloaded and built before being installed.
It handles fetching the source code, either as an archive to be
expanded or by checking it out of a repository.  A stage&#8217;s
lifecycle looks like this:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
with Stage() as stage:      # Context manager creates and destroys the stage directory</p>
<blockquote>
<div>stage.fetch()           # Fetch a source archive into the stage.
stage.expand_archive()  # Expand the source archive.
&lt;install&gt;               # Build and install the archive. (handled by user of Stage)</div></blockquote>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a></p>
<p>When used as a context manager, the stage is automatically
destroyed if no exception is raised by the context. If an
excpetion is raised, the stage is left in the filesystem and NOT
destroyed, for potential reuse later.</p>
<p>You can also use the stage&#8217;s create/destroy functions manually,
like this:</p>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a>`
stage = Stage()
try:</p>
<blockquote>
<div>stage.create()          # Explicitly create the stage directory.
stage.fetch()           # Fetch a source archive into the stage.
stage.expand_archive()  # Expand the source archive.
&lt;install&gt;               # Build and install the archive. (handled by user of Stage)</div></blockquote>
<dl class="docutils">
<dt>finally:</dt>
<dd>stage.destroy()         # Explicitly destroy the stage directory.</dd>
</dl>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a></p>
<p>If spack.use_tmp_stage is True, spack will attempt to create
stages in a tmp directory.  Otherwise, stages are created directly
in spack.stage_path.</p>
<p>There are two kinds of stages: named and unnamed.  Named stages
can persist between runs of spack, e.g. if you fetched a tarball
but didn&#8217;t finish building it, you won&#8217;t have to fetch it again.</p>
<p>Unnamed stages are created using standard mkdtemp mechanisms or
similar, and are intended to persist for only one run of spack.</p>
<dl class="attribute">
<dt id="spack.stage.Stage.archive_file">
<code class="descname">archive_file</code><a class="headerlink" href="#spack.stage.Stage.archive_file" title="Permalink to this definition"></a></dt>
<dd><p>Path to the source archive within this stage directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.chdir">
<code class="descname">chdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.chdir" title="Permalink to this definition"></a></dt>
<dd><p>Changes directory to the stage path.  Or dies if it is not set up.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.chdir_to_source">
<code class="descname">chdir_to_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.chdir_to_source" title="Permalink to this definition"></a></dt>
<dd><p>Changes directory to the expanded archive directory.
Dies with an error if there was no expanded archive.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.check">
<code class="descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.check" title="Permalink to this definition"></a></dt>
<dd><p>Check the downloaded archive against a checksum digest.
No-op if this stage checks code out of a repository.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.create">
<code class="descname">create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.create" title="Permalink to this definition"></a></dt>
<dd><p>Creates the stage directory</p>
<p>If self.tmp_root evaluates to False, the stage directory is
created directly under spack.stage_path, otherwise this will
attempt to create a stage in a temporary directory and link it
into spack.stage_path.</p>
<p>Spack will use the first writable location in spack.tmp_dirs
to create a stage. If there is no valid location in tmp_dirs,
fall back to making the stage inside spack.stage_path.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.destroy">
<code class="descname">destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.destroy" title="Permalink to this definition"></a></dt>
<dd><p>Removes this stage directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.expand_archive">
<code class="descname">expand_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.expand_archive" title="Permalink to this definition"></a></dt>
<dd><p>Changes to the stage directory and attempt to expand the downloaded
archive.  Fail if the stage is not set up or if the archive is not yet
downloaded.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.stage.Stage.expected_archive_files">
<code class="descname">expected_archive_files</code><a class="headerlink" href="#spack.stage.Stage.expected_archive_files" title="Permalink to this definition"></a></dt>
<dd><p>Possible archive file paths.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>mirror_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.fetch" title="Permalink to this definition"></a></dt>
<dd><p>Downloads an archive or checks out code from a repository.</p>
</dd></dl>

<dl class="method">
<dt id="spack.stage.Stage.restage">
<code class="descname">restage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.Stage.restage" title="Permalink to this definition"></a></dt>
<dd><p>Removes the expanded archive path if it exists, then re-expands
the archive.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.stage.Stage.source_path">
<code class="descname">source_path</code><a class="headerlink" href="#spack.stage.Stage.source_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path to the expanded/checked out source code.</p>
<p>To find the source code, this method searches for the first
subdirectory of the stage that it can find, and returns it.
This assumes nothing besides the archive file will be in the
stage path, but it has the advantage that we don&#8217;t need to
know the name of the archive or its contents.</p>
<p>If the fetch strategy is not supposed to expand the downloaded
file, it will just return the stage path. If the archive needs
to be expanded, it will return None when no archive is found.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="spack.stage.StageError">
<em class="property">exception </em><code class="descclassname">spack.stage.</code><code class="descname">StageError</code><span class="sig-paren">(</span><em>message</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.StageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>&#8220;Superclass for all errors encountered during staging.</p>
</dd></dl>

<dl class="function">
<dt id="spack.stage.ensure_access">
<code class="descclassname">spack.stage.</code><code class="descname">ensure_access</code><span class="sig-paren">(</span><em>file='/Users/gamblin2/src/spack/var/spack/stage'</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.ensure_access" title="Permalink to this definition"></a></dt>
<dd><p>Ensure we can access a directory and die with an error if we can&#8217;t.</p>
</dd></dl>

<dl class="function">
<dt id="spack.stage.find_tmp_root">
<code class="descclassname">spack.stage.</code><code class="descname">find_tmp_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.find_tmp_root" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.stage.purge">
<code class="descclassname">spack.stage.</code><code class="descname">purge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.stage.purge" title="Permalink to this definition"></a></dt>
<dd><p>Remove all build directories in the top-level stage path.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.url">
<span id="spack-url-module"></span><h2>spack.url module<a class="headerlink" href="#module-spack.url" title="Permalink to this headline"></a></h2>
<p>This module has methods for parsing names and versions of packages from URLs.
The idea is to allow package creators to supply nothing more than the
download location of the package, and figure out version and name information
from there.</p>
<p>Example: when spack is given the following URL:</p>
<blockquote>
<div><a class="reference external" href="ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.1-p243.tar.gz">ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.1-p243.tar.gz</a></div></blockquote>
<p>It can figure out that the package name is ruby, and that it is at version
1.9.1-p243.  This is useful for making the creation of packages simple: a user
just supplies a URL and skeleton code is generated automatically.</p>
<p>Spack can also figure out that it can most likely download 1.8.1 at this URL:</p>
<blockquote>
<div><a class="reference external" href="ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.8.1.tar.gz">ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.8.1.tar.gz</a></div></blockquote>
<p>This is useful if a user asks for a package at a particular version number;
spack doesn&#8217;t need anyone to tell it where to get the tarball even though
it&#8217;s never been told about that version before.</p>
<dl class="exception">
<dt id="spack.url.UndetectableNameError">
<em class="property">exception </em><code class="descclassname">spack.url.</code><code class="descname">UndetectableNameError</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.UndetectableNameError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.url.UrlParseError" title="spack.url.UrlParseError"><code class="xref py py-class docutils literal"><span class="pre">spack.url.UrlParseError</span></code></a></p>
<p>Raised when we can&#8217;t parse a package name from a string.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.url.UndetectableVersionError">
<em class="property">exception </em><code class="descclassname">spack.url.</code><code class="descname">UndetectableVersionError</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.UndetectableVersionError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.url.UrlParseError" title="spack.url.UrlParseError"><code class="xref py py-class docutils literal"><span class="pre">spack.url.UrlParseError</span></code></a></p>
<p>Raised when we can&#8217;t parse a version from a string.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.url.UrlParseError">
<em class="property">exception </em><code class="descclassname">spack.url.</code><code class="descname">UrlParseError</code><span class="sig-paren">(</span><em>msg</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.UrlParseError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when the URL module can&#8217;t parse something correctly.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.color_url">
<code class="descclassname">spack.url.</code><code class="descname">color_url</code><span class="sig-paren">(</span><em>path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.color_url" title="Permalink to this definition"></a></dt>
<dd><p>Color the parts of the url according to Spack&#8217;s parsing.</p>
<dl class="docutils">
<dt>Colors are:</dt>
<dd><p class="first">Cyan: The version found by parse_version_offset().
Red:  The name found by parse_name_offset().</p>
<p class="last">Green:   Instances of version string substituted by substitute_version().
Magenta: Instances of the name (protected from substitution).</p>
</dd>
<dt>Optional args:</dt>
<dd>errors=True    Append parse errors at end of string.
subs=True      Color substitutions as well as parsed name/version.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.url.cumsum">
<code class="descclassname">spack.url.</code><code class="descname">cumsum</code><span class="sig-paren">(</span><em>elts</em>, <em>init=0</em>, <em>fn=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.cumsum" title="Permalink to this definition"></a></dt>
<dd><p>Return cumulative sum of result of fn on each element in elts.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.downloaded_file_extension">
<code class="descclassname">spack.url.</code><code class="descname">downloaded_file_extension</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.downloaded_file_extension" title="Permalink to this definition"></a></dt>
<dd><p>This returns the type of archive a URL refers to.  This is
sometimes confusing because of URLs like:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference external" href="https://github.com/petdance/ack/tarball/1.93_02">https://github.com/petdance/ack/tarball/1.93_02</a></li>
</ol>
</div></blockquote>
<p>Where the URL doesn&#8217;t actually contain the filename.  We need
to know what type it is so that we can appropriately name files
in mirrors.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.find_list_url">
<code class="descclassname">spack.url.</code><code class="descname">find_list_url</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.find_list_url" title="Permalink to this definition"></a></dt>
<dd><p>Finds a good list URL for the supplied URL.  This depends on
the site.  By default, just assumes that a good list URL is the
dirname of an archive path.  For github URLs, this returns the
URL of the project&#8217;s releases page.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.insensitize">
<code class="descclassname">spack.url.</code><code class="descname">insensitize</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.insensitize" title="Permalink to this definition"></a></dt>
<dd><p>Change upper and lowercase letters to be case insensitive in
the provided string.  e.g., &#8216;a&#8217; because &#8216;[Aa]&#8217;, &#8216;B&#8217; becomes
&#8216;[bB]&#8217;, etc.  Use for building regexes.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.parse_name">
<code class="descclassname">spack.url.</code><code class="descname">parse_name</code><span class="sig-paren">(</span><em>path</em>, <em>ver=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.parse_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.url.parse_name_and_version">
<code class="descclassname">spack.url.</code><code class="descname">parse_name_and_version</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.parse_name_and_version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.url.parse_name_offset">
<code class="descclassname">spack.url.</code><code class="descname">parse_name_offset</code><span class="sig-paren">(</span><em>path</em>, <em>v=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.parse_name_offset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.url.parse_version">
<code class="descclassname">spack.url.</code><code class="descname">parse_version</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.parse_version" title="Permalink to this definition"></a></dt>
<dd><p>Given a URL or archive name, extract a version from it and return
a version object.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.parse_version_offset">
<code class="descclassname">spack.url.</code><code class="descname">parse_version_offset</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.parse_version_offset" title="Permalink to this definition"></a></dt>
<dd><p>Try to extract a version string from a filename or URL.  This is taken
largely from Homebrew&#8217;s Version class.</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.split_url_extension">
<code class="descclassname">spack.url.</code><code class="descname">split_url_extension</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.split_url_extension" title="Permalink to this definition"></a></dt>
<dd><p>Some URLs have a query string, e.g.:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference external" href="https://github.com/losalamos/CLAMR/blob/packages/PowerParser_v2.0.7.tgz?raw=true">https://github.com/losalamos/CLAMR/blob/packages/PowerParser_v2.0.7.tgz?raw=true</a></li>
<li><a class="reference external" href="http://www.apache.org/dyn/closer.cgi?path=/cassandra/1.2.0/apache-cassandra-1.2.0-rc2-bin.tar.gz">http://www.apache.org/dyn/closer.cgi?path=/cassandra/1.2.0/apache-cassandra-1.2.0-rc2-bin.tar.gz</a></li>
</ol>
</div></blockquote>
<p>In (1), the query string needs to be stripped to get at the
extension, but in (2), the filename is IN a single final query
argument.</p>
<p>This strips the URL into three pieces: prefix, ext, and suffix.
The suffix contains anything that was stripped off the URL to
get at the file extension.  In (1), it will be &#8216;?raw=true&#8217;, but
in (2), it will be empty. e.g.:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">(&#8216;<a class="reference external" href="https://github.com/losalamos/CLAMR/blob/packages/PowerParser_v2.0.7">https://github.com/losalamos/CLAMR/blob/packages/PowerParser_v2.0.7</a>&#8216;, &#8216;.tgz&#8217;, &#8216;?raw=true&#8217;)</p>
</li>
<li><dl class="first docutils">
<dt>(&#8216;<a class="reference external" href="http://www.apache.org/dyn/closer.cgi?path=/cassandra/1.2.0/apache-cassandra-1.2.0-rc2-bin">http://www.apache.org/dyn/closer.cgi?path=/cassandra/1.2.0/apache-cassandra-1.2.0-rc2-bin</a>&#8216;,</dt>
<dd><p class="first last">&#8216;.tar.gz&#8217;, None)</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="spack.url.strip_query_and_fragment">
<code class="descclassname">spack.url.</code><code class="descname">strip_query_and_fragment</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.strip_query_and_fragment" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.url.substitute_version">
<code class="descclassname">spack.url.</code><code class="descname">substitute_version</code><span class="sig-paren">(</span><em>path</em>, <em>new_version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.substitute_version" title="Permalink to this definition"></a></dt>
<dd><p>Given a URL or archive name, find the version in the path and
substitute the new version for it.  Replace all occurrences of
the version <em>if</em> they don&#8217;t overlap with the package name.</p>
<dl class="docutils">
<dt>Simple example::</dt>
<dd>substitute_version(&#8216;<a class="reference external" href="http://www.mr511.de/software/libelf-0.8.13.tar.gz">http://www.mr511.de/software/libelf-0.8.13.tar.gz</a>&#8216;, &#8216;2.9.3&#8217;)
-&gt;&#8217;<a class="reference external" href="http://www.mr511.de/software/libelf-2.9.3.tar.gz">http://www.mr511.de/software/libelf-2.9.3.tar.gz</a>&#8216;</dd>
<dt>Complex examples::</dt>
<dd><p class="first">substitute_version(&#8216;<a class="reference external" href="http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.0.tar.gz">http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.0.tar.gz</a>&#8216;, 2.1)
-&gt; &#8216;<a class="reference external" href="http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.1.tar.gz">http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.1.tar.gz</a>&#8216;</p>
<p class="last"># In this string, the &#8220;2&#8221; in mvapich2 is NOT replaced.
substitute_version(&#8216;<a class="reference external" href="http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.tar.gz">http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.tar.gz</a>&#8216;, 2.1)
-&gt; &#8216;<a class="reference external" href="http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.1.tar.gz">http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/mvapich2-2.1.tar.gz</a>&#8216;</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.url.substitution_offsets">
<code class="descclassname">spack.url.</code><code class="descname">substitution_offsets</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.substitution_offsets" title="Permalink to this definition"></a></dt>
<dd><p>This returns offsets for substituting versions and names in the provided path.
It is a helper for substitute_version().</p>
</dd></dl>

<dl class="function">
<dt id="spack.url.wildcard_version">
<code class="descclassname">spack.url.</code><code class="descname">wildcard_version</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.url.wildcard_version" title="Permalink to this definition"></a></dt>
<dd><p>Find the version in the supplied path, and return a regular expression
that will match this path with any version in its place.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.variant">
<span id="spack-variant-module"></span><h2>spack.variant module<a class="headerlink" href="#module-spack.variant" title="Permalink to this headline"></a></h2>
<p>Variant is a class describing flags on builds, or &#8220;variants&#8221;.</p>
<p>Could be generalized later to describe aribitrary parameters, but
currently variants are just flags.</p>
<dl class="class">
<dt id="spack.variant.Variant">
<em class="property">class </em><code class="descclassname">spack.variant.</code><code class="descname">Variant</code><span class="sig-paren">(</span><em>default</em>, <em>description</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.variant.Variant" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Represents a variant on a build.  Can be either on or off.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.version">
<span id="spack-version-module"></span><h2>spack.version module<a class="headerlink" href="#module-spack.version" title="Permalink to this headline"></a></h2>
<p>This module implements Version and version-ish objects.  These are:</p>
<dl class="docutils">
<dt>Version</dt>
<dd>A single version of a package.</dd>
<dt>VersionRange</dt>
<dd>A range of versions of a package.</dd>
<dt>VersionList</dt>
<dd>A list of Versions and VersionRanges.</dd>
</dl>
<p>All of these types support the following operations, which can
be called on any of the types:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">__eq__</span><span class="p">,</span> <span class="n">__ne__</span><span class="p">,</span> <span class="n">__lt__</span><span class="p">,</span> <span class="n">__gt__</span><span class="p">,</span> <span class="n">__ge__</span><span class="p">,</span> <span class="n">__le__</span><span class="p">,</span> <span class="n">__hash__</span>
<span class="n">__contains__</span>
<span class="n">satisfies</span>
<span class="n">overlaps</span>
<span class="n">union</span>
<span class="n">intersection</span>
<span class="n">concrete</span>
</pre></div>
</div>
<dl class="class">
<dt id="spack.version.Version">
<em class="property">class </em><code class="descclassname">spack.version.</code><code class="descname">Version</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to represent versions</p>
<dl class="attribute">
<dt id="spack.version.Version.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.version.Version.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.highest">
<code class="descname">highest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.highest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.intersection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.is_predecessor">
<code class="descname">is_predecessor</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.is_predecessor" title="Permalink to this definition"></a></dt>
<dd><p>True if the other version is the immediate predecessor of this one.
That is, NO versions v exist such that:
(self &lt; v &lt; other and v not in self).</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.Version.is_successor">
<code class="descname">is_successor</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.is_successor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.lowest">
<code class="descname">lowest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.lowest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.overlaps">
<code class="descname">overlaps</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>A Version &#8216;satisfies&#8217; another if it is at least as specific and has a
common prefix.  e.g., we want <a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7&#46;3">gcc<span>&#64;</span>4<span>&#46;</span>7<span>&#46;</span>3</a> to satisfy a request for
<a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7">gcc<span>&#64;</span>4<span>&#46;</span>7</a> so that when a user asks to build with <a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7">gcc<span>&#64;</span>4<span>&#46;</span>7</a>, we can find
a suitable compiler.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.Version.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.Version.up_to">
<code class="descname">up_to</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.up_to" title="Permalink to this definition"></a></dt>
<dd><p>Return a version string up to the specified component, exclusive.
e.g., if this is 10.8.2, self.up_to(2) will return &#8216;10.8&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.Version.wildcard">
<code class="descname">wildcard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.Version.wildcard" title="Permalink to this definition"></a></dt>
<dd><p>Create a regex that will match variants of this version string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.version.VersionList">
<em class="property">class </em><code class="descclassname">spack.version.</code><code class="descname">VersionList</code><span class="sig-paren">(</span><em>vlist=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Sorted, non-redundant list of Versions and VersionRanges.</p>
<dl class="method">
<dt id="spack.version.VersionList.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.add" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.version.VersionList.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.version.VersionList.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="spack.version.VersionList.from_dict">
<em class="property">static </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.from_dict" title="Permalink to this definition"></a></dt>
<dd><p>Parse dict from to_dict.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.highest">
<code class="descname">highest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.highest" title="Permalink to this definition"></a></dt>
<dd><p>Get the highest version in the list.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.intersect">
<code class="descname">intersect</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.intersect" title="Permalink to this definition"></a></dt>
<dd><p>Intersect this spec&#8217;s list with other.</p>
<p>Return True if the spec changed as a result; False otherwise</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.intersection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.lowest">
<code class="descname">lowest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.lowest" title="Permalink to this definition"></a></dt>
<dd><p>Get the lowest version in the list.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.overlaps">
<code class="descname">overlaps</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>A VersionList satisfies another if some version in the list
would satisfy some version in the other list.  This uses
essentially the same algorithm as overlaps() does for
VersionList, but it calls satisfies() on member Versions
and VersionRanges.</p>
<p>If strict is specified, this version list must lie entirely
<em>within</em> the other in order to satisfy it.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Generate human-readable dict for YAML.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionList.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionList.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.version.VersionRange">
<em class="property">class </em><code class="descclassname">spack.version.</code><code class="descname">VersionRange</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="spack.version.VersionRange.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.version.VersionRange.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.highest">
<code class="descname">highest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.highest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.intersection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.lowest">
<code class="descname">lowest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.lowest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.overlaps">
<code class="descname">overlaps</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>A VersionRange satisfies another if some version in this range
would satisfy some version in the other range.  To do this it must
either:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Overlap with the other range</li>
<li>The start of this range satisfies the end of the other range.</li>
</ol>
</div></blockquote>
<p>This is essentially the same as overlaps(), but overlaps assumes
that its arguments are specific.  That is, 4.7 is interpreted as
4.7.0.0.0.0... .  This funciton assumes that 4.7 woudl be satisfied
by 4.7.3.5, etc.</p>
<p>Rationale:
If a user asks for <a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;5">gcc<span>&#64;</span>4<span>&#46;</span>5</a>:4.7, and a package is only compatible with
<a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7&#46;3">gcc<span>&#64;</span>4<span>&#46;</span>7<span>&#46;</span>3</a>:4.8, then that package should be able to build under the
constraints.  Just using overlaps() would not work here.</p>
<p>Note that we don&#8217;t need to check whether the end of this range
would satisfy the start of the other range, because overlaps()
already covers that case.</p>
<p>Note further that overlaps() is a symmetric operation, while
satisfies() is not.</p>
</dd></dl>

<dl class="method">
<dt id="spack.version.VersionRange.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.VersionRange.union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.version.coerce_versions">
<code class="descclassname">spack.version.</code><code class="descname">coerce_versions</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.coerce_versions" title="Permalink to this definition"></a></dt>
<dd><dl class="docutils">
<dt>Convert both a and b to the &#8216;greatest&#8217; type between them, in this order:</dt>
<dd>Version &lt; VersionRange &lt; VersionList</dd>
</dl>
<p>This is used to simplify comparison operations below so that we&#8217;re always
comparing things that are of the same type.</p>
</dd></dl>

<dl class="function">
<dt id="spack.version.coerced">
<code class="descclassname">spack.version.</code><code class="descname">coerced</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.coerced" title="Permalink to this definition"></a></dt>
<dd><p>Decorator that ensures that argument types of a method are coerced.</p>
</dd></dl>

<dl class="function">
<dt id="spack.version.int_if_int">
<code class="descclassname">spack.version.</code><code class="descname">int_if_int</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.int_if_int" title="Permalink to this definition"></a></dt>
<dd><p>Convert a string to int if possible.  Otherwise, return a string.</p>
</dd></dl>

<dl class="function">
<dt id="spack.version.ver">
<code class="descclassname">spack.version.</code><code class="descname">ver</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version.ver" title="Permalink to this definition"></a></dt>
<dd><p>Parses a Version, VersionRange, or VersionList from a string
or list of strings.</p>
</dd></dl>

</div>
<div class="section" id="module-spack.virtual">
<span id="spack-virtual-module"></span><h2>spack.virtual module<a class="headerlink" href="#module-spack.virtual" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal"><span class="pre">virtual</span></code> module contains utility classes for virtual dependencies.</p>
<dl class="class">
<dt id="spack.virtual.ProviderIndex">
<em class="property">class </em><code class="descclassname">spack.virtual.</code><code class="descname">ProviderIndex</code><span class="sig-paren">(</span><em>specs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.virtual.ProviderIndex" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This is a dict of dicts used for finding providers of particular
virtual dependencies. The dict of dicts looks like:</p>
<dl class="docutils">
<dt>{ vpkg name :</dt>
<dd>{ full vpkg spec : set(packages providing spec) } }</dd>
</dl>
<p>Callers can use this to first find which packages provide a vpkg,
then find a matching full spec.  e.g., in this scenario:</p>
<dl class="docutils">
<dt>{ &#8216;mpi&#8217; :</dt>
<dd><dl class="first last docutils">
<dt>{ mpi&#64;:1.1 <span class="classifier-delimiter">:</span> <span class="classifier">set([mpich]),</span></dt>
<dd>mpi&#64;:2.3 : set([<a class="reference external" href="mailto:mpich2&#37;&#52;&#48;1&#46;9">mpich2<span>&#64;</span>1<span>&#46;</span>9</a>:]) } }</dd>
</dl>
</dd>
</dl>
<p>Calling providers_for(spec) will find specs that provide a
matching implementation of MPI.</p>
<dl class="method">
<dt id="spack.virtual.ProviderIndex.providers_for">
<code class="descname">providers_for</code><span class="sig-paren">(</span><em>*vpkg_specs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.virtual.ProviderIndex.providers_for" title="Permalink to this definition"></a></dt>
<dd><p>Gives specs of all packages that provide virtual packages
with the supplied specs.</p>
</dd></dl>

<dl class="method">
<dt id="spack.virtual.ProviderIndex.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.virtual.ProviderIndex.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>Check that providers of virtual specs are compatible.</p>
</dd></dl>

<dl class="method">
<dt id="spack.virtual.ProviderIndex.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.virtual.ProviderIndex.update" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spack">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-spack" title="Permalink to this headline"></a></h2>
<dl class="class">
<dt id="spack.Package">
<em class="property">class </em><code class="descclassname">spack.</code><code class="descname">Package</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This is the superclass for all spack packages.</p>
<p><strong>*The Package class*</strong></p>
<p>Package is where the bulk of the work of installing packages is done.</p>
<p>A package defines how to fetch, verfiy (via, e.g., md5), build, and
install a piece of software.  A Package also defines what other
packages it depends on, so that dependencies can be installed along
with the package itself.  Packages are written in pure python.</p>
<p>Packages are all submodules of spack.packages.  If spack is installed
in $prefix, all of its python files are in $prefix/lib/spack.  Most
of them are in the spack module, so all the packages live in
$prefix/lib/spack/spack/packages.</p>
<p>All you have to do to create a package is make a new subclass of Package
in this directory.  Spack automatically scans the python files there
and figures out which one to import when you invoke it.</p>
<p><strong>An example package</strong></p>
<p>Let&#8217;s look at the cmake package to start with.  This package lives in
$prefix/lib/spack/spack/packages/cmake.py:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">spack</span> <span class="kn">import</span> <span class="o">*</span>
<span class="k">class</span> <span class="nc">Cmake</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="n">homepage</span>  <span class="o">=</span> <span class="s1">&#39;https://www.cmake.org&#39;</span>
    <span class="n">url</span>       <span class="o">=</span> <span class="s1">&#39;http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz&#39;</span>
    <span class="n">md5</span>       <span class="o">=</span> <span class="s1">&#39;097278785da7182ec0aea8769d06860c&#39;</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="n">configure</span><span class="p">(</span><span class="s1">&#39;--prefix=</span><span class="si">%s</span><span class="s1">&#39;</span>   <span class="o">%</span> <span class="n">prefix</span><span class="p">,</span>
                  <span class="s1">&#39;--parallel=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">make_jobs</span><span class="p">)</span>
        <span class="n">make</span><span class="p">()</span>
        <span class="n">make</span><span class="p">(</span><span class="s1">&#39;install&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Naming conventions</strong></p>
<p>There are two names you should care about:</p>
<ol class="arabic">
<li><p class="first">The module name, <code class="docutils literal"><span class="pre">cmake</span></code>.</p>
<ul class="simple">
<li>User will refers to this name, e.g. &#8216;spack install cmake&#8217;.</li>
<li>Corresponds to the name of the file, &#8216;cmake.py&#8217;, and it can
include <code class="docutils literal"><span class="pre">_</span></code>, <code class="docutils literal"><span class="pre">-</span></code>, and numbers (it can even start with a
number).</li>
</ul>
</li>
<li><p class="first">The class name, &#8220;Cmake&#8221;.  This is formed by converting <cite>-</cite> or
<code class="docutils literal"><span class="pre">_</span></code> in the module name to camel case.  If the name starts with
a number, we prefix the class name with <code class="docutils literal"><span class="pre">_</span></code>. Examples:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>Module Name       Class Name</dt>
<dd><p class="first last">foo_bar           FooBar
docbook-xml       DocbookXml
FooBar            Foobar
3proxy            _3proxy</p>
</dd>
</dl>
</div></blockquote>
<p>The class name is what spack looks for when it loads a package module.</p>
</div></blockquote>
</li>
</ol>
<p><strong>Required Attributes</strong></p>
<p>Aside from proper naming, here is the bare minimum set of things you
need when you make a package:</p>
<dl class="docutils">
<dt>homepage</dt>
<dd>informational URL, so that users know what they&#8217;re
installing.</dd>
<dt>url</dt>
<dd>URL of the source archive that spack will fetch.</dd>
<dt>install()</dt>
<dd>This function tells spack how to build and install the
software it downloaded.</dd>
</dl>
<p><strong>Optional Attributes</strong></p>
<p>You can also optionally add these attributes, if needed:</p>
<blockquote>
<div><dl class="docutils">
<dt>list_url</dt>
<dd>Webpage to scrape for available version strings. Default is the
directory containing the tarball; use this if the default isn&#8217;t
correct so that invoking &#8216;spack versions&#8217; will work for this
package.</dd>
<dt>url_version(self, version)</dt>
<dd>When spack downloads packages at particular versions, it just
converts version to string with str(version).  Override this if
your package needs special version formatting in its URL.  boost
is an example of a package that needs this.</dd>
</dl>
</div></blockquote>
<p><strong>*Creating Packages*</strong></p>
<p>As a package creator, you can probably ignore most of the preceding
information, because you can use the &#8216;spack create&#8217; command to do it
all automatically.</p>
<p>You as the package creator generally only have to worry about writing
your install function and specifying dependencies.</p>
<p><strong>spack create</strong></p>
<dl class="docutils">
<dt>Most software comes in nicely packaged tarballs, like this one:</dt>
<dd><a class="reference external" href="http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz">http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz</a></dd>
</dl>
<p>Taking a page from homebrew, spack deduces pretty much everything it
needs to know from the URL above.  If you simply type this:</p>
<blockquote>
<div>spack create <a class="reference external" href="http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz">http://www.cmake.org/files/v2.8/cmake-2.8.10.2.tar.gz</a></div></blockquote>
<p>Spack will download the tarball, generate an md5 hash, figure out the
version and the name of the package from the URL, and create a new
package file for you with all the names and attributes set correctly.</p>
<p>Once this skeleton code is generated, spack pops up the new package in
your $EDITOR so that you can modify the parts that need changes.</p>
<p><strong>Dependencies</strong></p>
<p>If your package requires another in order to build, you can specify that
like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Stackwalker</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">depends_on</span><span class="p">(</span><span class="s2">&quot;libdwarf&quot;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This tells spack that before it builds stackwalker, it needs to build
the libdwarf package as well.  Note that this is the module name, not
the class name (The class name is really only used by spack to find
your package).</p>
<p>Spack will download an install each dependency before it installs your
package.  In addtion, it will add -L, -I, and rpath arguments to your
compiler and linker for each dependency.  In most cases, this allows you
to avoid specifying any dependencies in your configure or cmake line;
you can just run configure or cmake without any additional arguments and
it will find the dependencies automatically.</p>
<p><strong>The Install Function</strong></p>
<p>The install function is designed so that someone not too terribly familiar
with Python could write a package installer.  For example, we put a number
of commands in install scope that you can use almost like shell commands.
These include make, configure, cmake, rm, rmtree, mkdir, mkdirp, and others.</p>
<p>You can see above in the cmake script that these commands are used to run
configure and make almost like they&#8217;re used on the command line.  The
only difference is that they are python function calls and not shell
commands.</p>
<p>It may be puzzling to you where the commands and functions in install live.
They are NOT instance variables on the class; this would require us to
type &#8216;self.&#8217; all the time and it makes the install code unnecessarily long.
Rather, spack puts these commands and variables in <em>module</em> scope for your
Package subclass.  Since each package has its own module, this doesn&#8217;t
pollute other namespaces, and it allows you to more easily implement an
install function.</p>
<p>For a full list of commands and variables available in module scope, see the
add_commands_to_module() function in this class. This is where most of
them are created and set on the module.</p>
<p><strong>Parallel Builds</strong></p>
<p>By default, Spack will run make in parallel when you run make() in your
install function.  Spack figures out how many cores are available on
your system and runs make with -j&lt;cores&gt;.  If you do not want this behavior,
you can explicitly mark a package not to use parallel make:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">parallel</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>This changes thd default behavior so that make is sequential.  If you still
want to build some parts in parallel, you can do this in your install function:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">make</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Likewise, if you do not supply parallel = True in your Package, you can keep
the default parallel behavior and run make like this when you want a
sequential build:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">make</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Package Lifecycle</strong></p>
<p>This section is really only for developers of new spack commands.</p>
<p>A package&#8217;s lifecycle over a run of Spack looks something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Package</span><span class="p">()</span>             <span class="c1"># Done for you by spack</span>

<span class="n">p</span><span class="o">.</span><span class="n">do_fetch</span><span class="p">()</span>              <span class="c1"># downloads tarball from a URL</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_stage</span><span class="p">()</span>              <span class="c1"># expands tarball in a temp directory</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_patch</span><span class="p">()</span>              <span class="c1"># applies patches to expanded source</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_install</span><span class="p">()</span>            <span class="c1"># calls package&#39;s install() function</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_uninstall</span><span class="p">()</span>          <span class="c1"># removes install directory</span>
</pre></div>
</div>
<p>There are also some other commands that clean the build area:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">do_clean</span><span class="p">()</span>              <span class="c1"># removes the stage directory entirely</span>
<span class="n">p</span><span class="o">.</span><span class="n">do_restage</span><span class="p">()</span>            <span class="c1"># removes the build directory and</span>
                          <span class="c1"># re-expands the archive.</span>
</pre></div>
</div>
<p>The convention used here is that a do_* function is intended to be called
internally by Spack commands (in spack.cmd).  These aren&#8217;t for package
writers to override, and doing so may break the functionality of the Package
class.</p>
<p>Package creators override functions like install() (all of them do this),
clean() (some of them do this), and others to provide custom behavior.</p>
<dl class="method">
<dt id="spack.Package.activate">
<code class="descname">activate</code><span class="sig-paren">(</span><em>extension</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.activate" title="Permalink to this definition"></a></dt>
<dd><p>Symlinks all files from the extension into extendee&#8217;s install dir.</p>
<p>Package authors can override this method to support other
extension mechanisms.  Spack internals (commands, hooks, etc.)
should call do_activate() method so that proper checks are
always executed.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.activated">
<code class="descname">activated</code><a class="headerlink" href="#spack.Package.activated" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.all_urls">
<code class="descname">all_urls</code><a class="headerlink" href="#spack.Package.all_urls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.build_log_path">
<code class="descname">build_log_path</code><a class="headerlink" href="#spack.Package.build_log_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.compiler">
<code class="descname">compiler</code><a class="headerlink" href="#spack.Package.compiler" title="Permalink to this definition"></a></dt>
<dd><p>Get the spack.compiler.Compiler object used to build this package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.deactivate">
<code class="descname">deactivate</code><span class="sig-paren">(</span><em>extension</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Unlinks all files from extension out of this package&#8217;s install dir.</p>
<p>Package authors can override this method to support other
extension mechanisms.  Spack internals (commands, hooks, etc.)
should call do_deactivate() method so that proper checks are
always executed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_activate">
<code class="descname">do_activate</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_activate" title="Permalink to this definition"></a></dt>
<dd><p>Called on an etension to invoke the extendee&#8217;s activate method.</p>
<p>Commands should call this routine, and should not call
activate() directly.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_clean">
<code class="descname">do_clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_clean" title="Permalink to this definition"></a></dt>
<dd><p>Removes the package&#8217;s build stage and source tarball.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_deactivate">
<code class="descname">do_deactivate</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_deactivate" title="Permalink to this definition"></a></dt>
<dd><p>Called on the extension to invoke extendee&#8217;s deactivate() method.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_fake_install">
<code class="descname">do_fake_install</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_fake_install" title="Permalink to this definition"></a></dt>
<dd><p>Make a fake install directory contaiing a &#8216;fake&#8217; file in bin.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_fetch">
<code class="descname">do_fetch</code><span class="sig-paren">(</span><em>mirror_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_fetch" title="Permalink to this definition"></a></dt>
<dd><p>Creates a stage directory and downloads the tarball for this package.
Working directory will be set to the stage directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_install">
<code class="descname">do_install</code><span class="sig-paren">(</span><em>keep_prefix=False</em>, <em>keep_stage=False</em>, <em>ignore_deps=False</em>, <em>skip_patch=False</em>, <em>verbose=False</em>, <em>make_jobs=None</em>, <em>fake=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_install" title="Permalink to this definition"></a></dt>
<dd><p>Called by commands to install a package and its dependencies.</p>
<p>Package implementations should override install() to describe
their build process.</p>
<p>Args:
keep_prefix &#8211; Keep install prefix on failure. By default, destroys it.
keep_stage  &#8211; By default, stage is destroyed only if there are no</p>
<blockquote>
<div>exceptions during build. Set to True to keep the stage
even with exceptions.</div></blockquote>
<p>ignore_deps &#8211; Do not install dependencies before installing this package.
fake        &#8211; Don&#8217;t really build &#8211; install fake stub files instead.
skip_patch  &#8211; Skip patch stage of build if True.
verbose     &#8211; Display verbose build output (by default, suppresses it)
make_jobs   &#8211; Number of make jobs to use for install.  Default is ncpus.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_install_dependencies">
<code class="descname">do_install_dependencies</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_install_dependencies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.do_patch">
<code class="descname">do_patch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_patch" title="Permalink to this definition"></a></dt>
<dd><p>Calls do_stage(), then applied patches to the expanded tarball if they
haven&#8217;t been applied already.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_restage">
<code class="descname">do_restage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_restage" title="Permalink to this definition"></a></dt>
<dd><p>Reverts expanded/checked out source to a pristine state.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_stage">
<code class="descname">do_stage</code><span class="sig-paren">(</span><em>mirror_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_stage" title="Permalink to this definition"></a></dt>
<dd><p>Unpacks the fetched tarball, then changes into the expanded tarball
directory.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.do_uninstall">
<code class="descname">do_uninstall</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.do_uninstall" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.extendable">
<code class="descname">extendable</code><em class="property"> = False</em><a class="headerlink" href="#spack.Package.extendable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.extendee_args">
<code class="descname">extendee_args</code><a class="headerlink" href="#spack.Package.extendee_args" title="Permalink to this definition"></a></dt>
<dd><p>Spec of the extendee of this package, or None if it is not an extension.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.extendee_spec">
<code class="descname">extendee_spec</code><a class="headerlink" href="#spack.Package.extendee_spec" title="Permalink to this definition"></a></dt>
<dd><p>Spec of the extendee of this package, or None if it is not an extension.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.extends">
<code class="descname">extends</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.extends" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.fetch_remote_versions">
<code class="descname">fetch_remote_versions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.fetch_remote_versions" title="Permalink to this definition"></a></dt>
<dd><p>Try to find remote versions of this package using the
list_url and any other URLs described in the package file.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.fetcher">
<code class="descname">fetcher</code><a class="headerlink" href="#spack.Package.fetcher" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.format_doc">
<code class="descname">format_doc</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.format_doc" title="Permalink to this definition"></a></dt>
<dd><p>Wrap doc string at 72 characters and format nicely</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.install">
<code class="descname">install</code><span class="sig-paren">(</span><em>spec</em>, <em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.install" title="Permalink to this definition"></a></dt>
<dd><p>Package implementations override this with their own build configuration.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.installed">
<code class="descname">installed</code><a class="headerlink" href="#spack.Package.installed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.installed_dependents">
<code class="descname">installed_dependents</code><a class="headerlink" href="#spack.Package.installed_dependents" title="Permalink to this definition"></a></dt>
<dd><dl class="docutils">
<dt>Return a list of the specs of all installed packages that depend</dt>
<dd>on this one.</dd>
</dl>
<p>TODO: move this method to database.py?</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.is_extension">
<code class="descname">is_extension</code><a class="headerlink" href="#spack.Package.is_extension" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.make_jobs">
<code class="descname">make_jobs</code><em class="property"> = None</em><a class="headerlink" href="#spack.Package.make_jobs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.module">
<code class="descname">module</code><a class="headerlink" href="#spack.Package.module" title="Permalink to this definition"></a></dt>
<dd><p>Use this to add variables to the class&#8217;s module&#8217;s scope.
This lets us use custom syntax in the install method.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.namespace">
<code class="descname">namespace</code><a class="headerlink" href="#spack.Package.namespace" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.nearest_url">
<code class="descname">nearest_url</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.nearest_url" title="Permalink to this definition"></a></dt>
<dd><p>Finds the URL for the next lowest version with a URL.
If there is no lower version with a URL, uses the
package url property. If that isn&#8217;t there, uses a
<em>higher</em> URL, and if that isn&#8217;t there raises an error.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.parallel">
<code class="descname">parallel</code><em class="property"> = True</em><a class="headerlink" href="#spack.Package.parallel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.prefix">
<code class="descname">prefix</code><a class="headerlink" href="#spack.Package.prefix" title="Permalink to this definition"></a></dt>
<dd><p>Get the prefix into which this package should be installed.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.preorder_traversal">
<code class="descname">preorder_traversal</code><span class="sig-paren">(</span><em>visited=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.preorder_traversal" title="Permalink to this definition"></a></dt>
<dd><p>This does a preorder traversal of the package&#8217;s dependence DAG.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.provides">
<code class="descname">provides</code><span class="sig-paren">(</span><em>vpkg_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.provides" title="Permalink to this definition"></a></dt>
<dd><p>True if this package provides a virtual package with the specified name.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.remove_prefix">
<code class="descname">remove_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.remove_prefix" title="Permalink to this definition"></a></dt>
<dd><p>Removes the prefix for a package along with any empty parent directories.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.rpath">
<code class="descname">rpath</code><a class="headerlink" href="#spack.Package.rpath" title="Permalink to this definition"></a></dt>
<dd><p>Get the rpath this package links with, as a list of paths.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.rpath_args">
<code class="descname">rpath_args</code><a class="headerlink" href="#spack.Package.rpath_args" title="Permalink to this definition"></a></dt>
<dd><p>Get the rpath args as a string, with -Wl,-rpath, for each element.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.sanity_check_is_dir">
<code class="descname">sanity_check_is_dir</code><em class="property"> = []</em><a class="headerlink" href="#spack.Package.sanity_check_is_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.sanity_check_is_file">
<code class="descname">sanity_check_is_file</code><em class="property"> = []</em><a class="headerlink" href="#spack.Package.sanity_check_is_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.sanity_check_prefix">
<code class="descname">sanity_check_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.sanity_check_prefix" title="Permalink to this definition"></a></dt>
<dd><p>This function checks whether install succeeded.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.setup_dependent_environment">
<code class="descname">setup_dependent_environment</code><span class="sig-paren">(</span><em>spack_env</em>, <em>run_env</em>, <em>dependent_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.setup_dependent_environment" title="Permalink to this definition"></a></dt>
<dd><p>Set up the environment of packages that depend on this one.</p>
<p>This is similar to <cite>setup_environment</cite>, but it is used to
modify the compile and runtime environments of packages that
<em>depend</em> on this one. This gives packages like Python and
others that follow the extension model a way to implement
common environment or compile-time settings for dependencies.</p>
<p>By default, this delegates to self.setup_environment()</p>
<p>Example :</p>
<blockquote>
<div><ol class="arabic simple">
<li>Installing python modules generally requires</li>
</ol>
<blockquote>
<div><cite>PYTHONPATH</cite> to point to the lib/pythonX.Y/site-packages
directory in the module&#8217;s install prefix.  This could
set that variable.</div></blockquote>
</div></blockquote>
<p>Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>spack_env (EnvironmentModifications): list of</dt>
<dd>modifications to be applied when the dependent package
is bulit within Spack.</dd>
<dt>run_env (EnvironmentModifications): list of environment</dt>
<dd>changes to be applied when the dependent package is
run outside of Spack.</dd>
<dt>dependent_spec (Spec): The spec of the dependent package</dt>
<dd>about to be built. This allows the extendee (self) to
query the dependent&#8217;s state. Note that <em>this</em>
package&#8217;s spec is available as <cite>self.spec</cite>.</dd>
</dl>
</div></blockquote>
<p>This is useful if there are some common steps to installing
all extensions for a certain package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.setup_dependent_package">
<code class="descname">setup_dependent_package</code><span class="sig-paren">(</span><em>module</em>, <em>dependent_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.setup_dependent_package" title="Permalink to this definition"></a></dt>
<dd><p>Set up Python module-scope variables for dependent packages.</p>
<p>Called before the install() method of dependents.</p>
<p>Default implementation does nothing, but this can be
overridden by an extendable package to set up the module of
its extensions. This is useful if there are some common steps
to installing all extensions for a certain package.</p>
<p>Example :</p>
<blockquote>
<div><ol class="arabic simple">
<li>Extensions often need to invoke the <cite>python</cite>
interpreter from the Python installation being
extended.  This routine can put a &#8216;python&#8217; Executable
object in the module scope for the extension package to
simplify extension installs.</li>
<li>MPI compilers could set some variables in the
dependent&#8217;s scope that point to <cite>mpicc</cite>, <cite>mpicxx</cite>,
etc., allowing them to be called by common names
regardless of which MPI is used.</li>
<li>BLAS/LAPACK implementations can set some variables
indicating the path to their libraries, since these
paths differ by BLAS/LAPACK implementation.</li>
</ol>
</div></blockquote>
<p>Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>module (module): The Python <cite>module</cite> object of the</dt>
<dd>dependent package. Packages can use this to set
module-scope variables for the dependent to use.</dd>
<dt>dependent_spec (Spec): The spec of the dependent package</dt>
<dd>about to be built. This allows the extendee (self) to
query the dependent&#8217;s state.  Note that <em>this</em>
package&#8217;s spec is available as <cite>self.spec</cite>.</dd>
</dl>
</div></blockquote>
<p>This is useful if there are some common steps to installing
all extensions for a certain package.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.setup_environment">
<code class="descname">setup_environment</code><span class="sig-paren">(</span><em>spack_env</em>, <em>run_env</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.setup_environment" title="Permalink to this definition"></a></dt>
<dd><p>Set up the compile and runtime environemnts for a package.</p>
<p><cite>spack_env</cite> and <cite>run_env</cite> are <cite>EnvironmentModifications</cite>
objects.  Package authors can call methods on them to alter
the environment within Spack and at runtime.</p>
<p>Both <cite>spack_env</cite> and <cite>run_env</cite> are applied within the build
process, before this package&#8217;s <cite>install()</cite> method is called.</p>
<p>Modifications in <cite>run_env</cite> will <em>also</em> be added to the
generated environment modules for this package.</p>
<p>Default implementation does nothing, but this can be
overridden if the package needs a particular environment.</p>
<p>Examples:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Qt extensions need <cite>QTDIR</cite> set.</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>spack_env (EnvironmentModifications): list of</dt>
<dd>modifications to be applied when this package is built
within Spack.</dd>
<dt>run_env (EnvironmentModifications): list of environment</dt>
<dd>changes to be applied when this package is run outside
of Spack.</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.stage">
<code class="descname">stage</code><a class="headerlink" href="#spack.Package.stage" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.url_for_version">
<code class="descname">url_for_version</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.url_for_version" title="Permalink to this definition"></a></dt>
<dd><p>Returns a URL that you can download a new version of this package from.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Package.url_version">
<code class="descname">url_version</code><span class="sig-paren">(</span><em>version</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.url_version" title="Permalink to this definition"></a></dt>
<dd><p>Given a version, this returns a string that should be substituted into the
package&#8217;s URL to download that version.
By default, this just returns the version string. Subclasses may need to
override this, e.g. for boost versions where you need to ensure that there
are _&#8217;s in the download URL.</p>
</dd></dl>

<dl class="attribute">
<dt id="spack.Package.version">
<code class="descname">version</code><a class="headerlink" href="#spack.Package.version" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Package.version_urls">
<code class="descname">version_urls</code><em class="property"> = &lt;functools.partial object&gt;</em><a class="headerlink" href="#spack.Package.version_urls" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Package.virtual_dependencies">
<code class="descname">virtual_dependencies</code><span class="sig-paren">(</span><em>visited=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Package.virtual_dependencies" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.Version">
<em class="property">class </em><code class="descclassname">spack.</code><code class="descname">Version</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class to represent versions</p>
<dl class="attribute">
<dt id="spack.Version.concrete">
<code class="descname">concrete</code><a class="headerlink" href="#spack.Version.concrete" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.highest">
<code class="descname">highest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.highest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.intersection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.is_predecessor">
<code class="descname">is_predecessor</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.is_predecessor" title="Permalink to this definition"></a></dt>
<dd><p>True if the other version is the immediate predecessor of this one.
That is, NO versions v exist such that:
(self &lt; v &lt; other and v not in self).</p>
</dd></dl>

<dl class="method">
<dt id="spack.Version.is_successor">
<code class="descname">is_successor</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.is_successor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.lowest">
<code class="descname">lowest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.lowest" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.overlaps">
<code class="descname">overlaps</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.overlaps" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.satisfies">
<code class="descname">satisfies</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.satisfies" title="Permalink to this definition"></a></dt>
<dd><p>A Version &#8216;satisfies&#8217; another if it is at least as specific and has a
common prefix.  e.g., we want <a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7&#46;3">gcc<span>&#64;</span>4<span>&#46;</span>7<span>&#46;</span>3</a> to satisfy a request for
<a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7">gcc<span>&#64;</span>4<span>&#46;</span>7</a> so that when a user asks to build with <a class="reference external" href="mailto:gcc&#37;&#52;&#48;4&#46;7">gcc<span>&#64;</span>4<span>&#46;</span>7</a>, we can find
a suitable compiler.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Version.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.union" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spack.Version.up_to">
<code class="descname">up_to</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.up_to" title="Permalink to this definition"></a></dt>
<dd><p>Return a version string up to the specified component, exclusive.
e.g., if this is 10.8.2, self.up_to(2) will return &#8216;10.8&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="spack.Version.wildcard">
<code class="descname">wildcard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spack.Version.wildcard" title="Permalink to this definition"></a></dt>
<dd><p>Create a regex that will match variants of this version string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="spack.when">
<em class="property">class </em><code class="descclassname">spack.</code><code class="descname">when</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.when" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This annotation lets packages declare multiple versions of
methods like install() that depend on the package&#8217;s spec.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># Do default install</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;=chaos_5_x86_64_ib&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># This will be executed instead of the default install if</span>
        <span class="c1"># the package&#39;s sys_type() is chaos_5_x86_64_ib.</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;=bgqos_0&quot;)</span>
    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># This will be executed if the package&#39;s sys_type is bgqos_0</span>
</pre></div>
</div>
<p>This allows each package to have a default version of install() AND
specialized versions for particular platforms.  The version that is
called depends on the architecutre of the instantiated package.</p>
<p>Note that this works for methods other than install, as well.  So,
if you only have part of the install that is platform specific, you
could do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomePackage</span><span class="p">(</span><span class="n">Package</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="c1"># virtual dependence on MPI.</span>
    <span class="c1"># could resolve to mpich, mpich2, OpenMPI</span>
    <span class="n">depends_on</span><span class="p">(</span><span class="s1">&#39;mpi&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># do nothing in the default case</span>
        <span class="k">pass</span>

    <span class="nd">@when</span><span class="p">(</span><span class="s1">&#39;^openmpi&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># do something special when this is built with OpenMPI for</span>
        <span class="c1"># its MPI implementations.</span>


    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="c1"># Do common install stuff</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
        <span class="c1"># Do more common install stuff</span>
</pre></div>
</div>
<p>There must be one (and only one) &#64;when clause that matches the
package&#8217;s spec.  If there is more than one, or if none match,
then the method will raise an exception when it&#8217;s called.</p>
<p>Note that the default version of decorated methods must
<em>always</em> come first.  Otherwise it will override all of the
platform-specific versions.  There&#8217;s not much we can do to get
around this because of the way decorators work.</p>
</dd></dl>

<dl class="function">
<dt id="spack.ver">
<code class="descclassname">spack.</code><code class="descname">ver</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.ver" title="Permalink to this definition"></a></dt>
<dd><p>Parses a Version, VersionRange, or VersionList from a string
or list of strings.</p>
</dd></dl>

<dl class="function">
<dt id="spack.set_install_permissions">
<code class="descclassname">spack.</code><code class="descname">set_install_permissions</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.set_install_permissions" title="Permalink to this definition"></a></dt>
<dd><p>Set appropriate permissions on the installed file.</p>
</dd></dl>

<dl class="function">
<dt id="spack.install">
<code class="descclassname">spack.</code><code class="descname">install</code><span class="sig-paren">(</span><em>src</em>, <em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.install" title="Permalink to this definition"></a></dt>
<dd><p>Manually install a file to a particular location.</p>
</dd></dl>

<dl class="function">
<dt id="spack.install_tree">
<code class="descclassname">spack.</code><code class="descname">install_tree</code><span class="sig-paren">(</span><em>src</em>, <em>dest</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.install_tree" title="Permalink to this definition"></a></dt>
<dd><p>Manually install a file to a particular location.</p>
</dd></dl>

<dl class="function">
<dt id="spack.traverse_tree">
<code class="descclassname">spack.</code><code class="descname">traverse_tree</code><span class="sig-paren">(</span><em>source_root</em>, <em>dest_root</em>, <em>rel_path=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.traverse_tree" title="Permalink to this definition"></a></dt>
<dd><p>Traverse two filesystem trees simultaneously.</p>
<p>Walks the LinkTree directory in pre or post order.  Yields each
file in the source directory with a matching path from the dest
directory, along with whether the file is a directory.
e.g., for this tree:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>root/
  a/
    file1
    file2
  b/
    file3
</pre></div>
</div>
<p>When called on dest, this yields:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">,</span>         <span class="s1">&#39;dest&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;root/a&#39;</span><span class="p">,</span>       <span class="s1">&#39;dest/a&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;root/a/file1&#39;</span><span class="p">,</span> <span class="s1">&#39;dest/a/file1&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;root/a/file2&#39;</span><span class="p">,</span> <span class="s1">&#39;dest/a/file2&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;root/b&#39;</span><span class="p">,</span>       <span class="s1">&#39;dest/b&#39;</span><span class="p">)</span>
<span class="p">(</span><span class="s1">&#39;root/b/file3&#39;</span><span class="p">,</span> <span class="s1">&#39;dest/b/file3&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Optional args:</p>
<p>order=[pre|post] &#8211; Whether to do pre- or post-order traveral.</p>
<p>ignore=&lt;predicate&gt; &#8211; Predicate indicating which files to ignore.</p>
<dl class="docutils">
<dt>follow_nonexisting &#8211; Whether to descend into directories in</dt>
<dd>src that do not exit in dest. Default True.</dd>
</dl>
<p>follow_links &#8211; Whether to descend into symlinks in src.</p>
</dd></dl>

<dl class="function">
<dt id="spack.expand_user">
<code class="descclassname">spack.</code><code class="descname">expand_user</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.expand_user" title="Permalink to this definition"></a></dt>
<dd><p>Find instances of &#8216;%u&#8217; in a path and replace with the current user&#8217;s
username.</p>
</dd></dl>

<dl class="function">
<dt id="spack.working_dir">
<code class="descclassname">spack.</code><code class="descname">working_dir</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.working_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.touch">
<code class="descclassname">spack.</code><code class="descname">touch</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.touch" title="Permalink to this definition"></a></dt>
<dd><p>Creates an empty file at the specified path.</p>
</dd></dl>

<dl class="function">
<dt id="spack.touchp">
<code class="descclassname">spack.</code><code class="descname">touchp</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.touchp" title="Permalink to this definition"></a></dt>
<dd><p>Like touch, but creates any parent directories needed for the file.</p>
</dd></dl>

<dl class="function">
<dt id="spack.mkdirp">
<code class="descclassname">spack.</code><code class="descname">mkdirp</code><span class="sig-paren">(</span><em>*paths</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.mkdirp" title="Permalink to this definition"></a></dt>
<dd><p>Creates a directory, as well as parent directories if needed.</p>
</dd></dl>

<dl class="function">
<dt id="spack.force_remove">
<code class="descclassname">spack.</code><code class="descname">force_remove</code><span class="sig-paren">(</span><em>*paths</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.force_remove" title="Permalink to this definition"></a></dt>
<dd><p>Remove files without printing errors.  Like rm -f, does NOT
remove directories.</p>
</dd></dl>

<dl class="function">
<dt id="spack.join_path">
<code class="descclassname">spack.</code><code class="descname">join_path</code><span class="sig-paren">(</span><em>prefix</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.join_path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.ancestor">
<code class="descclassname">spack.</code><code class="descname">ancestor</code><span class="sig-paren">(</span><em>dir</em>, <em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.ancestor" title="Permalink to this definition"></a></dt>
<dd><p>Get the nth ancestor of a directory.</p>
</dd></dl>

<dl class="function">
<dt id="spack.can_access">
<code class="descclassname">spack.</code><code class="descname">can_access</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.can_access" title="Permalink to this definition"></a></dt>
<dd><p>True if we have read/write access to the file.</p>
</dd></dl>

<dl class="function">
<dt id="spack.filter_file">
<code class="descclassname">spack.</code><code class="descname">filter_file</code><span class="sig-paren">(</span><em>regex</em>, <em>repl</em>, <em>*filenames</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.filter_file" title="Permalink to this definition"></a></dt>
<dd><p>Like sed, but uses python regular expressions.</p>
<p>Filters every line of file through regex and replaces the file
with a filtered version.  Preserves mode of filtered files.</p>
<p>As with re.sub, <code class="docutils literal"><span class="pre">repl</span></code> can be either a string or a callable.
If it is a callable, it is passed the match object and should
return a suitable replacement string.  If it is a string, it
can contain <code class="docutils literal"><span class="pre"></span></code>, <code class="docutils literal"><span class="pre"></span></code>, etc. to represent back-substitution
as sed would allow.</p>
<dl class="docutils">
<dt>Keyword Options:</dt>
<dd>string[=False]         If True, treat regex as a plain string.
backup[=True]          Make a backup files suffixed with ~
ignore_absent[=False]  Ignore any files that don&#8217;t exist.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="spack.FileFilter">
<em class="property">class </em><code class="descclassname">spack.</code><code class="descname">FileFilter</code><span class="sig-paren">(</span><em>*filenames</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.FileFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Convenience class for calling filter_file a lot.</p>
<dl class="method">
<dt id="spack.FileFilter.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>regex</em>, <em>repl</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.FileFilter.filter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.change_sed_delimiter">
<code class="descclassname">spack.</code><code class="descname">change_sed_delimiter</code><span class="sig-paren">(</span><em>old_delim</em>, <em>new_delim</em>, <em>*filenames</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.change_sed_delimiter" title="Permalink to this definition"></a></dt>
<dd><p>Find all sed search/replace commands and change the delimiter.
e.g., if the file contains seds that look like &#8216;s///&#8217;, you can
call change_sed_delimeter(&#8216;/&#8217;, &#8216;&#64;&#8217;, file) to change the
delimiter to &#8216;&#64;&#8217;.</p>
<p>NOTE that this routine will fail if the delimiter is &#8216; or &#8221;.
Handling those is left for future work.</p>
</dd></dl>

<dl class="function">
<dt id="spack.is_exe">
<code class="descclassname">spack.</code><code class="descname">is_exe</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.is_exe" title="Permalink to this definition"></a></dt>
<dd><p>True if path is an executable file.</p>
</dd></dl>

<dl class="function">
<dt id="spack.force_symlink">
<code class="descclassname">spack.</code><code class="descname">force_symlink</code><span class="sig-paren">(</span><em>src</em>, <em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.force_symlink" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.set_executable">
<code class="descclassname">spack.</code><code class="descname">set_executable</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.set_executable" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.copy_mode">
<code class="descclassname">spack.</code><code class="descname">copy_mode</code><span class="sig-paren">(</span><em>src</em>, <em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.copy_mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.unset_executable_mode">
<code class="descclassname">spack.</code><code class="descname">unset_executable_mode</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.unset_executable_mode" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="spack.remove_dead_links">
<code class="descclassname">spack.</code><code class="descname">remove_dead_links</code><span class="sig-paren">(</span><em>root</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.remove_dead_links" title="Permalink to this definition"></a></dt>
<dd><p>Removes any dead link that is present in root</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>root: path where to search for dead links</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.remove_linked_tree">
<code class="descclassname">spack.</code><code class="descname">remove_linked_tree</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.remove_linked_tree" title="Permalink to this definition"></a></dt>
<dd><p>Removes a directory and its contents.  If the directory is a
symlink, follows the link and removes the real directory before
removing the link.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>path: directory to be removed</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.find_library_path">
<code class="descclassname">spack.</code><code class="descname">find_library_path</code><span class="sig-paren">(</span><em>libname</em>, <em>*paths</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.find_library_path" title="Permalink to this definition"></a></dt>
<dd><p>Searches for a file called &lt;libname&gt; in each path.</p>
<dl class="docutils">
<dt>Return:</dt>
<dd>directory where the library was found, if found.  None otherwise.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.fix_darwin_install_name">
<code class="descclassname">spack.</code><code class="descname">fix_darwin_install_name</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.fix_darwin_install_name" title="Permalink to this definition"></a></dt>
<dd><p>Fix install name of dynamic libraries on Darwin to have full path.
There are two parts of this task:
(i) use install_name(&#8216;-id&#8217;,...) to change install name of a single lib;
(ii) use install_name(&#8216;-change&#8217;,...) to change the cross linking between libs.
The function assumes that all libraries are in one folder and currently won&#8217;t
follow subfolders.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>path: directory in which .dylib files are alocated</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spack.depends_on">
<code class="descclassname">spack.</code><code class="descname">depends_on</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.depends_on" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dict of deps with specs defining when they apply.</p>
</dd></dl>

<dl class="function">
<dt id="spack.extends">
<code class="descclassname">spack.</code><code class="descname">extends</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.extends" title="Permalink to this definition"></a></dt>
<dd><p>Same as depends_on, but dependency is symlinked into parent prefix.</p>
<p>This is for Python and other language modules where the module
needs to be installed into the prefix of the Python installation.
Spack handles this by installing modules into their own prefix,
but allowing ONE module version to be symlinked into a parent
Python install at a time.</p>
<p>keyword arguments can be passed to extends() so that extension
packages can pass parameters to the extendee&#8217;s extension
mechanism.</p>
</dd></dl>

<dl class="function">
<dt id="spack.provides">
<code class="descclassname">spack.</code><code class="descname">provides</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.provides" title="Permalink to this definition"></a></dt>
<dd><p>Allows packages to provide a virtual dependency.  If a package provides
&#8216;mpi&#8217;, other packages can declare that they depend on &#8220;mpi&#8221;, and spack
can use the providing package to satisfy the dependency.</p>
</dd></dl>

<dl class="function">
<dt id="spack.patch">
<code class="descclassname">spack.</code><code class="descname">patch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.patch" title="Permalink to this definition"></a></dt>
<dd><p>Packages can declare patches to apply to source.  You can
optionally provide a when spec to indicate that a particular
patch should only be applied when the package&#8217;s spec meets
certain conditions (e.g. a particular version).</p>
</dd></dl>

<dl class="function">
<dt id="spack.version">
<code class="descclassname">spack.</code><code class="descname">version</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.version" title="Permalink to this definition"></a></dt>
<dd><p>Adds a version and metadata describing how to fetch it.
Metadata is just stored as a dict in the package&#8217;s versions
dictionary.  Package must turn it into a valid fetch strategy
later.</p>
</dd></dl>

<dl class="function">
<dt id="spack.variant">
<code class="descclassname">spack.</code><code class="descname">variant</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.variant" title="Permalink to this definition"></a></dt>
<dd><p>Define a variant for the package. Packager can specify a default
value (on or off) as well as a text description.</p>
</dd></dl>

<dl class="function">
<dt id="spack.resource">
<code class="descclassname">spack.</code><code class="descname">resource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.resource" title="Permalink to this definition"></a></dt>
<dd><p>Define an external resource to be fetched and staged when building the package. Based on the keywords present in the
dictionary the appropriate FetchStrategy will be used for the resource. Resources are fetched and staged in their
own folder inside spack stage area, and then linked into the stage area of the package that needs them.</p>
<p>List of recognized keywords:</p>
<ul class="simple">
<li>&#8216;when&#8217; : (optional) represents the condition upon which the resource is needed</li>
<li>&#8216;destination&#8217; : (optional) path where to link the resource. This path must be relative to the main package stage</li>
</ul>
<p>area.
* &#8216;placement&#8217; : (optional) gives the possibility to fine tune how the resource is linked into the main package stage
area.</p>
</dd></dl>

<dl class="class">
<dt id="spack.Executable">
<em class="property">class </em><code class="descclassname">spack.</code><code class="descname">Executable</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Executable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class representing a program that can be run on the command line.</p>
<dl class="method">
<dt id="spack.Executable.add_default_arg">
<code class="descname">add_default_arg</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.Executable.add_default_arg" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="spack.Executable.command">
<code class="descname">command</code><a class="headerlink" href="#spack.Executable.command" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.which">
<code class="descclassname">spack.</code><code class="descname">which</code><span class="sig-paren">(</span><em>name</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.which" title="Permalink to this definition"></a></dt>
<dd><p>Finds an executable in the path like command-line which.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.ProcessError">
<em class="property">exception </em><code class="descclassname">spack.</code><code class="descname">ProcessError</code><span class="sig-paren">(</span><em>msg</em>, <em>long_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.ProcessError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<dl class="attribute">
<dt id="spack.ProcessError.long_message">
<code class="descname">long_message</code><a class="headerlink" href="#spack.ProcessError.long_message" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="spack.install_dependency_symlinks">
<code class="descclassname">spack.</code><code class="descname">install_dependency_symlinks</code><span class="sig-paren">(</span><em>pkg</em>, <em>spec</em>, <em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.install_dependency_symlinks" title="Permalink to this definition"></a></dt>
<dd><p>Execute a dummy install and flatten dependencies</p>
</dd></dl>

<dl class="function">
<dt id="spack.flatten_dependencies">
<code class="descclassname">spack.</code><code class="descname">flatten_dependencies</code><span class="sig-paren">(</span><em>spec</em>, <em>flat_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.flatten_dependencies" title="Permalink to this definition"></a></dt>
<dd><p>Make each dependency of spec present in dir via symlink.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.DependencyConflictError">
<em class="property">exception </em><code class="descclassname">spack.</code><code class="descname">DependencyConflictError</code><span class="sig-paren">(</span><em>conflict</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.DependencyConflictError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when the dependencies cannot be flattened as asked for.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.InstallError">
<em class="property">exception </em><code class="descclassname">spack.</code><code class="descname">InstallError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.InstallError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.error.SpackError" title="spack.error.SpackError"><code class="xref py py-class docutils literal"><span class="pre">spack.error.SpackError</span></code></a></p>
<p>Raised when something goes wrong during install or uninstall.</p>
</dd></dl>

<dl class="exception">
<dt id="spack.ExternalPackageError">
<em class="property">exception </em><code class="descclassname">spack.</code><code class="descname">ExternalPackageError</code><span class="sig-paren">(</span><em>message</em>, <em>long_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spack.ExternalPackageError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#spack.package.InstallError" title="spack.package.InstallError"><code class="xref py py-class docutils literal"><span class="pre">spack.package.InstallError</span></code></a></p>
<p>Raised by install() when a package is only for external use.</p>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spack.cmd.html" class="btn btn-neutral float-right" title="spack.cmd package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="package_list.html" class="btn btn-neutral" title="Package List" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2015, Lawrence Livermore National Laboratory..

    <br/>
    Written by Todd Gamblin (<a href="mailto:tgamblin@llnl.gov">tgamblin@llnl.gov</a>) and
    many contributors. LLNL-CODE-647188.
      <br/>
      Last updated on May 10, 2016.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>